var Vv=t=>{throw TypeError(t)};var Bh=(t,e,n)=>e.has(t)||Vv("Cannot "+n);var z=(t,e,n)=>(Bh(t,e,"read from private field"),n?n.call(t):e.get(t)),ye=(t,e,n)=>e.has(t)?Vv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),oe=(t,e,n,r)=>(Bh(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),dt=(t,e,n)=>(Bh(t,e,"access private method"),n);var hc=(t,e,n,r)=>({set _(i){oe(t,e,i,n)},get _(){return z(t,e,r)}});function LR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function SE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var AE={exports:{}},wd={},RE={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Al=Symbol.for("react.element"),VR=Symbol.for("react.portal"),jR=Symbol.for("react.fragment"),FR=Symbol.for("react.strict_mode"),UR=Symbol.for("react.profiler"),$R=Symbol.for("react.provider"),zR=Symbol.for("react.context"),BR=Symbol.for("react.forward_ref"),HR=Symbol.for("react.suspense"),qR=Symbol.for("react.memo"),WR=Symbol.for("react.lazy"),jv=Symbol.iterator;function KR(t){return t===null||typeof t!="object"?null:(t=jv&&t[jv]||t["@@iterator"],typeof t=="function"?t:null)}var PE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bE=Object.assign,kE={};function Do(t,e,n){this.props=t,this.context=e,this.refs=kE,this.updater=n||PE}Do.prototype.isReactComponent={};Do.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Do.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function NE(){}NE.prototype=Do.prototype;function Tm(t,e,n){this.props=t,this.context=e,this.refs=kE,this.updater=n||PE}var xm=Tm.prototype=new NE;xm.constructor=Tm;bE(xm,Do.prototype);xm.isPureReactComponent=!0;var Fv=Array.isArray,DE=Object.prototype.hasOwnProperty,Im={current:null},OE={key:!0,ref:!0,__self:!0,__source:!0};function ME(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)DE.call(e,r)&&!OE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Al,type:t,key:s,ref:o,props:i,_owner:Im.current}}function GR(t,e){return{$$typeof:Al,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Cm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Al}function QR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Uv=/\/+/g;function Hh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?QR(""+t.key):e.toString(36)}function Hc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Al:case VR:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Hh(o,0):r,Fv(i)?(n="",t!=null&&(n=t.replace(Uv,"$&/")+"/"),Hc(i,e,n,"",function(u){return u})):i!=null&&(Cm(i)&&(i=GR(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Uv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Fv(t))for(var a=0;a<t.length;a++){s=t[a];var c=r+Hh(s,a);o+=Hc(s,e,n,c,i)}else if(c=KR(t),typeof c=="function")for(t=c.call(t),a=0;!(s=t.next()).done;)s=s.value,c=r+Hh(s,a++),o+=Hc(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function fc(t,e,n){if(t==null)return t;var r=[],i=0;return Hc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function YR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var bt={current:null},qc={transition:null},XR={ReactCurrentDispatcher:bt,ReactCurrentBatchConfig:qc,ReactCurrentOwner:Im};function LE(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:fc,forEach:function(t,e,n){fc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return fc(t,function(){e++}),e},toArray:function(t){return fc(t,function(e){return e})||[]},only:function(t){if(!Cm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};le.Component=Do;le.Fragment=jR;le.Profiler=UR;le.PureComponent=Tm;le.StrictMode=FR;le.Suspense=HR;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XR;le.act=LE;le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=bE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Im.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)DE.call(e,c)&&!OE.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Al,type:t.type,key:i,ref:s,props:r,_owner:o}};le.createContext=function(t){return t={$$typeof:zR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$R,_context:t},t.Consumer=t};le.createElement=ME;le.createFactory=function(t){var e=ME.bind(null,t);return e.type=t,e};le.createRef=function(){return{current:null}};le.forwardRef=function(t){return{$$typeof:BR,render:t}};le.isValidElement=Cm;le.lazy=function(t){return{$$typeof:WR,_payload:{_status:-1,_result:t},_init:YR}};le.memo=function(t,e){return{$$typeof:qR,type:t,compare:e===void 0?null:e}};le.startTransition=function(t){var e=qc.transition;qc.transition={};try{t()}finally{qc.transition=e}};le.unstable_act=LE;le.useCallback=function(t,e){return bt.current.useCallback(t,e)};le.useContext=function(t){return bt.current.useContext(t)};le.useDebugValue=function(){};le.useDeferredValue=function(t){return bt.current.useDeferredValue(t)};le.useEffect=function(t,e){return bt.current.useEffect(t,e)};le.useId=function(){return bt.current.useId()};le.useImperativeHandle=function(t,e,n){return bt.current.useImperativeHandle(t,e,n)};le.useInsertionEffect=function(t,e){return bt.current.useInsertionEffect(t,e)};le.useLayoutEffect=function(t,e){return bt.current.useLayoutEffect(t,e)};le.useMemo=function(t,e){return bt.current.useMemo(t,e)};le.useReducer=function(t,e,n){return bt.current.useReducer(t,e,n)};le.useRef=function(t){return bt.current.useRef(t)};le.useState=function(t){return bt.current.useState(t)};le.useSyncExternalStore=function(t,e,n){return bt.current.useSyncExternalStore(t,e,n)};le.useTransition=function(){return bt.current.useTransition()};le.version="18.3.1";RE.exports=le;var E=RE.exports;const Rr=SE(E),VE=LR({__proto__:null,default:Rr},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JR=E,ZR=Symbol.for("react.element"),eP=Symbol.for("react.fragment"),tP=Object.prototype.hasOwnProperty,nP=JR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rP={key:!0,ref:!0,__self:!0,__source:!0};function jE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)tP.call(e,r)&&!rP.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:ZR,type:t,key:s,ref:o,props:i,_owner:nP.current}}wd.Fragment=eP;wd.jsx=jE;wd.jsxs=jE;AE.exports=wd;var m=AE.exports,FE={exports:{}},Xt={},UE={exports:{}},$E={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,q){var Y=F.length;F.push(q);e:for(;0<Y;){var se=Y-1>>>1,fe=F[se];if(0<i(fe,q))F[se]=q,F[Y]=fe,Y=se;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var q=F[0],Y=F.pop();if(Y!==q){F[0]=Y;e:for(var se=0,fe=F.length,we=fe>>>1;se<we;){var Nt=2*(se+1)-1,ln=F[Nt],cn=Nt+1,Zt=F[cn];if(0>i(ln,Y))cn<fe&&0>i(Zt,ln)?(F[se]=Zt,F[cn]=Y,se=cn):(F[se]=ln,F[Nt]=Y,se=Nt);else if(cn<fe&&0>i(Zt,Y))F[se]=Zt,F[cn]=Y,se=cn;else break e}}return q}function i(F,q){var Y=F.sortIndex-q.sortIndex;return Y!==0?Y:F.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,f=null,p=3,w=!1,I=!1,y=!1,T=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(F){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=F)r(u),q.sortIndex=q.expirationTime,e(c,q);else break;q=n(u)}}function k(F){if(y=!1,C(F),!I)if(n(c)!==null)I=!0,G(O);else{var q=n(u);q!==null&&Z(k,q.startTime-F)}}function O(F,q){I=!1,y&&(y=!1,v(x),x=-1),w=!0;var Y=p;try{for(C(q),f=n(c);f!==null&&(!(f.expirationTime>q)||F&&!N());){var se=f.callback;if(typeof se=="function"){f.callback=null,p=f.priorityLevel;var fe=se(f.expirationTime<=q);q=t.unstable_now(),typeof fe=="function"?f.callback=fe:f===n(c)&&r(c),C(q)}else r(c);f=n(c)}if(f!==null)var we=!0;else{var Nt=n(u);Nt!==null&&Z(k,Nt.startTime-q),we=!1}return we}finally{f=null,p=Y,w=!1}}var V=!1,A=null,x=-1,R=5,P=-1;function N(){return!(t.unstable_now()-P<R)}function D(){if(A!==null){var F=t.unstable_now();P=F;var q=!0;try{q=A(!0,F)}finally{q?b():(V=!1,A=null)}}else V=!1}var b;if(typeof _=="function")b=function(){_(D)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,X=M.port2;M.port1.onmessage=D,b=function(){X.postMessage(null)}}else b=function(){T(D,0)};function G(F){A=F,V||(V=!0,b())}function Z(F,q){x=T(function(){F(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){I||w||(I=!0,G(O))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(F){switch(p){case 1:case 2:case 3:var q=3;break;default:q=p}var Y=p;p=q;try{return F()}finally{p=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,q){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Y=p;p=F;try{return q()}finally{p=Y}},t.unstable_scheduleCallback=function(F,q,Y){var se=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?se+Y:se):Y=se,F){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=Y+fe,F={id:d++,callback:q,priorityLevel:F,startTime:Y,expirationTime:fe,sortIndex:-1},Y>se?(F.sortIndex=Y,e(u,F),n(c)===null&&F===n(u)&&(y?(v(x),x=-1):y=!0,Z(k,Y-se))):(F.sortIndex=fe,e(c,F),I||w||(I=!0,G(O))),F},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(F){var q=p;return function(){var Y=p;p=q;try{return F.apply(this,arguments)}finally{p=Y}}}})($E);UE.exports=$E;var iP=UE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sP=E,Qt=iP;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zE=new Set,qa={};function ls(t,e){fo(t,e),fo(t+"Capture",e)}function fo(t,e){for(qa[t]=e,t=0;t<e.length;t++)zE.add(e[t])}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hf=Object.prototype.hasOwnProperty,oP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$v={},zv={};function aP(t){return Hf.call(zv,t)?!0:Hf.call($v,t)?!1:oP.test(t)?zv[t]=!0:($v[t]=!0,!1)}function lP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function cP(t,e,n,r){if(e===null||typeof e>"u"||lP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function kt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var st={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){st[t]=new kt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];st[e]=new kt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){st[t]=new kt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){st[t]=new kt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){st[t]=new kt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){st[t]=new kt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){st[t]=new kt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){st[t]=new kt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){st[t]=new kt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sm=/[\-:]([a-z])/g;function Am(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sm,Am);st[e]=new kt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sm,Am);st[e]=new kt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sm,Am);st[e]=new kt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){st[t]=new kt(t,1,!1,t.toLowerCase(),null,!1,!1)});st.xlinkHref=new kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){st[t]=new kt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Rm(t,e,n,r){var i=st.hasOwnProperty(e)?st[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(cP(e,n,i,r)&&(n=null),r||i===null?aP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var _r=sP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pc=Symbol.for("react.element"),bs=Symbol.for("react.portal"),ks=Symbol.for("react.fragment"),Pm=Symbol.for("react.strict_mode"),qf=Symbol.for("react.profiler"),BE=Symbol.for("react.provider"),HE=Symbol.for("react.context"),bm=Symbol.for("react.forward_ref"),Wf=Symbol.for("react.suspense"),Kf=Symbol.for("react.suspense_list"),km=Symbol.for("react.memo"),Nr=Symbol.for("react.lazy"),qE=Symbol.for("react.offscreen"),Bv=Symbol.iterator;function la(t){return t===null||typeof t!="object"?null:(t=Bv&&t[Bv]||t["@@iterator"],typeof t=="function"?t:null)}var De=Object.assign,qh;function va(t){if(qh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);qh=e&&e[1]||""}return`
`+qh+t}var Wh=!1;function Kh(t,e){if(!t||Wh)return"";Wh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Wh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?va(t):""}function uP(t){switch(t.tag){case 5:return va(t.type);case 16:return va("Lazy");case 13:return va("Suspense");case 19:return va("SuspenseList");case 0:case 2:case 15:return t=Kh(t.type,!1),t;case 11:return t=Kh(t.type.render,!1),t;case 1:return t=Kh(t.type,!0),t;default:return""}}function Gf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ks:return"Fragment";case bs:return"Portal";case qf:return"Profiler";case Pm:return"StrictMode";case Wf:return"Suspense";case Kf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case HE:return(t.displayName||"Context")+".Consumer";case BE:return(t._context.displayName||"Context")+".Provider";case bm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case km:return e=t.displayName||null,e!==null?e:Gf(t.type)||"Memo";case Nr:e=t._payload,t=t._init;try{return Gf(t(e))}catch{}}return null}function dP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gf(e);case 8:return e===Pm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ui(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function WE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hP(t){var e=WE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function mc(t){t._valueTracker||(t._valueTracker=hP(t))}function KE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=WE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Tu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Qf(t,e){var n=e.checked;return De({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Hv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ui(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function GE(t,e){e=e.checked,e!=null&&Rm(t,"checked",e,!1)}function Yf(t,e){GE(t,e);var n=ui(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Xf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Xf(t,e.type,ui(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function qv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Xf(t,e,n){(e!=="number"||Tu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _a=Array.isArray;function Bs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ui(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Jf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return De({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(_a(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ui(n)}}function QE(t,e){var n=ui(e.value),r=ui(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Kv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function YE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?YE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var gc,XE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(gc=gc||document.createElement("div"),gc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=gc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ra={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fP=["Webkit","ms","Moz","O"];Object.keys(Ra).forEach(function(t){fP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ra[e]=Ra[t]})});function JE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ra.hasOwnProperty(t)&&Ra[t]?(""+e).trim():e+"px"}function ZE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=JE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var pP=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ep(t,e){if(e){if(pP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function tp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var np=null;function Nm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rp=null,Hs=null,qs=null;function Gv(t){if(t=bl(t)){if(typeof rp!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Cd(e),rp(t.stateNode,t.type,e))}}function e1(t){Hs?qs?qs.push(t):qs=[t]:Hs=t}function t1(){if(Hs){var t=Hs,e=qs;if(qs=Hs=null,Gv(t),e)for(t=0;t<e.length;t++)Gv(e[t])}}function n1(t,e){return t(e)}function r1(){}var Gh=!1;function i1(t,e,n){if(Gh)return t(e,n);Gh=!0;try{return n1(t,e,n)}finally{Gh=!1,(Hs!==null||qs!==null)&&(r1(),t1())}}function Ka(t,e){var n=t.stateNode;if(n===null)return null;var r=Cd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var ip=!1;if(ar)try{var ca={};Object.defineProperty(ca,"passive",{get:function(){ip=!0}}),window.addEventListener("test",ca,ca),window.removeEventListener("test",ca,ca)}catch{ip=!1}function mP(t,e,n,r,i,s,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Pa=!1,xu=null,Iu=!1,sp=null,gP={onError:function(t){Pa=!0,xu=t}};function yP(t,e,n,r,i,s,o,a,c){Pa=!1,xu=null,mP.apply(gP,arguments)}function vP(t,e,n,r,i,s,o,a,c){if(yP.apply(this,arguments),Pa){if(Pa){var u=xu;Pa=!1,xu=null}else throw Error(B(198));Iu||(Iu=!0,sp=u)}}function cs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function s1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Qv(t){if(cs(t)!==t)throw Error(B(188))}function _P(t){var e=t.alternate;if(!e){if(e=cs(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Qv(i),t;if(s===r)return Qv(i),e;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function o1(t){return t=_P(t),t!==null?a1(t):null}function a1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=a1(t);if(e!==null)return e;t=t.sibling}return null}var l1=Qt.unstable_scheduleCallback,Yv=Qt.unstable_cancelCallback,wP=Qt.unstable_shouldYield,EP=Qt.unstable_requestPaint,Fe=Qt.unstable_now,TP=Qt.unstable_getCurrentPriorityLevel,Dm=Qt.unstable_ImmediatePriority,c1=Qt.unstable_UserBlockingPriority,Cu=Qt.unstable_NormalPriority,xP=Qt.unstable_LowPriority,u1=Qt.unstable_IdlePriority,Ed=null,Vn=null;function IP(t){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(Ed,t,void 0,(t.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:AP,CP=Math.log,SP=Math.LN2;function AP(t){return t>>>=0,t===0?32:31-(CP(t)/SP|0)|0}var yc=64,vc=4194304;function wa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Su(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=wa(a):(s&=o,s!==0&&(r=wa(s)))}else o=n&~i,o!==0?r=wa(o):s!==0&&(r=wa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_n(e),i=1<<n,r|=t[n],e&=~i;return r}function RP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function PP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-_n(s),a=1<<o,c=i[o];c===-1?(!(a&n)||a&r)&&(i[o]=RP(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}}function op(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function d1(){var t=yc;return yc<<=1,!(yc&4194240)&&(yc=64),t}function Qh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Rl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_n(e),t[e]=n}function bP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-_n(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Om(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_n(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var _e=0;function h1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var f1,Mm,p1,m1,g1,ap=!1,_c=[],Yr=null,Xr=null,Jr=null,Ga=new Map,Qa=new Map,Or=[],kP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xv(t,e){switch(t){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":Ga.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qa.delete(e.pointerId)}}function ua(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=bl(e),e!==null&&Mm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function NP(t,e,n,r,i){switch(e){case"focusin":return Yr=ua(Yr,t,e,n,r,i),!0;case"dragenter":return Xr=ua(Xr,t,e,n,r,i),!0;case"mouseover":return Jr=ua(Jr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ga.set(s,ua(Ga.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Qa.set(s,ua(Qa.get(s)||null,t,e,n,r,i)),!0}return!1}function y1(t){var e=ji(t.target);if(e!==null){var n=cs(e);if(n!==null){if(e=n.tag,e===13){if(e=s1(n),e!==null){t.blockedOn=e,g1(t.priority,function(){p1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=lp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);np=r,n.target.dispatchEvent(r),np=null}else return e=bl(n),e!==null&&Mm(e),t.blockedOn=n,!1;e.shift()}return!0}function Jv(t,e,n){Wc(t)&&n.delete(e)}function DP(){ap=!1,Yr!==null&&Wc(Yr)&&(Yr=null),Xr!==null&&Wc(Xr)&&(Xr=null),Jr!==null&&Wc(Jr)&&(Jr=null),Ga.forEach(Jv),Qa.forEach(Jv)}function da(t,e){t.blockedOn===e&&(t.blockedOn=null,ap||(ap=!0,Qt.unstable_scheduleCallback(Qt.unstable_NormalPriority,DP)))}function Ya(t){function e(i){return da(i,t)}if(0<_c.length){da(_c[0],t);for(var n=1;n<_c.length;n++){var r=_c[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Yr!==null&&da(Yr,t),Xr!==null&&da(Xr,t),Jr!==null&&da(Jr,t),Ga.forEach(e),Qa.forEach(e),n=0;n<Or.length;n++)r=Or[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Or.length&&(n=Or[0],n.blockedOn===null);)y1(n),n.blockedOn===null&&Or.shift()}var Ws=_r.ReactCurrentBatchConfig,Au=!0;function OP(t,e,n,r){var i=_e,s=Ws.transition;Ws.transition=null;try{_e=1,Lm(t,e,n,r)}finally{_e=i,Ws.transition=s}}function MP(t,e,n,r){var i=_e,s=Ws.transition;Ws.transition=null;try{_e=4,Lm(t,e,n,r)}finally{_e=i,Ws.transition=s}}function Lm(t,e,n,r){if(Au){var i=lp(t,e,n,r);if(i===null)of(t,e,r,Ru,n),Xv(t,r);else if(NP(i,t,e,n,r))r.stopPropagation();else if(Xv(t,r),e&4&&-1<kP.indexOf(t)){for(;i!==null;){var s=bl(i);if(s!==null&&f1(s),s=lp(t,e,n,r),s===null&&of(t,e,r,Ru,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else of(t,e,r,null,n)}}var Ru=null;function lp(t,e,n,r){if(Ru=null,t=Nm(r),t=ji(t),t!==null)if(e=cs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=s1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ru=t,null}function v1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(TP()){case Dm:return 1;case c1:return 4;case Cu:case xP:return 16;case u1:return 536870912;default:return 16}default:return 16}}var Wr=null,Vm=null,Kc=null;function _1(){if(Kc)return Kc;var t,e=Vm,n=e.length,r,i="value"in Wr?Wr.value:Wr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Kc=i.slice(t,1<r?1-r:void 0)}function Gc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wc(){return!0}function Zv(){return!1}function Jt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?wc:Zv,this.isPropagationStopped=Zv,this}return De(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wc)},persist:function(){},isPersistent:wc}),e}var Oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jm=Jt(Oo),Pl=De({},Oo,{view:0,detail:0}),LP=Jt(Pl),Yh,Xh,ha,Td=De({},Pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ha&&(ha&&t.type==="mousemove"?(Yh=t.screenX-ha.screenX,Xh=t.screenY-ha.screenY):Xh=Yh=0,ha=t),Yh)},movementY:function(t){return"movementY"in t?t.movementY:Xh}}),e0=Jt(Td),VP=De({},Td,{dataTransfer:0}),jP=Jt(VP),FP=De({},Pl,{relatedTarget:0}),Jh=Jt(FP),UP=De({},Oo,{animationName:0,elapsedTime:0,pseudoElement:0}),$P=Jt(UP),zP=De({},Oo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),BP=Jt(zP),HP=De({},Oo,{data:0}),t0=Jt(HP),qP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=KP[t])?!!e[t]:!1}function Fm(){return GP}var QP=De({},Pl,{key:function(t){if(t.key){var e=qP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Gc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?WP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fm,charCode:function(t){return t.type==="keypress"?Gc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),YP=Jt(QP),XP=De({},Td,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),n0=Jt(XP),JP=De({},Pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fm}),ZP=Jt(JP),eb=De({},Oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),tb=Jt(eb),nb=De({},Td,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rb=Jt(nb),ib=[9,13,27,32],Um=ar&&"CompositionEvent"in window,ba=null;ar&&"documentMode"in document&&(ba=document.documentMode);var sb=ar&&"TextEvent"in window&&!ba,w1=ar&&(!Um||ba&&8<ba&&11>=ba),r0=" ",i0=!1;function E1(t,e){switch(t){case"keyup":return ib.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function T1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ns=!1;function ob(t,e){switch(t){case"compositionend":return T1(e);case"keypress":return e.which!==32?null:(i0=!0,r0);case"textInput":return t=e.data,t===r0&&i0?null:t;default:return null}}function ab(t,e){if(Ns)return t==="compositionend"||!Um&&E1(t,e)?(t=_1(),Kc=Vm=Wr=null,Ns=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return w1&&e.locale!=="ko"?null:e.data;default:return null}}var lb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function s0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!lb[t.type]:e==="textarea"}function x1(t,e,n,r){e1(r),e=Pu(e,"onChange"),0<e.length&&(n=new jm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ka=null,Xa=null;function cb(t){O1(t,0)}function xd(t){var e=Ms(t);if(KE(e))return t}function ub(t,e){if(t==="change")return e}var I1=!1;if(ar){var Zh;if(ar){var ef="oninput"in document;if(!ef){var o0=document.createElement("div");o0.setAttribute("oninput","return;"),ef=typeof o0.oninput=="function"}Zh=ef}else Zh=!1;I1=Zh&&(!document.documentMode||9<document.documentMode)}function a0(){ka&&(ka.detachEvent("onpropertychange",C1),Xa=ka=null)}function C1(t){if(t.propertyName==="value"&&xd(Xa)){var e=[];x1(e,Xa,t,Nm(t)),i1(cb,e)}}function db(t,e,n){t==="focusin"?(a0(),ka=e,Xa=n,ka.attachEvent("onpropertychange",C1)):t==="focusout"&&a0()}function hb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xd(Xa)}function fb(t,e){if(t==="click")return xd(e)}function pb(t,e){if(t==="input"||t==="change")return xd(e)}function mb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xn=typeof Object.is=="function"?Object.is:mb;function Ja(t,e){if(xn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Hf.call(e,i)||!xn(t[i],e[i]))return!1}return!0}function l0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function c0(t,e){var n=l0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=l0(n)}}function S1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?S1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function A1(){for(var t=window,e=Tu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Tu(t.document)}return e}function $m(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function gb(t){var e=A1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&S1(n.ownerDocument.documentElement,n)){if(r!==null&&$m(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=c0(n,s);var o=c0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yb=ar&&"documentMode"in document&&11>=document.documentMode,Ds=null,cp=null,Na=null,up=!1;function u0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;up||Ds==null||Ds!==Tu(r)||(r=Ds,"selectionStart"in r&&$m(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Na&&Ja(Na,r)||(Na=r,r=Pu(cp,"onSelect"),0<r.length&&(e=new jm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ds)))}function Ec(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Os={animationend:Ec("Animation","AnimationEnd"),animationiteration:Ec("Animation","AnimationIteration"),animationstart:Ec("Animation","AnimationStart"),transitionend:Ec("Transition","TransitionEnd")},tf={},R1={};ar&&(R1=document.createElement("div").style,"AnimationEvent"in window||(delete Os.animationend.animation,delete Os.animationiteration.animation,delete Os.animationstart.animation),"TransitionEvent"in window||delete Os.transitionend.transition);function Id(t){if(tf[t])return tf[t];if(!Os[t])return t;var e=Os[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in R1)return tf[t]=e[n];return t}var P1=Id("animationend"),b1=Id("animationiteration"),k1=Id("animationstart"),N1=Id("transitionend"),D1=new Map,d0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ti(t,e){D1.set(t,e),ls(e,[t])}for(var nf=0;nf<d0.length;nf++){var rf=d0[nf],vb=rf.toLowerCase(),_b=rf[0].toUpperCase()+rf.slice(1);Ti(vb,"on"+_b)}Ti(P1,"onAnimationEnd");Ti(b1,"onAnimationIteration");Ti(k1,"onAnimationStart");Ti("dblclick","onDoubleClick");Ti("focusin","onFocus");Ti("focusout","onBlur");Ti(N1,"onTransitionEnd");fo("onMouseEnter",["mouseout","mouseover"]);fo("onMouseLeave",["mouseout","mouseover"]);fo("onPointerEnter",["pointerout","pointerover"]);fo("onPointerLeave",["pointerout","pointerover"]);ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ls("onBeforeInput",["compositionend","keypress","textInput","paste"]);ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ea));function h0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,vP(r,e,void 0,t),t.currentTarget=null}function O1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;h0(i,a,u),s=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;h0(i,a,u),s=c}}}if(Iu)throw t=sp,Iu=!1,sp=null,t}function Se(t,e){var n=e[mp];n===void 0&&(n=e[mp]=new Set);var r=t+"__bubble";n.has(r)||(M1(e,t,2,!1),n.add(r))}function sf(t,e,n){var r=0;e&&(r|=4),M1(n,t,r,e)}var Tc="_reactListening"+Math.random().toString(36).slice(2);function Za(t){if(!t[Tc]){t[Tc]=!0,zE.forEach(function(n){n!=="selectionchange"&&(wb.has(n)||sf(n,!1,t),sf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Tc]||(e[Tc]=!0,sf("selectionchange",!1,e))}}function M1(t,e,n,r){switch(v1(e)){case 1:var i=OP;break;case 4:i=MP;break;default:i=Lm}n=i.bind(null,e,n,t),i=void 0,!ip||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function of(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ji(a),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}a=a.parentNode}}r=r.return}i1(function(){var u=s,d=Nm(n),f=[];e:{var p=D1.get(t);if(p!==void 0){var w=jm,I=t;switch(t){case"keypress":if(Gc(n)===0)break e;case"keydown":case"keyup":w=YP;break;case"focusin":I="focus",w=Jh;break;case"focusout":I="blur",w=Jh;break;case"beforeblur":case"afterblur":w=Jh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=e0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=jP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=ZP;break;case P1:case b1:case k1:w=$P;break;case N1:w=tb;break;case"scroll":w=LP;break;case"wheel":w=rb;break;case"copy":case"cut":case"paste":w=BP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=n0}var y=(e&4)!==0,T=!y&&t==="scroll",v=y?p!==null?p+"Capture":null:p;y=[];for(var _=u,C;_!==null;){C=_;var k=C.stateNode;if(C.tag===5&&k!==null&&(C=k,v!==null&&(k=Ka(_,v),k!=null&&y.push(el(_,k,C)))),T)break;_=_.return}0<y.length&&(p=new w(p,I,null,n,d),f.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",p&&n!==np&&(I=n.relatedTarget||n.fromElement)&&(ji(I)||I[lr]))break e;if((w||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,w?(I=n.relatedTarget||n.toElement,w=u,I=I?ji(I):null,I!==null&&(T=cs(I),I!==T||I.tag!==5&&I.tag!==6)&&(I=null)):(w=null,I=u),w!==I)){if(y=e0,k="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(y=n0,k="onPointerLeave",v="onPointerEnter",_="pointer"),T=w==null?p:Ms(w),C=I==null?p:Ms(I),p=new y(k,_+"leave",w,n,d),p.target=T,p.relatedTarget=C,k=null,ji(d)===u&&(y=new y(v,_+"enter",I,n,d),y.target=C,y.relatedTarget=T,k=y),T=k,w&&I)t:{for(y=w,v=I,_=0,C=y;C;C=Ts(C))_++;for(C=0,k=v;k;k=Ts(k))C++;for(;0<_-C;)y=Ts(y),_--;for(;0<C-_;)v=Ts(v),C--;for(;_--;){if(y===v||v!==null&&y===v.alternate)break t;y=Ts(y),v=Ts(v)}y=null}else y=null;w!==null&&f0(f,p,w,y,!1),I!==null&&T!==null&&f0(f,T,I,y,!0)}}e:{if(p=u?Ms(u):window,w=p.nodeName&&p.nodeName.toLowerCase(),w==="select"||w==="input"&&p.type==="file")var O=ub;else if(s0(p))if(I1)O=pb;else{O=hb;var V=db}else(w=p.nodeName)&&w.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=fb);if(O&&(O=O(t,u))){x1(f,O,n,d);break e}V&&V(t,p,u),t==="focusout"&&(V=p._wrapperState)&&V.controlled&&p.type==="number"&&Xf(p,"number",p.value)}switch(V=u?Ms(u):window,t){case"focusin":(s0(V)||V.contentEditable==="true")&&(Ds=V,cp=u,Na=null);break;case"focusout":Na=cp=Ds=null;break;case"mousedown":up=!0;break;case"contextmenu":case"mouseup":case"dragend":up=!1,u0(f,n,d);break;case"selectionchange":if(yb)break;case"keydown":case"keyup":u0(f,n,d)}var A;if(Um)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Ns?E1(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(w1&&n.locale!=="ko"&&(Ns||x!=="onCompositionStart"?x==="onCompositionEnd"&&Ns&&(A=_1()):(Wr=d,Vm="value"in Wr?Wr.value:Wr.textContent,Ns=!0)),V=Pu(u,x),0<V.length&&(x=new t0(x,t,null,n,d),f.push({event:x,listeners:V}),A?x.data=A:(A=T1(n),A!==null&&(x.data=A)))),(A=sb?ob(t,n):ab(t,n))&&(u=Pu(u,"onBeforeInput"),0<u.length&&(d=new t0("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=A))}O1(f,e)})}function el(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Pu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ka(t,n),s!=null&&r.unshift(el(t,s,i)),s=Ka(t,e),s!=null&&r.push(el(t,s,i))),t=t.return}return r}function Ts(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function f0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,i?(c=Ka(n,s),c!=null&&o.unshift(el(n,c,a))):i||(c=Ka(n,s),c!=null&&o.push(el(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Eb=/\r\n?/g,Tb=/\u0000|\uFFFD/g;function p0(t){return(typeof t=="string"?t:""+t).replace(Eb,`
`).replace(Tb,"")}function xc(t,e,n){if(e=p0(e),p0(t)!==e&&n)throw Error(B(425))}function bu(){}var dp=null,hp=null;function fp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var pp=typeof setTimeout=="function"?setTimeout:void 0,xb=typeof clearTimeout=="function"?clearTimeout:void 0,m0=typeof Promise=="function"?Promise:void 0,Ib=typeof queueMicrotask=="function"?queueMicrotask:typeof m0<"u"?function(t){return m0.resolve(null).then(t).catch(Cb)}:pp;function Cb(t){setTimeout(function(){throw t})}function af(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ya(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ya(e)}function Zr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function g0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Mo=Math.random().toString(36).slice(2),Mn="__reactFiber$"+Mo,tl="__reactProps$"+Mo,lr="__reactContainer$"+Mo,mp="__reactEvents$"+Mo,Sb="__reactListeners$"+Mo,Ab="__reactHandles$"+Mo;function ji(t){var e=t[Mn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[lr]||n[Mn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=g0(t);t!==null;){if(n=t[Mn])return n;t=g0(t)}return e}t=n,n=t.parentNode}return null}function bl(t){return t=t[Mn]||t[lr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ms(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Cd(t){return t[tl]||null}var gp=[],Ls=-1;function xi(t){return{current:t}}function Re(t){0>Ls||(t.current=gp[Ls],gp[Ls]=null,Ls--)}function xe(t,e){Ls++,gp[Ls]=t.current,t.current=e}var di={},_t=xi(di),jt=xi(!1),Gi=di;function po(t,e){var n=t.type.contextTypes;if(!n)return di;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ft(t){return t=t.childContextTypes,t!=null}function ku(){Re(jt),Re(_t)}function y0(t,e,n){if(_t.current!==di)throw Error(B(168));xe(_t,e),xe(jt,n)}function L1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,dP(t)||"Unknown",i));return De({},n,r)}function Nu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||di,Gi=_t.current,xe(_t,t),xe(jt,jt.current),!0}function v0(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=L1(t,e,Gi),r.__reactInternalMemoizedMergedChildContext=t,Re(jt),Re(_t),xe(_t,t)):Re(jt),xe(jt,n)}var er=null,Sd=!1,lf=!1;function V1(t){er===null?er=[t]:er.push(t)}function Rb(t){Sd=!0,V1(t)}function Ii(){if(!lf&&er!==null){lf=!0;var t=0,e=_e;try{var n=er;for(_e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}er=null,Sd=!1}catch(i){throw er!==null&&(er=er.slice(t+1)),l1(Dm,Ii),i}finally{_e=e,lf=!1}}return null}var Vs=[],js=0,Du=null,Ou=0,tn=[],nn=0,Qi=null,tr=1,nr="";function Mi(t,e){Vs[js++]=Ou,Vs[js++]=Du,Du=t,Ou=e}function j1(t,e,n){tn[nn++]=tr,tn[nn++]=nr,tn[nn++]=Qi,Qi=t;var r=tr;t=nr;var i=32-_n(r)-1;r&=~(1<<i),n+=1;var s=32-_n(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,tr=1<<32-_n(e)+i|n<<i|r,nr=s+t}else tr=1<<s|n<<i|r,nr=t}function zm(t){t.return!==null&&(Mi(t,1),j1(t,1,0))}function Bm(t){for(;t===Du;)Du=Vs[--js],Vs[js]=null,Ou=Vs[--js],Vs[js]=null;for(;t===Qi;)Qi=tn[--nn],tn[nn]=null,nr=tn[--nn],tn[nn]=null,tr=tn[--nn],tn[nn]=null}var Kt=null,qt=null,be=!1,gn=null;function F1(t,e){var n=rn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function _0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Kt=t,qt=Zr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Kt=t,qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Qi!==null?{id:tr,overflow:nr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=rn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Kt=t,qt=null,!0):!1;default:return!1}}function yp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function vp(t){if(be){var e=qt;if(e){var n=e;if(!_0(t,e)){if(yp(t))throw Error(B(418));e=Zr(n.nextSibling);var r=Kt;e&&_0(t,e)?F1(r,n):(t.flags=t.flags&-4097|2,be=!1,Kt=t)}}else{if(yp(t))throw Error(B(418));t.flags=t.flags&-4097|2,be=!1,Kt=t}}}function w0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Kt=t}function Ic(t){if(t!==Kt)return!1;if(!be)return w0(t),be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fp(t.type,t.memoizedProps)),e&&(e=qt)){if(yp(t))throw U1(),Error(B(418));for(;e;)F1(t,e),e=Zr(e.nextSibling)}if(w0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qt=Zr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qt=null}}else qt=Kt?Zr(t.stateNode.nextSibling):null;return!0}function U1(){for(var t=qt;t;)t=Zr(t.nextSibling)}function mo(){qt=Kt=null,be=!1}function Hm(t){gn===null?gn=[t]:gn.push(t)}var Pb=_r.ReactCurrentBatchConfig;function fa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Cc(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function E0(t){var e=t._init;return e(t._payload)}function $1(t){function e(v,_){if(t){var C=v.deletions;C===null?(v.deletions=[_],v.flags|=16):C.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function r(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function i(v,_){return v=ri(v,_),v.index=0,v.sibling=null,v}function s(v,_,C){return v.index=C,t?(C=v.alternate,C!==null?(C=C.index,C<_?(v.flags|=2,_):C):(v.flags|=2,_)):(v.flags|=1048576,_)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,_,C,k){return _===null||_.tag!==6?(_=mf(C,v.mode,k),_.return=v,_):(_=i(_,C),_.return=v,_)}function c(v,_,C,k){var O=C.type;return O===ks?d(v,_,C.props.children,k,C.key):_!==null&&(_.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Nr&&E0(O)===_.type)?(k=i(_,C.props),k.ref=fa(v,_,C),k.return=v,k):(k=tu(C.type,C.key,C.props,null,v.mode,k),k.ref=fa(v,_,C),k.return=v,k)}function u(v,_,C,k){return _===null||_.tag!==4||_.stateNode.containerInfo!==C.containerInfo||_.stateNode.implementation!==C.implementation?(_=gf(C,v.mode,k),_.return=v,_):(_=i(_,C.children||[]),_.return=v,_)}function d(v,_,C,k,O){return _===null||_.tag!==7?(_=Ki(C,v.mode,k,O),_.return=v,_):(_=i(_,C),_.return=v,_)}function f(v,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return _=mf(""+_,v.mode,C),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case pc:return C=tu(_.type,_.key,_.props,null,v.mode,C),C.ref=fa(v,null,_),C.return=v,C;case bs:return _=gf(_,v.mode,C),_.return=v,_;case Nr:var k=_._init;return f(v,k(_._payload),C)}if(_a(_)||la(_))return _=Ki(_,v.mode,C,null),_.return=v,_;Cc(v,_)}return null}function p(v,_,C,k){var O=_!==null?_.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return O!==null?null:a(v,_,""+C,k);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case pc:return C.key===O?c(v,_,C,k):null;case bs:return C.key===O?u(v,_,C,k):null;case Nr:return O=C._init,p(v,_,O(C._payload),k)}if(_a(C)||la(C))return O!==null?null:d(v,_,C,k,null);Cc(v,C)}return null}function w(v,_,C,k,O){if(typeof k=="string"&&k!==""||typeof k=="number")return v=v.get(C)||null,a(_,v,""+k,O);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case pc:return v=v.get(k.key===null?C:k.key)||null,c(_,v,k,O);case bs:return v=v.get(k.key===null?C:k.key)||null,u(_,v,k,O);case Nr:var V=k._init;return w(v,_,C,V(k._payload),O)}if(_a(k)||la(k))return v=v.get(C)||null,d(_,v,k,O,null);Cc(_,k)}return null}function I(v,_,C,k){for(var O=null,V=null,A=_,x=_=0,R=null;A!==null&&x<C.length;x++){A.index>x?(R=A,A=null):R=A.sibling;var P=p(v,A,C[x],k);if(P===null){A===null&&(A=R);break}t&&A&&P.alternate===null&&e(v,A),_=s(P,_,x),V===null?O=P:V.sibling=P,V=P,A=R}if(x===C.length)return n(v,A),be&&Mi(v,x),O;if(A===null){for(;x<C.length;x++)A=f(v,C[x],k),A!==null&&(_=s(A,_,x),V===null?O=A:V.sibling=A,V=A);return be&&Mi(v,x),O}for(A=r(v,A);x<C.length;x++)R=w(A,v,x,C[x],k),R!==null&&(t&&R.alternate!==null&&A.delete(R.key===null?x:R.key),_=s(R,_,x),V===null?O=R:V.sibling=R,V=R);return t&&A.forEach(function(N){return e(v,N)}),be&&Mi(v,x),O}function y(v,_,C,k){var O=la(C);if(typeof O!="function")throw Error(B(150));if(C=O.call(C),C==null)throw Error(B(151));for(var V=O=null,A=_,x=_=0,R=null,P=C.next();A!==null&&!P.done;x++,P=C.next()){A.index>x?(R=A,A=null):R=A.sibling;var N=p(v,A,P.value,k);if(N===null){A===null&&(A=R);break}t&&A&&N.alternate===null&&e(v,A),_=s(N,_,x),V===null?O=N:V.sibling=N,V=N,A=R}if(P.done)return n(v,A),be&&Mi(v,x),O;if(A===null){for(;!P.done;x++,P=C.next())P=f(v,P.value,k),P!==null&&(_=s(P,_,x),V===null?O=P:V.sibling=P,V=P);return be&&Mi(v,x),O}for(A=r(v,A);!P.done;x++,P=C.next())P=w(A,v,x,P.value,k),P!==null&&(t&&P.alternate!==null&&A.delete(P.key===null?x:P.key),_=s(P,_,x),V===null?O=P:V.sibling=P,V=P);return t&&A.forEach(function(D){return e(v,D)}),be&&Mi(v,x),O}function T(v,_,C,k){if(typeof C=="object"&&C!==null&&C.type===ks&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case pc:e:{for(var O=C.key,V=_;V!==null;){if(V.key===O){if(O=C.type,O===ks){if(V.tag===7){n(v,V.sibling),_=i(V,C.props.children),_.return=v,v=_;break e}}else if(V.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Nr&&E0(O)===V.type){n(v,V.sibling),_=i(V,C.props),_.ref=fa(v,V,C),_.return=v,v=_;break e}n(v,V);break}else e(v,V);V=V.sibling}C.type===ks?(_=Ki(C.props.children,v.mode,k,C.key),_.return=v,v=_):(k=tu(C.type,C.key,C.props,null,v.mode,k),k.ref=fa(v,_,C),k.return=v,v=k)}return o(v);case bs:e:{for(V=C.key;_!==null;){if(_.key===V)if(_.tag===4&&_.stateNode.containerInfo===C.containerInfo&&_.stateNode.implementation===C.implementation){n(v,_.sibling),_=i(_,C.children||[]),_.return=v,v=_;break e}else{n(v,_);break}else e(v,_);_=_.sibling}_=gf(C,v.mode,k),_.return=v,v=_}return o(v);case Nr:return V=C._init,T(v,_,V(C._payload),k)}if(_a(C))return I(v,_,C,k);if(la(C))return y(v,_,C,k);Cc(v,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,_!==null&&_.tag===6?(n(v,_.sibling),_=i(_,C),_.return=v,v=_):(n(v,_),_=mf(C,v.mode,k),_.return=v,v=_),o(v)):n(v,_)}return T}var go=$1(!0),z1=$1(!1),Mu=xi(null),Lu=null,Fs=null,qm=null;function Wm(){qm=Fs=Lu=null}function Km(t){var e=Mu.current;Re(Mu),t._currentValue=e}function _p(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ks(t,e){Lu=t,qm=Fs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Lt=!0),t.firstContext=null)}function on(t){var e=t._currentValue;if(qm!==t)if(t={context:t,memoizedValue:e,next:null},Fs===null){if(Lu===null)throw Error(B(308));Fs=t,Lu.dependencies={lanes:0,firstContext:t}}else Fs=Fs.next=t;return e}var Fi=null;function Gm(t){Fi===null?Fi=[t]:Fi.push(t)}function B1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Gm(e)):(n.next=i.next,i.next=n),e.interleaved=n,cr(t,r)}function cr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Dr=!1;function Qm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function H1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function sr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ei(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,cr(t,n)}return i=r.interleaved,i===null?(e.next=e,Gm(r)):(e.next=i.next,i.next=e),r.interleaved=e,cr(t,n)}function Qc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Om(t,n)}}function T0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Vu(t,e,n,r){var i=t.updateQueue;Dr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;o=0,d=u=c=null,a=s;do{var p=a.lane,w=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var I=t,y=a;switch(p=e,w=n,y.tag){case 1:if(I=y.payload,typeof I=="function"){f=I.call(w,f,p);break e}f=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=y.payload,p=typeof I=="function"?I.call(w,f,p):I,p==null)break e;f=De({},f,p);break e;case 2:Dr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else w={eventTime:w,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=w,c=f):d=d.next=w,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Xi|=o,t.lanes=o,t.memoizedState=f}}function x0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var kl={},jn=xi(kl),nl=xi(kl),rl=xi(kl);function Ui(t){if(t===kl)throw Error(B(174));return t}function Ym(t,e){switch(xe(rl,e),xe(nl,t),xe(jn,kl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Zf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Zf(e,t)}Re(jn),xe(jn,e)}function yo(){Re(jn),Re(nl),Re(rl)}function q1(t){Ui(rl.current);var e=Ui(jn.current),n=Zf(e,t.type);e!==n&&(xe(nl,t),xe(jn,n))}function Xm(t){nl.current===t&&(Re(jn),Re(nl))}var ke=xi(0);function ju(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cf=[];function Jm(){for(var t=0;t<cf.length;t++)cf[t]._workInProgressVersionPrimary=null;cf.length=0}var Yc=_r.ReactCurrentDispatcher,uf=_r.ReactCurrentBatchConfig,Yi=0,Ne=null,qe=null,Ye=null,Fu=!1,Da=!1,il=0,bb=0;function ht(){throw Error(B(321))}function Zm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!xn(t[n],e[n]))return!1;return!0}function eg(t,e,n,r,i,s){if(Yi=s,Ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yc.current=t===null||t.memoizedState===null?Ob:Mb,t=n(r,i),Da){s=0;do{if(Da=!1,il=0,25<=s)throw Error(B(301));s+=1,Ye=qe=null,e.updateQueue=null,Yc.current=Lb,t=n(r,i)}while(Da)}if(Yc.current=Uu,e=qe!==null&&qe.next!==null,Yi=0,Ye=qe=Ne=null,Fu=!1,e)throw Error(B(300));return t}function tg(){var t=il!==0;return il=0,t}function bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?Ne.memoizedState=Ye=t:Ye=Ye.next=t,Ye}function an(){if(qe===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=qe.next;var e=Ye===null?Ne.memoizedState:Ye.next;if(e!==null)Ye=e,qe=t;else{if(t===null)throw Error(B(310));qe=t,t={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},Ye===null?Ne.memoizedState=Ye=t:Ye=Ye.next=t}return Ye}function sl(t,e){return typeof e=="function"?e(t):e}function df(t){var e=an(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=qe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,c=null,u=s;do{var d=u.lane;if((Yi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,o=r):c=c.next=f,Ne.lanes|=d,Xi|=d}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=a,xn(r,e.memoizedState)||(Lt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ne.lanes|=s,Xi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function hf(t){var e=an(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);xn(s,e.memoizedState)||(Lt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function W1(){}function K1(t,e){var n=Ne,r=an(),i=e(),s=!xn(r.memoizedState,i);if(s&&(r.memoizedState=i,Lt=!0),r=r.queue,ng(Y1.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ye!==null&&Ye.memoizedState.tag&1){if(n.flags|=2048,ol(9,Q1.bind(null,n,r,i,e),void 0,null),Xe===null)throw Error(B(349));Yi&30||G1(n,e,i)}return i}function G1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Q1(t,e,n,r){e.value=n,e.getSnapshot=r,X1(e)&&J1(t)}function Y1(t,e,n){return n(function(){X1(e)&&J1(t)})}function X1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xn(t,n)}catch{return!0}}function J1(t){var e=cr(t,1);e!==null&&wn(e,t,1,-1)}function I0(t){var e=bn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:t},e.queue=t,t=t.dispatch=Db.bind(null,Ne,t),[e.memoizedState,t]}function ol(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Z1(){return an().memoizedState}function Xc(t,e,n,r){var i=bn();Ne.flags|=t,i.memoizedState=ol(1|e,n,void 0,r===void 0?null:r)}function Ad(t,e,n,r){var i=an();r=r===void 0?null:r;var s=void 0;if(qe!==null){var o=qe.memoizedState;if(s=o.destroy,r!==null&&Zm(r,o.deps)){i.memoizedState=ol(e,n,s,r);return}}Ne.flags|=t,i.memoizedState=ol(1|e,n,s,r)}function C0(t,e){return Xc(8390656,8,t,e)}function ng(t,e){return Ad(2048,8,t,e)}function eT(t,e){return Ad(4,2,t,e)}function tT(t,e){return Ad(4,4,t,e)}function nT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function rT(t,e,n){return n=n!=null?n.concat([t]):null,Ad(4,4,nT.bind(null,e,t),n)}function rg(){}function iT(t,e){var n=an();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function sT(t,e){var n=an();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function oT(t,e,n){return Yi&21?(xn(n,e)||(n=d1(),Ne.lanes|=n,Xi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Lt=!0),t.memoizedState=n)}function kb(t,e){var n=_e;_e=n!==0&&4>n?n:4,t(!0);var r=uf.transition;uf.transition={};try{t(!1),e()}finally{_e=n,uf.transition=r}}function aT(){return an().memoizedState}function Nb(t,e,n){var r=ni(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lT(t))cT(e,n);else if(n=B1(t,e,n,r),n!==null){var i=Rt();wn(n,t,r,i),uT(n,e,r)}}function Db(t,e,n){var r=ni(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lT(t))cT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,xn(a,o)){var c=e.interleaved;c===null?(i.next=i,Gm(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=B1(t,e,i,r),n!==null&&(i=Rt(),wn(n,t,r,i),uT(n,e,r))}}function lT(t){var e=t.alternate;return t===Ne||e!==null&&e===Ne}function cT(t,e){Da=Fu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function uT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Om(t,n)}}var Uu={readContext:on,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},Ob={readContext:on,useCallback:function(t,e){return bn().memoizedState=[t,e===void 0?null:e],t},useContext:on,useEffect:C0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xc(4194308,4,nT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xc(4,2,t,e)},useMemo:function(t,e){var n=bn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=bn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Nb.bind(null,Ne,t),[r.memoizedState,t]},useRef:function(t){var e=bn();return t={current:t},e.memoizedState=t},useState:I0,useDebugValue:rg,useDeferredValue:function(t){return bn().memoizedState=t},useTransition:function(){var t=I0(!1),e=t[0];return t=kb.bind(null,t[1]),bn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ne,i=bn();if(be){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),Xe===null)throw Error(B(349));Yi&30||G1(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,C0(Y1.bind(null,r,s,t),[t]),r.flags|=2048,ol(9,Q1.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=bn(),e=Xe.identifierPrefix;if(be){var n=nr,r=tr;n=(r&~(1<<32-_n(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=il++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=bb++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Mb={readContext:on,useCallback:iT,useContext:on,useEffect:ng,useImperativeHandle:rT,useInsertionEffect:eT,useLayoutEffect:tT,useMemo:sT,useReducer:df,useRef:Z1,useState:function(){return df(sl)},useDebugValue:rg,useDeferredValue:function(t){var e=an();return oT(e,qe.memoizedState,t)},useTransition:function(){var t=df(sl)[0],e=an().memoizedState;return[t,e]},useMutableSource:W1,useSyncExternalStore:K1,useId:aT,unstable_isNewReconciler:!1},Lb={readContext:on,useCallback:iT,useContext:on,useEffect:ng,useImperativeHandle:rT,useInsertionEffect:eT,useLayoutEffect:tT,useMemo:sT,useReducer:hf,useRef:Z1,useState:function(){return hf(sl)},useDebugValue:rg,useDeferredValue:function(t){var e=an();return qe===null?e.memoizedState=t:oT(e,qe.memoizedState,t)},useTransition:function(){var t=hf(sl)[0],e=an().memoizedState;return[t,e]},useMutableSource:W1,useSyncExternalStore:K1,useId:aT,unstable_isNewReconciler:!1};function hn(t,e){if(t&&t.defaultProps){e=De({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function wp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:De({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Rd={isMounted:function(t){return(t=t._reactInternals)?cs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rt(),i=ni(t),s=sr(r,i);s.payload=e,n!=null&&(s.callback=n),e=ei(t,s,i),e!==null&&(wn(e,t,i,r),Qc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rt(),i=ni(t),s=sr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ei(t,s,i),e!==null&&(wn(e,t,i,r),Qc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rt(),r=ni(t),i=sr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ei(t,i,r),e!==null&&(wn(e,t,r,n),Qc(e,t,r))}};function S0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ja(n,r)||!Ja(i,s):!0}function dT(t,e,n){var r=!1,i=di,s=e.contextType;return typeof s=="object"&&s!==null?s=on(s):(i=Ft(e)?Gi:_t.current,r=e.contextTypes,s=(r=r!=null)?po(t,i):di),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Rd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function A0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Rd.enqueueReplaceState(e,e.state,null)}function Ep(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Qm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=on(s):(s=Ft(e)?Gi:_t.current,i.context=po(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(wp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Rd.enqueueReplaceState(i,i.state,null),Vu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function vo(t,e){try{var n="",r=e;do n+=uP(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function ff(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Tp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Vb=typeof WeakMap=="function"?WeakMap:Map;function hT(t,e,n){n=sr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){zu||(zu=!0,Np=r),Tp(t,e)},n}function fT(t,e,n){n=sr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Tp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Tp(t,e),typeof r!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function R0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Vb;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Xb.bind(null,t,e,n),e.then(t,t))}function P0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function b0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=sr(-1,1),e.tag=2,ei(n,e,1))),n.lanes|=1),t)}var jb=_r.ReactCurrentOwner,Lt=!1;function Ct(t,e,n,r){e.child=t===null?z1(e,null,n,r):go(e,t.child,n,r)}function k0(t,e,n,r,i){n=n.render;var s=e.ref;return Ks(e,i),r=eg(t,e,n,r,s,i),n=tg(),t!==null&&!Lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ur(t,e,i)):(be&&n&&zm(e),e.flags|=1,Ct(t,e,r,i),e.child)}function N0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!dg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,pT(t,e,s,r,i)):(t=tu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ja,n(o,r)&&t.ref===e.ref)return ur(t,e,i)}return e.flags|=1,t=ri(s,r),t.ref=e.ref,t.return=e,e.child=t}function pT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ja(s,r)&&t.ref===e.ref)if(Lt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Lt=!0);else return e.lanes=t.lanes,ur(t,e,i)}return xp(t,e,n,r,i)}function mT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe($s,Bt),Bt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xe($s,Bt),Bt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,xe($s,Bt),Bt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,xe($s,Bt),Bt|=r;return Ct(t,e,i,n),e.child}function gT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xp(t,e,n,r,i){var s=Ft(n)?Gi:_t.current;return s=po(e,s),Ks(e,i),n=eg(t,e,n,r,s,i),r=tg(),t!==null&&!Lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ur(t,e,i)):(be&&r&&zm(e),e.flags|=1,Ct(t,e,n,i),e.child)}function D0(t,e,n,r,i){if(Ft(n)){var s=!0;Nu(e)}else s=!1;if(Ks(e,i),e.stateNode===null)Jc(t,e),dT(e,n,r),Ep(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=on(u):(u=Ft(n)?Gi:_t.current,u=po(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&A0(e,o,r,u),Dr=!1;var p=e.memoizedState;o.state=p,Vu(e,r,o,i),c=e.memoizedState,a!==r||p!==c||jt.current||Dr?(typeof d=="function"&&(wp(e,n,d,r),c=e.memoizedState),(a=Dr||S0(e,n,a,r,p,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,H1(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:hn(e.type,a),o.props=u,f=e.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=on(c):(c=Ft(n)?Gi:_t.current,c=po(e,c));var w=n.getDerivedStateFromProps;(d=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==c)&&A0(e,o,r,c),Dr=!1,p=e.memoizedState,o.state=p,Vu(e,r,o,i);var I=e.memoizedState;a!==f||p!==I||jt.current||Dr?(typeof w=="function"&&(wp(e,n,w,r),I=e.memoizedState),(u=Dr||S0(e,n,u,r,p,I,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,I,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,I,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=I),o.props=r,o.state=I,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Ip(t,e,n,r,s,i)}function Ip(t,e,n,r,i,s){gT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&v0(e,n,!1),ur(t,e,s);r=e.stateNode,jb.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=go(e,t.child,null,s),e.child=go(e,null,a,s)):Ct(t,e,a,s),e.memoizedState=r.state,i&&v0(e,n,!0),e.child}function yT(t){var e=t.stateNode;e.pendingContext?y0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&y0(t,e.context,!1),Ym(t,e.containerInfo)}function O0(t,e,n,r,i){return mo(),Hm(i),e.flags|=256,Ct(t,e,n,r),e.child}var Cp={dehydrated:null,treeContext:null,retryLane:0};function Sp(t){return{baseLanes:t,cachePool:null,transitions:null}}function vT(t,e,n){var r=e.pendingProps,i=ke.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),xe(ke,i&1),t===null)return vp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=kd(o,r,0,null),t=Ki(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Sp(n),e.memoizedState=Cp,t):ig(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Fb(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=ri(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ri(a,s):(s=Ki(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Sp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Cp,r}return s=t.child,t=s.sibling,r=ri(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ig(t,e){return e=kd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Sc(t,e,n,r){return r!==null&&Hm(r),go(e,t.child,null,n),t=ig(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Fb(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=ff(Error(B(422))),Sc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=kd({mode:"visible",children:r.children},i,0,null),s=Ki(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&go(e,t.child,null,o),e.child.memoizedState=Sp(o),e.memoizedState=Cp,s);if(!(e.mode&1))return Sc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(B(419)),r=ff(s,r,void 0),Sc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Lt||a){if(r=Xe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,cr(t,i),wn(r,t,i,-1))}return ug(),r=ff(Error(B(421))),Sc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Jb.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,qt=Zr(i.nextSibling),Kt=e,be=!0,gn=null,t!==null&&(tn[nn++]=tr,tn[nn++]=nr,tn[nn++]=Qi,tr=t.id,nr=t.overflow,Qi=e),e=ig(e,r.children),e.flags|=4096,e)}function M0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),_p(t.return,e,n)}function pf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function _T(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ct(t,e,r.children,n),r=ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&M0(t,n,e);else if(t.tag===19)M0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(xe(ke,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ju(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),pf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ju(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}pf(e,!0,n,null,s);break;case"together":pf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Jc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ur(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Xi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=ri(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ri(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Ub(t,e,n){switch(e.tag){case 3:yT(e),mo();break;case 5:q1(e);break;case 1:Ft(e.type)&&Nu(e);break;case 4:Ym(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;xe(Mu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(xe(ke,ke.current&1),e.flags|=128,null):n&e.child.childLanes?vT(t,e,n):(xe(ke,ke.current&1),t=ur(t,e,n),t!==null?t.sibling:null);xe(ke,ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return _T(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xe(ke,ke.current),r)break;return null;case 22:case 23:return e.lanes=0,mT(t,e,n)}return ur(t,e,n)}var wT,Ap,ET,TT;wT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ap=function(){};ET=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ui(jn.current);var s=null;switch(n){case"input":i=Qf(t,i),r=Qf(t,r),s=[];break;case"select":i=De({},i,{value:void 0}),r=De({},r,{value:void 0}),s=[];break;case"textarea":i=Jf(t,i),r=Jf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=bu)}ep(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qa.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qa.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Se("scroll",t),s||a===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};TT=function(t,e,n,r){n!==r&&(e.flags|=4)};function pa(t,e){if(!be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $b(t,e,n){var r=e.pendingProps;switch(Bm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(e),null;case 1:return Ft(e.type)&&ku(),ft(e),null;case 3:return r=e.stateNode,yo(),Re(jt),Re(_t),Jm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ic(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gn!==null&&(Mp(gn),gn=null))),Ap(t,e),ft(e),null;case 5:Xm(e);var i=Ui(rl.current);if(n=e.type,t!==null&&e.stateNode!=null)ET(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return ft(e),null}if(t=Ui(jn.current),Ic(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Mn]=e,r[tl]=s,t=(e.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(i=0;i<Ea.length;i++)Se(Ea[i],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":Hv(r,s),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Se("invalid",r);break;case"textarea":Wv(r,s),Se("invalid",r)}ep(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&xc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&xc(r.textContent,a,t),i=["children",""+a]):qa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Se("scroll",r)}switch(n){case"input":mc(r),qv(r,s,!0);break;case"textarea":mc(r),Kv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=bu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=YE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Mn]=e,t[tl]=r,wT(t,e,!1,!1),e.stateNode=t;e:{switch(o=tp(n,r),n){case"dialog":Se("cancel",t),Se("close",t),i=r;break;case"iframe":case"object":case"embed":Se("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ea.length;i++)Se(Ea[i],t);i=r;break;case"source":Se("error",t),i=r;break;case"img":case"image":case"link":Se("error",t),Se("load",t),i=r;break;case"details":Se("toggle",t),i=r;break;case"input":Hv(t,r),i=Qf(t,r),Se("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=De({},r,{value:void 0}),Se("invalid",t);break;case"textarea":Wv(t,r),i=Jf(t,r),Se("invalid",t);break;default:i=r}ep(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?ZE(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&XE(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Wa(t,c):typeof c=="number"&&Wa(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(qa.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Se("scroll",t):c!=null&&Rm(t,s,c,o))}switch(n){case"input":mc(t),qv(t,r,!1);break;case"textarea":mc(t),Kv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ui(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Bs(t,!!r.multiple,s,!1):r.defaultValue!=null&&Bs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=bu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ft(e),null;case 6:if(t&&e.stateNode!=null)TT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=Ui(rl.current),Ui(jn.current),Ic(e)){if(r=e.stateNode,n=e.memoizedProps,r[Mn]=e,(s=r.nodeValue!==n)&&(t=Kt,t!==null))switch(t.tag){case 3:xc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mn]=e,e.stateNode=r}return ft(e),null;case 13:if(Re(ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(be&&qt!==null&&e.mode&1&&!(e.flags&128))U1(),mo(),e.flags|=98560,s=!1;else if(s=Ic(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[Mn]=e}else mo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ft(e),s=!1}else gn!==null&&(Mp(gn),gn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ke.current&1?We===0&&(We=3):ug())),e.updateQueue!==null&&(e.flags|=4),ft(e),null);case 4:return yo(),Ap(t,e),t===null&&Za(e.stateNode.containerInfo),ft(e),null;case 10:return Km(e.type._context),ft(e),null;case 17:return Ft(e.type)&&ku(),ft(e),null;case 19:if(Re(ke),s=e.memoizedState,s===null)return ft(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)pa(s,!1);else{if(We!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ju(t),o!==null){for(e.flags|=128,pa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return xe(ke,ke.current&1|2),e.child}t=t.sibling}s.tail!==null&&Fe()>_o&&(e.flags|=128,r=!0,pa(s,!1),e.lanes=4194304)}else{if(!r)if(t=ju(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),pa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!be)return ft(e),null}else 2*Fe()-s.renderingStartTime>_o&&n!==1073741824&&(e.flags|=128,r=!0,pa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Fe(),e.sibling=null,n=ke.current,xe(ke,r?n&1|2:n&1),e):(ft(e),null);case 22:case 23:return cg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Bt&1073741824&&(ft(e),e.subtreeFlags&6&&(e.flags|=8192)):ft(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function zb(t,e){switch(Bm(e),e.tag){case 1:return Ft(e.type)&&ku(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return yo(),Re(jt),Re(_t),Jm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Xm(e),null;case 13:if(Re(ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));mo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Re(ke),null;case 4:return yo(),null;case 10:return Km(e.type._context),null;case 22:case 23:return cg(),null;case 24:return null;default:return null}}var Ac=!1,yt=!1,Bb=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Us(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ve(t,e,r)}else n.current=null}function Rp(t,e,n){try{n()}catch(r){Ve(t,e,r)}}var L0=!1;function Hb(t,e){if(dp=Au,t=A1(),$m(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,d=0,f=t,p=null;t:for(;;){for(var w;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(w=f.firstChild)!==null;)p=f,f=w;for(;;){if(f===t)break t;if(p===n&&++u===i&&(a=o),p===s&&++d===r&&(c=o),(w=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=w}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(hp={focusedElem:t,selectionRange:n},Au=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var I=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var y=I.memoizedProps,T=I.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:hn(e.type,y),T);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(k){Ve(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return I=L0,L0=!1,I}function Oa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Rp(e,n,s)}i=i.next}while(i!==r)}}function Pd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Pp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function xT(t){var e=t.alternate;e!==null&&(t.alternate=null,xT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Mn],delete e[tl],delete e[mp],delete e[Sb],delete e[Ab])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function IT(t){return t.tag===5||t.tag===3||t.tag===4}function V0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||IT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=bu));else if(r!==4&&(t=t.child,t!==null))for(bp(t,e,n),t=t.sibling;t!==null;)bp(t,e,n),t=t.sibling}function kp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(kp(t,e,n),t=t.sibling;t!==null;)kp(t,e,n),t=t.sibling}var Ze=null,mn=!1;function Ir(t,e,n){for(n=n.child;n!==null;)CT(t,e,n),n=n.sibling}function CT(t,e,n){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(Ed,n)}catch{}switch(n.tag){case 5:yt||Us(n,e);case 6:var r=Ze,i=mn;Ze=null,Ir(t,e,n),Ze=r,mn=i,Ze!==null&&(mn?(t=Ze,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ze.removeChild(n.stateNode));break;case 18:Ze!==null&&(mn?(t=Ze,n=n.stateNode,t.nodeType===8?af(t.parentNode,n):t.nodeType===1&&af(t,n),Ya(t)):af(Ze,n.stateNode));break;case 4:r=Ze,i=mn,Ze=n.stateNode.containerInfo,mn=!0,Ir(t,e,n),Ze=r,mn=i;break;case 0:case 11:case 14:case 15:if(!yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Rp(n,e,o),i=i.next}while(i!==r)}Ir(t,e,n);break;case 1:if(!yt&&(Us(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ve(n,e,a)}Ir(t,e,n);break;case 21:Ir(t,e,n);break;case 22:n.mode&1?(yt=(r=yt)||n.memoizedState!==null,Ir(t,e,n),yt=r):Ir(t,e,n);break;default:Ir(t,e,n)}}function j0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Bb),e.forEach(function(r){var i=Zb.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function dn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ze=a.stateNode,mn=!1;break e;case 3:Ze=a.stateNode.containerInfo,mn=!0;break e;case 4:Ze=a.stateNode.containerInfo,mn=!0;break e}a=a.return}if(Ze===null)throw Error(B(160));CT(s,o,i),Ze=null,mn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Ve(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ST(e,t),e=e.sibling}function ST(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(dn(e,t),Pn(t),r&4){try{Oa(3,t,t.return),Pd(3,t)}catch(y){Ve(t,t.return,y)}try{Oa(5,t,t.return)}catch(y){Ve(t,t.return,y)}}break;case 1:dn(e,t),Pn(t),r&512&&n!==null&&Us(n,n.return);break;case 5:if(dn(e,t),Pn(t),r&512&&n!==null&&Us(n,n.return),t.flags&32){var i=t.stateNode;try{Wa(i,"")}catch(y){Ve(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&GE(i,s),tp(a,o);var u=tp(a,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?ZE(i,f):d==="dangerouslySetInnerHTML"?XE(i,f):d==="children"?Wa(i,f):Rm(i,d,f,u)}switch(a){case"input":Yf(i,s);break;case"textarea":QE(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?Bs(i,!!s.multiple,w,!1):p!==!!s.multiple&&(s.defaultValue!=null?Bs(i,!!s.multiple,s.defaultValue,!0):Bs(i,!!s.multiple,s.multiple?[]:"",!1))}i[tl]=s}catch(y){Ve(t,t.return,y)}}break;case 6:if(dn(e,t),Pn(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Ve(t,t.return,y)}}break;case 3:if(dn(e,t),Pn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ya(e.containerInfo)}catch(y){Ve(t,t.return,y)}break;case 4:dn(e,t),Pn(t);break;case 13:dn(e,t),Pn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ag=Fe())),r&4&&j0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(yt=(u=yt)||d,dn(e,t),yt=u):dn(e,t),Pn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Q=t,d=t.child;d!==null;){for(f=Q=d;Q!==null;){switch(p=Q,w=p.child,p.tag){case 0:case 11:case 14:case 15:Oa(4,p,p.return);break;case 1:Us(p,p.return);var I=p.stateNode;if(typeof I.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,I.props=e.memoizedProps,I.state=e.memoizedState,I.componentWillUnmount()}catch(y){Ve(r,n,y)}}break;case 5:Us(p,p.return);break;case 22:if(p.memoizedState!==null){U0(f);continue}}w!==null?(w.return=p,Q=w):U0(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=JE("display",o))}catch(y){Ve(t,t.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){Ve(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:dn(e,t),Pn(t),r&4&&j0(t);break;case 21:break;default:dn(e,t),Pn(t)}}function Pn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(IT(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Wa(i,""),r.flags&=-33);var s=V0(t);kp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=V0(t);bp(t,a,o);break;default:throw Error(B(161))}}catch(c){Ve(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qb(t,e,n){Q=t,AT(t)}function AT(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ac;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||yt;a=Ac;var u=yt;if(Ac=o,(yt=c)&&!u)for(Q=i;Q!==null;)o=Q,c=o.child,o.tag===22&&o.memoizedState!==null?$0(i):c!==null?(c.return=o,Q=c):$0(i);for(;s!==null;)Q=s,AT(s),s=s.sibling;Q=i,Ac=a,yt=u}F0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):F0(t)}}function F0(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:yt||Pd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!yt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:hn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&x0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}x0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ya(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}yt||e.flags&512&&Pp(e)}catch(p){Ve(e,e.return,p)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function U0(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function $0(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Pd(4,e)}catch(c){Ve(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Ve(e,i,c)}}var s=e.return;try{Pp(e)}catch(c){Ve(e,s,c)}break;case 5:var o=e.return;try{Pp(e)}catch(c){Ve(e,o,c)}}}catch(c){Ve(e,e.return,c)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var Wb=Math.ceil,$u=_r.ReactCurrentDispatcher,sg=_r.ReactCurrentOwner,sn=_r.ReactCurrentBatchConfig,me=0,Xe=null,ze=null,it=0,Bt=0,$s=xi(0),We=0,al=null,Xi=0,bd=0,og=0,Ma=null,Ot=null,ag=0,_o=1/0,Zn=null,zu=!1,Np=null,ti=null,Rc=!1,Kr=null,Bu=0,La=0,Dp=null,Zc=-1,eu=0;function Rt(){return me&6?Fe():Zc!==-1?Zc:Zc=Fe()}function ni(t){return t.mode&1?me&2&&it!==0?it&-it:Pb.transition!==null?(eu===0&&(eu=d1()),eu):(t=_e,t!==0||(t=window.event,t=t===void 0?16:v1(t.type)),t):1}function wn(t,e,n,r){if(50<La)throw La=0,Dp=null,Error(B(185));Rl(t,n,r),(!(me&2)||t!==Xe)&&(t===Xe&&(!(me&2)&&(bd|=n),We===4&&Mr(t,it)),Ut(t,r),n===1&&me===0&&!(e.mode&1)&&(_o=Fe()+500,Sd&&Ii()))}function Ut(t,e){var n=t.callbackNode;PP(t,e);var r=Su(t,t===Xe?it:0);if(r===0)n!==null&&Yv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Yv(n),e===1)t.tag===0?Rb(z0.bind(null,t)):V1(z0.bind(null,t)),Ib(function(){!(me&6)&&Ii()}),n=null;else{switch(h1(r)){case 1:n=Dm;break;case 4:n=c1;break;case 16:n=Cu;break;case 536870912:n=u1;break;default:n=Cu}n=MT(n,RT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function RT(t,e){if(Zc=-1,eu=0,me&6)throw Error(B(327));var n=t.callbackNode;if(Gs()&&t.callbackNode!==n)return null;var r=Su(t,t===Xe?it:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Hu(t,r);else{e=r;var i=me;me|=2;var s=bT();(Xe!==t||it!==e)&&(Zn=null,_o=Fe()+500,Wi(t,e));do try{Qb();break}catch(a){PT(t,a)}while(!0);Wm(),$u.current=s,me=i,ze!==null?e=0:(Xe=null,it=0,e=We)}if(e!==0){if(e===2&&(i=op(t),i!==0&&(r=i,e=Op(t,i))),e===1)throw n=al,Wi(t,0),Mr(t,r),Ut(t,Fe()),n;if(e===6)Mr(t,r);else{if(i=t.current.alternate,!(r&30)&&!Kb(i)&&(e=Hu(t,r),e===2&&(s=op(t),s!==0&&(r=s,e=Op(t,s))),e===1))throw n=al,Wi(t,0),Mr(t,r),Ut(t,Fe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Li(t,Ot,Zn);break;case 3:if(Mr(t,r),(r&130023424)===r&&(e=ag+500-Fe(),10<e)){if(Su(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Rt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=pp(Li.bind(null,t,Ot,Zn),e);break}Li(t,Ot,Zn);break;case 4:if(Mr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-_n(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Wb(r/1960))-r,10<r){t.timeoutHandle=pp(Li.bind(null,t,Ot,Zn),r);break}Li(t,Ot,Zn);break;case 5:Li(t,Ot,Zn);break;default:throw Error(B(329))}}}return Ut(t,Fe()),t.callbackNode===n?RT.bind(null,t):null}function Op(t,e){var n=Ma;return t.current.memoizedState.isDehydrated&&(Wi(t,e).flags|=256),t=Hu(t,e),t!==2&&(e=Ot,Ot=n,e!==null&&Mp(e)),t}function Mp(t){Ot===null?Ot=t:Ot.push.apply(Ot,t)}function Kb(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!xn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mr(t,e){for(e&=~og,e&=~bd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_n(e),r=1<<n;t[n]=-1,e&=~r}}function z0(t){if(me&6)throw Error(B(327));Gs();var e=Su(t,0);if(!(e&1))return Ut(t,Fe()),null;var n=Hu(t,e);if(t.tag!==0&&n===2){var r=op(t);r!==0&&(e=r,n=Op(t,r))}if(n===1)throw n=al,Wi(t,0),Mr(t,e),Ut(t,Fe()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Li(t,Ot,Zn),Ut(t,Fe()),null}function lg(t,e){var n=me;me|=1;try{return t(e)}finally{me=n,me===0&&(_o=Fe()+500,Sd&&Ii())}}function Ji(t){Kr!==null&&Kr.tag===0&&!(me&6)&&Gs();var e=me;me|=1;var n=sn.transition,r=_e;try{if(sn.transition=null,_e=1,t)return t()}finally{_e=r,sn.transition=n,me=e,!(me&6)&&Ii()}}function cg(){Bt=$s.current,Re($s)}function Wi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xb(n)),ze!==null)for(n=ze.return;n!==null;){var r=n;switch(Bm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ku();break;case 3:yo(),Re(jt),Re(_t),Jm();break;case 5:Xm(r);break;case 4:yo();break;case 13:Re(ke);break;case 19:Re(ke);break;case 10:Km(r.type._context);break;case 22:case 23:cg()}n=n.return}if(Xe=t,ze=t=ri(t.current,null),it=Bt=e,We=0,al=null,og=bd=Xi=0,Ot=Ma=null,Fi!==null){for(e=0;e<Fi.length;e++)if(n=Fi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Fi=null}return t}function PT(t,e){do{var n=ze;try{if(Wm(),Yc.current=Uu,Fu){for(var r=Ne.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Fu=!1}if(Yi=0,Ye=qe=Ne=null,Da=!1,il=0,sg.current=null,n===null||n.return===null){We=1,al=e,ze=null;break}e:{var s=t,o=n.return,a=n,c=e;if(e=it,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var w=P0(o);if(w!==null){w.flags&=-257,b0(w,o,a,s,e),w.mode&1&&R0(s,u,e),e=w,c=u;var I=e.updateQueue;if(I===null){var y=new Set;y.add(c),e.updateQueue=y}else I.add(c);break e}else{if(!(e&1)){R0(s,u,e),ug();break e}c=Error(B(426))}}else if(be&&a.mode&1){var T=P0(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),b0(T,o,a,s,e),Hm(vo(c,a));break e}}s=c=vo(c,a),We!==4&&(We=2),Ma===null?Ma=[s]:Ma.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=hT(s,c,e);T0(s,v);break e;case 1:a=c;var _=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(ti===null||!ti.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=fT(s,a,e);T0(s,k);break e}}s=s.return}while(s!==null)}NT(n)}catch(O){e=O,ze===n&&n!==null&&(ze=n=n.return);continue}break}while(!0)}function bT(){var t=$u.current;return $u.current=Uu,t===null?Uu:t}function ug(){(We===0||We===3||We===2)&&(We=4),Xe===null||!(Xi&268435455)&&!(bd&268435455)||Mr(Xe,it)}function Hu(t,e){var n=me;me|=2;var r=bT();(Xe!==t||it!==e)&&(Zn=null,Wi(t,e));do try{Gb();break}catch(i){PT(t,i)}while(!0);if(Wm(),me=n,$u.current=r,ze!==null)throw Error(B(261));return Xe=null,it=0,We}function Gb(){for(;ze!==null;)kT(ze)}function Qb(){for(;ze!==null&&!wP();)kT(ze)}function kT(t){var e=OT(t.alternate,t,Bt);t.memoizedProps=t.pendingProps,e===null?NT(t):ze=e,sg.current=null}function NT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=zb(n,e),n!==null){n.flags&=32767,ze=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{We=6,ze=null;return}}else if(n=$b(n,e,Bt),n!==null){ze=n;return}if(e=e.sibling,e!==null){ze=e;return}ze=e=t}while(e!==null);We===0&&(We=5)}function Li(t,e,n){var r=_e,i=sn.transition;try{sn.transition=null,_e=1,Yb(t,e,n,r)}finally{sn.transition=i,_e=r}return null}function Yb(t,e,n,r){do Gs();while(Kr!==null);if(me&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(bP(t,s),t===Xe&&(ze=Xe=null,it=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Rc||(Rc=!0,MT(Cu,function(){return Gs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=sn.transition,sn.transition=null;var o=_e;_e=1;var a=me;me|=4,sg.current=null,Hb(t,n),ST(n,t),gb(hp),Au=!!dp,hp=dp=null,t.current=n,qb(n),EP(),me=a,_e=o,sn.transition=s}else t.current=n;if(Rc&&(Rc=!1,Kr=t,Bu=i),s=t.pendingLanes,s===0&&(ti=null),IP(n.stateNode),Ut(t,Fe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(zu)throw zu=!1,t=Np,Np=null,t;return Bu&1&&t.tag!==0&&Gs(),s=t.pendingLanes,s&1?t===Dp?La++:(La=0,Dp=t):La=0,Ii(),null}function Gs(){if(Kr!==null){var t=h1(Bu),e=sn.transition,n=_e;try{if(sn.transition=null,_e=16>t?16:t,Kr===null)var r=!1;else{if(t=Kr,Kr=null,Bu=0,me&6)throw Error(B(331));var i=me;for(me|=4,Q=t.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(Q=u;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:Oa(8,d,s)}var f=d.child;if(f!==null)f.return=d,Q=f;else for(;Q!==null;){d=Q;var p=d.sibling,w=d.return;if(xT(d),d===u){Q=null;break}if(p!==null){p.return=w,Q=p;break}Q=w}}}var I=s.alternate;if(I!==null){var y=I.child;if(y!==null){I.child=null;do{var T=y.sibling;y.sibling=null,y=T}while(y!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Oa(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,Q=v;break e}Q=s.return}}var _=t.current;for(Q=_;Q!==null;){o=Q;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,Q=C;else e:for(o=_;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Pd(9,a)}}catch(O){Ve(a,a.return,O)}if(a===o){Q=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,Q=k;break e}Q=a.return}}if(me=i,Ii(),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(Ed,t)}catch{}r=!0}return r}finally{_e=n,sn.transition=e}}return!1}function B0(t,e,n){e=vo(n,e),e=hT(t,e,1),t=ei(t,e,1),e=Rt(),t!==null&&(Rl(t,1,e),Ut(t,e))}function Ve(t,e,n){if(t.tag===3)B0(t,t,n);else for(;e!==null;){if(e.tag===3){B0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ti===null||!ti.has(r))){t=vo(n,t),t=fT(e,t,1),e=ei(e,t,1),t=Rt(),e!==null&&(Rl(e,1,t),Ut(e,t));break}}e=e.return}}function Xb(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rt(),t.pingedLanes|=t.suspendedLanes&n,Xe===t&&(it&n)===n&&(We===4||We===3&&(it&130023424)===it&&500>Fe()-ag?Wi(t,0):og|=n),Ut(t,e)}function DT(t,e){e===0&&(t.mode&1?(e=vc,vc<<=1,!(vc&130023424)&&(vc=4194304)):e=1);var n=Rt();t=cr(t,e),t!==null&&(Rl(t,e,n),Ut(t,n))}function Jb(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),DT(t,n)}function Zb(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),DT(t,n)}var OT;OT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||jt.current)Lt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Lt=!1,Ub(t,e,n);Lt=!!(t.flags&131072)}else Lt=!1,be&&e.flags&1048576&&j1(e,Ou,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Jc(t,e),t=e.pendingProps;var i=po(e,_t.current);Ks(e,n),i=eg(null,e,r,t,i,n);var s=tg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ft(r)?(s=!0,Nu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Qm(e),i.updater=Rd,e.stateNode=i,i._reactInternals=e,Ep(e,r,t,n),e=Ip(null,e,r,!0,s,n)):(e.tag=0,be&&s&&zm(e),Ct(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Jc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=tk(r),t=hn(r,t),i){case 0:e=xp(null,e,r,t,n);break e;case 1:e=D0(null,e,r,t,n);break e;case 11:e=k0(null,e,r,t,n);break e;case 14:e=N0(null,e,r,hn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hn(r,i),xp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hn(r,i),D0(t,e,r,i,n);case 3:e:{if(yT(e),t===null)throw Error(B(387));r=e.pendingProps,s=e.memoizedState,i=s.element,H1(t,e),Vu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=vo(Error(B(423)),e),e=O0(t,e,r,n,i);break e}else if(r!==i){i=vo(Error(B(424)),e),e=O0(t,e,r,n,i);break e}else for(qt=Zr(e.stateNode.containerInfo.firstChild),Kt=e,be=!0,gn=null,n=z1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mo(),r===i){e=ur(t,e,n);break e}Ct(t,e,r,n)}e=e.child}return e;case 5:return q1(e),t===null&&vp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,fp(r,i)?o=null:s!==null&&fp(r,s)&&(e.flags|=32),gT(t,e),Ct(t,e,o,n),e.child;case 6:return t===null&&vp(e),null;case 13:return vT(t,e,n);case 4:return Ym(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=go(e,null,r,n):Ct(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hn(r,i),k0(t,e,r,i,n);case 7:return Ct(t,e,e.pendingProps,n),e.child;case 8:return Ct(t,e,e.pendingProps.children,n),e.child;case 12:return Ct(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,xe(Mu,r._currentValue),r._currentValue=o,s!==null)if(xn(s.value,o)){if(s.children===i.children&&!jt.current){e=ur(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=sr(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),_p(s.return,n,e),a.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),_p(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ct(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ks(e,n),i=on(i),r=r(i),e.flags|=1,Ct(t,e,r,n),e.child;case 14:return r=e.type,i=hn(r,e.pendingProps),i=hn(r.type,i),N0(t,e,r,i,n);case 15:return pT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hn(r,i),Jc(t,e),e.tag=1,Ft(r)?(t=!0,Nu(e)):t=!1,Ks(e,n),dT(e,r,i),Ep(e,r,i,n),Ip(null,e,r,!0,t,n);case 19:return _T(t,e,n);case 22:return mT(t,e,n)}throw Error(B(156,e.tag))};function MT(t,e){return l1(t,e)}function ek(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(t,e,n,r){return new ek(t,e,n,r)}function dg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tk(t){if(typeof t=="function")return dg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bm)return 11;if(t===km)return 14}return 2}function ri(t,e){var n=t.alternate;return n===null?(n=rn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function tu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")dg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ks:return Ki(n.children,i,s,e);case Pm:o=8,i|=8;break;case qf:return t=rn(12,n,e,i|2),t.elementType=qf,t.lanes=s,t;case Wf:return t=rn(13,n,e,i),t.elementType=Wf,t.lanes=s,t;case Kf:return t=rn(19,n,e,i),t.elementType=Kf,t.lanes=s,t;case qE:return kd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case BE:o=10;break e;case HE:o=9;break e;case bm:o=11;break e;case km:o=14;break e;case Nr:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=rn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ki(t,e,n,r){return t=rn(7,t,r,e),t.lanes=n,t}function kd(t,e,n,r){return t=rn(22,t,r,e),t.elementType=qE,t.lanes=n,t.stateNode={isHidden:!1},t}function mf(t,e,n){return t=rn(6,t,null,e),t.lanes=n,t}function gf(t,e,n){return e=rn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nk(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qh(0),this.expirationTimes=Qh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function hg(t,e,n,r,i,s,o,a,c){return t=new nk(t,e,n,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=rn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qm(s),t}function rk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function LT(t){if(!t)return di;t=t._reactInternals;e:{if(cs(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ft(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Ft(n))return L1(t,n,e)}return e}function VT(t,e,n,r,i,s,o,a,c){return t=hg(n,r,!0,t,i,s,o,a,c),t.context=LT(null),n=t.current,r=Rt(),i=ni(n),s=sr(r,i),s.callback=e??null,ei(n,s,i),t.current.lanes=i,Rl(t,i,r),Ut(t,r),t}function Nd(t,e,n,r){var i=e.current,s=Rt(),o=ni(i);return n=LT(n),e.context===null?e.context=n:e.pendingContext=n,e=sr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ei(i,e,o),t!==null&&(wn(t,i,o,s),Qc(t,i,o)),o}function qu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function H0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function fg(t,e){H0(t,e),(t=t.alternate)&&H0(t,e)}function ik(){return null}var jT=typeof reportError=="function"?reportError:function(t){console.error(t)};function pg(t){this._internalRoot=t}Dd.prototype.render=pg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Nd(t,e,null,null)};Dd.prototype.unmount=pg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ji(function(){Nd(null,t,null,null)}),e[lr]=null}};function Dd(t){this._internalRoot=t}Dd.prototype.unstable_scheduleHydration=function(t){if(t){var e=m1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Or.length&&e!==0&&e<Or[n].priority;n++);Or.splice(n,0,t),n===0&&y1(t)}};function mg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Od(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function q0(){}function sk(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=qu(o);s.call(u)}}var o=VT(e,r,t,0,null,!1,!1,"",q0);return t._reactRootContainer=o,t[lr]=o.current,Za(t.nodeType===8?t.parentNode:t),Ji(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=qu(c);a.call(u)}}var c=hg(t,0,!1,null,null,!1,!1,"",q0);return t._reactRootContainer=c,t[lr]=c.current,Za(t.nodeType===8?t.parentNode:t),Ji(function(){Nd(e,c,n,r)}),c}function Md(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=qu(o);a.call(c)}}Nd(e,o,t,i)}else o=sk(n,e,t,i,r);return qu(o)}f1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wa(e.pendingLanes);n!==0&&(Om(e,n|1),Ut(e,Fe()),!(me&6)&&(_o=Fe()+500,Ii()))}break;case 13:Ji(function(){var r=cr(t,1);if(r!==null){var i=Rt();wn(r,t,1,i)}}),fg(t,1)}};Mm=function(t){if(t.tag===13){var e=cr(t,134217728);if(e!==null){var n=Rt();wn(e,t,134217728,n)}fg(t,134217728)}};p1=function(t){if(t.tag===13){var e=ni(t),n=cr(t,e);if(n!==null){var r=Rt();wn(n,t,e,r)}fg(t,e)}};m1=function(){return _e};g1=function(t,e){var n=_e;try{return _e=t,e()}finally{_e=n}};rp=function(t,e,n){switch(e){case"input":if(Yf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Cd(r);if(!i)throw Error(B(90));KE(r),Yf(r,i)}}}break;case"textarea":QE(t,n);break;case"select":e=n.value,e!=null&&Bs(t,!!n.multiple,e,!1)}};n1=lg;r1=Ji;var ok={usingClientEntryPoint:!1,Events:[bl,Ms,Cd,e1,t1,lg]},ma={findFiberByHostInstance:ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ak={bundleType:ma.bundleType,version:ma.version,rendererPackageName:ma.rendererPackageName,rendererConfig:ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_r.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=o1(t),t===null?null:t.stateNode},findFiberByHostInstance:ma.findFiberByHostInstance||ik,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{Ed=Pc.inject(ak),Vn=Pc}catch{}}Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ok;Xt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mg(e))throw Error(B(200));return rk(t,e,null,n)};Xt.createRoot=function(t,e){if(!mg(t))throw Error(B(299));var n=!1,r="",i=jT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=hg(t,1,!1,null,null,n,!1,r,i),t[lr]=e.current,Za(t.nodeType===8?t.parentNode:t),new pg(e)};Xt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=o1(e),t=t===null?null:t.stateNode,t};Xt.flushSync=function(t){return Ji(t)};Xt.hydrate=function(t,e,n){if(!Od(e))throw Error(B(200));return Md(null,t,e,!0,n)};Xt.hydrateRoot=function(t,e,n){if(!mg(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=jT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=VT(e,null,t,1,n??null,i,!1,s,o),t[lr]=e.current,Za(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Dd(e)};Xt.render=function(t,e,n){if(!Od(e))throw Error(B(200));return Md(null,t,e,!1,n)};Xt.unmountComponentAtNode=function(t){if(!Od(t))throw Error(B(40));return t._reactRootContainer?(Ji(function(){Md(null,null,t,!1,function(){t._reactRootContainer=null,t[lr]=null})}),!0):!1};Xt.unstable_batchedUpdates=lg;Xt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Od(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Md(t,e,n,!1,r)};Xt.version="18.3.1-next-f1338f8080-20240426";function FT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(FT)}catch(t){console.error(t)}}FT(),FE.exports=Xt;var Nl=FE.exports;const lk=SE(Nl);var UT,W0=Nl;UT=W0.createRoot,W0.hydrateRoot;function ck(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,s,o=[],a="",c=t.split("/");for(c[0]||c.shift();i=c.shift();)n=i[0],n==="*"?(o.push(n),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~r?r:~s?s:i.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+i.substring(s))):a+="/"+i;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var $T={exports:{}},zT={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wo=E;function uk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dk=typeof Object.is=="function"?Object.is:uk,hk=wo.useState,fk=wo.useEffect,pk=wo.useLayoutEffect,mk=wo.useDebugValue;function gk(t,e){var n=e(),r=hk({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return pk(function(){i.value=n,i.getSnapshot=e,yf(i)&&s({inst:i})},[t,n,e]),fk(function(){return yf(i)&&s({inst:i}),t(function(){yf(i)&&s({inst:i})})},[t]),mk(n),n}function yf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!dk(t,n)}catch{return!0}}function yk(t,e){return e()}var vk=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?yk:gk;zT.useSyncExternalStore=wo.useSyncExternalStore!==void 0?wo.useSyncExternalStore:vk;$T.exports=zT;var _k=$T.exports;const wk=VE.useInsertionEffect,Ek=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Tk=Ek?E.useLayoutEffect:E.useEffect,xk=wk||Tk,BT=t=>{const e=E.useRef([t,(...n)=>e[0](...n)]).current;return xk(()=>{e[0]=t}),e[1]},Ik="popstate",gg="pushState",yg="replaceState",Ck="hashchange",K0=[Ik,gg,yg,Ck],Sk=t=>{for(const e of K0)addEventListener(e,t);return()=>{for(const e of K0)removeEventListener(e,t)}},HT=(t,e)=>_k.useSyncExternalStore(Sk,t,e),Ak=()=>location.search,Rk=({ssrSearch:t=""}={})=>HT(Ak,()=>t),G0=()=>location.pathname,Pk=({ssrPath:t}={})=>HT(G0,t?()=>t:G0),bk=(t,{replace:e=!1,state:n=null}={})=>history[e?yg:gg](n,"",t),kk=(t={})=>[Pk(t),bk],Q0=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Q0]>"u"){for(const t of[gg,yg]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,Q0,{value:!0})}const Nk=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",qT=(t="")=>t==="/"?"":t,Dk=(t,e)=>t[0]==="~"?t.slice(1):qT(e)+t,Ok=(t="",e)=>Nk(Y0(qT(t)),Y0(e)),Y0=t=>{try{return decodeURI(t)}catch{return t}},WT={hook:kk,searchHook:Rk,parser:ck,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},KT=E.createContext(WT),Ld=()=>E.useContext(KT),GT={},QT=E.createContext(GT),Mk=()=>E.useContext(QT),vg=t=>{const[e,n]=t.hook(t);return[Ok(t.base,e),BT((r,i)=>n(Dk(r,t.base),i))]},YT=(t,e,n,r)=>{const{pattern:i,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=i.exec(n)||[],[a,...c]=o;return a!==void 0?[!0,(()=>{const u=s!==!1?Object.fromEntries(s.map((f,p)=>[f,c[p]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...r?[a]:[]]:[!1,null]},Lk=({children:t,...e})=>{var d,f;const n=Ld(),r=e.hook?WT:n;let i=r;const[s,o]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=s),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let a=E.useRef({}),c=a.current,u=c;for(let p in r){const w=p==="base"?r[p]+(e[p]||""):e[p]||r[p];c===u&&w!==u[p]&&(a.current=u={...u}),u[p]=w,w!==r[p]&&(i=u)}return E.createElement(KT.Provider,{value:i,children:t})},X0=({children:t,component:e},n)=>e?E.createElement(e,{params:n}):typeof t=="function"?t(n):t,Vk=t=>{let e=E.useRef(GT),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},J0=({path:t,nest:e,match:n,...r})=>{const i=Ld(),[s]=vg(i),[o,a,c]=n??YT(i.parser,t,s,e),u=Vk({...Mk(),...a});if(!o)return null;const d=c?E.createElement(Lk,{base:c},X0(r,u)):X0(r,u);return E.createElement(QT.Provider,{value:u,children:d})};E.forwardRef((t,e)=>{const n=Ld(),[r,i]=vg(n),{to:s="",href:o=s,onClick:a,asChild:c,children:u,className:d,replace:f,state:p,...w}=t,I=BT(T=>{T.ctrlKey||T.metaKey||T.altKey||T.shiftKey||T.button!==0||(a==null||a(T),T.defaultPrevented||(T.preventDefault(),i(o,t)))}),y=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&E.isValidElement(u)?E.cloneElement(u,{onClick:I,href:y}):E.createElement("a",{...w,onClick:I,href:y,className:d!=null&&d.call?d(r===o):d,children:u,ref:e})});const XT=t=>Array.isArray(t)?t.flatMap(e=>XT(e&&e.type===E.Fragment?e.props.children:e)):[t],jk=({children:t,location:e})=>{const n=Ld(),[r]=vg(n);for(const i of XT(t)){let s=0;if(E.isValidElement(i)&&(s=YT(n.parser,i.props.path,e||r,i.props.nest))[0])return E.cloneElement(i,{match:s})}return null};var Vd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},jd=typeof window>"u"||"Deno"in globalThis;function fn(){}function Fk(t,e){return typeof t=="function"?t(e):t}function Uk(t){return typeof t=="number"&&t>=0&&t!==1/0}function $k(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Z0(t,e){return typeof t=="function"?t(e):t}function zk(t,e){return typeof t=="function"?t(e):t}function e_(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==_g(o,e.options))return!1}else if(!cl(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function t_(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(ll(e.options.mutationKey)!==ll(s))return!1}else if(!cl(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function _g(t,e){return((e==null?void 0:e.queryKeyHashFn)||ll)(t)}function ll(t){return JSON.stringify(t,(e,n)=>Lp(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function cl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!cl(t[n],e[n])):!1}function JT(t,e){if(t===e)return t;const n=n_(t)&&n_(e);if(n||Lp(t)&&Lp(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let c=0;for(let u=0;u<o;u++){const d=n?u:s[u];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,c++):(a[d]=JT(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&c++)}return i===o&&c===i?t:a}return e}function n_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Lp(t){if(!r_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!r_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function r_(t){return Object.prototype.toString.call(t)==="[object Object]"}function Bk(t){return new Promise(e=>{setTimeout(e,t)})}function Hk(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?JT(t,e):e}function qk(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Wk(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var wg=Symbol();function ZT(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===wg?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var zi,$r,ro,vE,Kk=(vE=class extends Vd{constructor(){super();ye(this,zi);ye(this,$r);ye(this,ro);oe(this,ro,e=>{if(!jd&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,$r)||this.setEventListener(z(this,ro))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,$r))==null||e.call(this),oe(this,$r,void 0))}setEventListener(e){var n;oe(this,ro,e),(n=z(this,$r))==null||n.call(this),oe(this,$r,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){z(this,zi)!==e&&(oe(this,zi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof z(this,zi)=="boolean"?z(this,zi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},zi=new WeakMap,$r=new WeakMap,ro=new WeakMap,vE),ex=new Kk,io,zr,so,_E,Gk=(_E=class extends Vd{constructor(){super();ye(this,io,!0);ye(this,zr);ye(this,so);oe(this,so,e=>{if(!jd&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,zr)||this.setEventListener(z(this,so))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,zr))==null||e.call(this),oe(this,zr,void 0))}setEventListener(e){var n;oe(this,so,e),(n=z(this,zr))==null||n.call(this),oe(this,zr,e(this.setOnline.bind(this)))}setOnline(e){z(this,io)!==e&&(oe(this,io,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return z(this,io)}},io=new WeakMap,zr=new WeakMap,so=new WeakMap,_E),Wu=new Gk;function Qk(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function Yk(t){return Math.min(1e3*2**t,3e4)}function tx(t){return(t??"online")==="online"?Wu.isOnline():!0}var nx=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function vf(t){return t instanceof nx}function rx(t){let e=!1,n=0,r=!1,i;const s=Qk(),o=y=>{var T;r||(p(new nx(y)),(T=t.abort)==null||T.call(t))},a=()=>{e=!0},c=()=>{e=!1},u=()=>ex.isFocused()&&(t.networkMode==="always"||Wu.isOnline())&&t.canRun(),d=()=>tx(t.networkMode)&&t.canRun(),f=y=>{var T;r||(r=!0,(T=t.onSuccess)==null||T.call(t,y),i==null||i(),s.resolve(y))},p=y=>{var T;r||(r=!0,(T=t.onError)==null||T.call(t,y),i==null||i(),s.reject(y))},w=()=>new Promise(y=>{var T;i=v=>{(r||u())&&y(v)},(T=t.onPause)==null||T.call(t)}).then(()=>{var y;i=void 0,r||(y=t.onContinue)==null||y.call(t)}),I=()=>{if(r)return;let y;const T=n===0?t.initialPromise:void 0;try{y=T??t.fn()}catch(v){y=Promise.reject(v)}Promise.resolve(y).then(f).catch(v=>{var V;if(r)return;const _=t.retry??(jd?0:3),C=t.retryDelay??Yk,k=typeof C=="function"?C(n,v):C,O=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,v);if(e||!O){p(v);return}n++,(V=t.onFail)==null||V.call(t,n,v),Bk(k).then(()=>u()?void 0:w()).then(()=>{e?p(v):I()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?I():w().then(I),s)}}function Xk(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{s(()=>{a(...c)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var St=Xk(),Bi,wE,ix=(wE=class{constructor(){ye(this,Bi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Uk(this.gcTime)&&oe(this,Bi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(jd?1/0:5*60*1e3))}clearGcTimeout(){z(this,Bi)&&(clearTimeout(z(this,Bi)),oe(this,Bi,void 0))}},Bi=new WeakMap,wE),oo,ao,en,mt,Cl,Hi,pn,Jn,EE,Jk=(EE=class extends ix{constructor(n){super();ye(this,pn);ye(this,oo);ye(this,ao);ye(this,en);ye(this,mt);ye(this,Cl);ye(this,Hi);oe(this,Hi,!1),oe(this,Cl,n.defaultOptions),this.setOptions(n.options),this.observers=[],oe(this,en,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,oe(this,oo,eN(this.options)),this.state=n.state??z(this,oo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=z(this,mt))==null?void 0:n.promise}setOptions(n){this.options={...z(this,Cl),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,en).remove(this)}setData(n,r){const i=Hk(this.state.data,n,this.options);return dt(this,pn,Jn).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){dt(this,pn,Jn).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=z(this,mt))==null?void 0:i.promise;return(s=z(this,mt))==null||s.cancel(n),r?r.then(fn).catch(fn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,oo))}isActive(){return this.observers.some(n=>zk(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===wg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!$k(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,mt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,mt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),z(this,en).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(z(this,mt)&&(z(this,Hi)?z(this,mt).cancel({revert:!0}):z(this,mt).cancelRetry()),this.scheduleGc()),z(this,en).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||dt(this,pn,Jn).call(this,{type:"invalidate"})}fetch(n,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,mt))return z(this,mt).continueRetry(),z(this,mt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(w=>w.options.queryFn);p&&this.setOptions(p.options)}const i=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(oe(this,Hi,!0),i.signal)})},o=()=>{const p=ZT(this.options,r),w={queryKey:this.queryKey,meta:this.meta};return s(w),oe(this,Hi,!1),this.options.persister?this.options.persister(p,w,this):p(w)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(u=this.options.behavior)==null||u.onFetch(a,this),oe(this,ao,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&dt(this,pn,Jn).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const c=p=>{var w,I,y,T;vf(p)&&p.silent||dt(this,pn,Jn).call(this,{type:"error",error:p}),vf(p)||((I=(w=z(this,en).config).onError)==null||I.call(w,p,this),(T=(y=z(this,en).config).onSettled)==null||T.call(y,this.state.data,p,this)),this.scheduleGc()};return oe(this,mt,rx({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:p=>{var w,I,y,T;if(p===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(v){c(v);return}(I=(w=z(this,en).config).onSuccess)==null||I.call(w,p,this),(T=(y=z(this,en).config).onSettled)==null||T.call(y,p,this.state.error,this),this.scheduleGc()},onError:c,onFail:(p,w)=>{dt(this,pn,Jn).call(this,{type:"failed",failureCount:p,error:w})},onPause:()=>{dt(this,pn,Jn).call(this,{type:"pause"})},onContinue:()=>{dt(this,pn,Jn).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),z(this,mt).start()}},oo=new WeakMap,ao=new WeakMap,en=new WeakMap,mt=new WeakMap,Cl=new WeakMap,Hi=new WeakMap,pn=new WeakSet,Jn=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...Zk(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return vf(s)&&s.revert&&z(this,ao)?{...z(this,ao),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),St.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),z(this,en).notify({query:this,type:"updated",action:n})})},EE);function Zk(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:tx(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function eN(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Nn,TE,tN=(TE=class extends Vd{constructor(e={}){super();ye(this,Nn);this.config=e,oe(this,Nn,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??_g(i,n);let o=this.get(s);return o||(o=new Jk({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){z(this,Nn).has(e.queryHash)||(z(this,Nn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=z(this,Nn).get(e.queryHash);n&&(e.destroy(),n===e&&z(this,Nn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){St.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return z(this,Nn).get(e)}getAll(){return[...z(this,Nn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>e_(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>e_(e,r)):n}notify(e){St.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){St.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){St.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Nn=new WeakMap,TE),Dn,It,qi,On,Pr,xE,nN=(xE=class extends ix{constructor(n){super();ye(this,On);ye(this,Dn);ye(this,It);ye(this,qi);this.mutationId=n.mutationId,oe(this,It,n.mutationCache),oe(this,Dn,[]),this.state=n.state||rN(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){z(this,Dn).includes(n)||(z(this,Dn).push(n),this.clearGcTimeout(),z(this,It).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){oe(this,Dn,z(this,Dn).filter(r=>r!==n)),this.scheduleGc(),z(this,It).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){z(this,Dn).length||(this.state.status==="pending"?this.scheduleGc():z(this,It).remove(this))}continue(){var n;return((n=z(this,qi))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var s,o,a,c,u,d,f,p,w,I,y,T,v,_,C,k,O,V,A,x;oe(this,qi,rx({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(R,P)=>{dt(this,On,Pr).call(this,{type:"failed",failureCount:R,error:P})},onPause:()=>{dt(this,On,Pr).call(this,{type:"pause"})},onContinue:()=>{dt(this,On,Pr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,It).canRun(this)}));const r=this.state.status==="pending",i=!z(this,qi).canStart();try{if(!r){dt(this,On,Pr).call(this,{type:"pending",variables:n,isPaused:i}),await((o=(s=z(this,It).config).onMutate)==null?void 0:o.call(s,n,this));const P=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,n));P!==this.state.context&&dt(this,On,Pr).call(this,{type:"pending",context:P,variables:n,isPaused:i})}const R=await z(this,qi).start();return await((d=(u=z(this,It).config).onSuccess)==null?void 0:d.call(u,R,n,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,R,n,this.state.context)),await((I=(w=z(this,It).config).onSettled)==null?void 0:I.call(w,R,null,this.state.variables,this.state.context,this)),await((T=(y=this.options).onSettled)==null?void 0:T.call(y,R,null,n,this.state.context)),dt(this,On,Pr).call(this,{type:"success",data:R}),R}catch(R){try{throw await((_=(v=z(this,It).config).onError)==null?void 0:_.call(v,R,n,this.state.context,this)),await((k=(C=this.options).onError)==null?void 0:k.call(C,R,n,this.state.context)),await((V=(O=z(this,It).config).onSettled)==null?void 0:V.call(O,void 0,R,this.state.variables,this.state.context,this)),await((x=(A=this.options).onSettled)==null?void 0:x.call(A,void 0,R,n,this.state.context)),R}finally{dt(this,On,Pr).call(this,{type:"error",error:R})}}finally{z(this,It).runNext(this)}}},Dn=new WeakMap,It=new WeakMap,qi=new WeakMap,On=new WeakSet,Pr=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),St.batch(()=>{z(this,Dn).forEach(i=>{i.onMutationUpdate(n)}),z(this,It).notify({mutation:this,type:"updated",action:n})})},xE);function rN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var zt,Sl,IE,iN=(IE=class extends Vd{constructor(e={}){super();ye(this,zt);ye(this,Sl);this.config=e,oe(this,zt,new Map),oe(this,Sl,Date.now())}build(e,n,r){const i=new nN({mutationCache:this,mutationId:++hc(this,Sl)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=bc(e),r=z(this,zt).get(n)??[];r.push(e),z(this,zt).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=bc(e);if(z(this,zt).has(n)){const i=(r=z(this,zt).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?z(this,zt).delete(n):z(this,zt).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=z(this,zt).get(bc(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=z(this,zt).get(bc(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){St.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...z(this,zt).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>t_(n,r))}findAll(e={}){return this.getAll().filter(n=>t_(e,n))}notify(e){St.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return St.batch(()=>Promise.all(e.map(n=>n.continue().catch(fn))))}},zt=new WeakMap,Sl=new WeakMap,IE);function bc(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function i_(t){return{onFetch:(e,n)=>{var d,f,p,w,I;const r=e.options,i=(p=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,s=((w=e.state.data)==null?void 0:w.pages)||[],o=((I=e.state.data)==null?void 0:I.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const T=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},v=ZT(e.options,e.fetchOptions),_=async(C,k,O)=>{if(y)return Promise.reject();if(k==null&&C.pages.length)return Promise.resolve(C);const V={queryKey:e.queryKey,pageParam:k,direction:O?"backward":"forward",meta:e.options.meta};T(V);const A=await v(V),{maxPages:x}=e.options,R=O?Wk:qk;return{pages:R(C.pages,A,x),pageParams:R(C.pageParams,k,x)}};if(i&&s.length){const C=i==="backward",k=C?sN:s_,O={pages:s,pageParams:o},V=k(r,O);a=await _(O,V,C)}else{const C=t??s.length;do{const k=c===0?o[0]??r.initialPageParam:s_(r,a);if(c>0&&k==null)break;a=await _(a,k),c++}while(c<C)}return a};e.options.persister?e.fetchFn=()=>{var y,T;return(T=(y=e.options).persister)==null?void 0:T.call(y,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function s_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function sN(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Le,Br,Hr,lo,co,qr,uo,ho,CE,oN=(CE=class{constructor(t={}){ye(this,Le);ye(this,Br);ye(this,Hr);ye(this,lo);ye(this,co);ye(this,qr);ye(this,uo);ye(this,ho);oe(this,Le,t.queryCache||new tN),oe(this,Br,t.mutationCache||new iN),oe(this,Hr,t.defaultOptions||{}),oe(this,lo,new Map),oe(this,co,new Map),oe(this,qr,0)}mount(){hc(this,qr)._++,z(this,qr)===1&&(oe(this,uo,ex.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,Le).onFocus())})),oe(this,ho,Wu.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,Le).onOnline())})))}unmount(){var t,e;hc(this,qr)._--,z(this,qr)===0&&((t=z(this,uo))==null||t.call(this),oe(this,uo,void 0),(e=z(this,ho))==null||e.call(this),oe(this,ho,void 0))}isFetching(t){return z(this,Le).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return z(this,Br).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,Le).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=z(this,Le).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Z0(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return z(this,Le).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=z(this,Le).get(r.queryHash),s=i==null?void 0:i.state.data,o=Fk(e,s);if(o!==void 0)return z(this,Le).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return St.batch(()=>z(this,Le).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,Le).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=z(this,Le);St.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=z(this,Le),r={type:"active",...t};return St.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=St.batch(()=>z(this,Le).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(fn).catch(fn)}invalidateQueries(t={},e={}){return St.batch(()=>{if(z(this,Le).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=St.batch(()=>z(this,Le).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(fn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(fn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=z(this,Le).build(this,e);return n.isStaleByTime(Z0(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(fn).catch(fn)}fetchInfiniteQuery(t){return t.behavior=i_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(fn).catch(fn)}ensureInfiniteQueryData(t){return t.behavior=i_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Wu.isOnline()?z(this,Br).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,Le)}getMutationCache(){return z(this,Br)}getDefaultOptions(){return z(this,Hr)}setDefaultOptions(t){oe(this,Hr,t)}setQueryDefaults(t,e){z(this,lo).set(ll(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...z(this,lo).values()];let n={};return e.forEach(r=>{cl(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){z(this,co).set(ll(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...z(this,co).values()];let n={};return e.forEach(r=>{cl(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...z(this,Hr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=_g(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===wg&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...z(this,Hr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){z(this,Le).clear(),z(this,Br).clear()}},Le=new WeakMap,Br=new WeakMap,Hr=new WeakMap,lo=new WeakMap,co=new WeakMap,qr=new WeakMap,uo=new WeakMap,ho=new WeakMap,CE),aN=E.createContext(void 0),lN=({client:t,children:e})=>(E.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(aN.Provider,{value:t,children:e}));async function cN(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const uN=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e[0],{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await cN(n),await n.json())},dN=new oN({defaultOptions:{queries:{queryFn:uN({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),hN=1,fN=1e6;let _f=0;function pN(){return _f=(_f+1)%Number.MAX_SAFE_INTEGER,_f.toString()}const wf=new Map,o_=t=>{if(wf.has(t))return;const e=setTimeout(()=>{wf.delete(t),Va({type:"REMOVE_TOAST",toastId:t})},fN);wf.set(t,e)},mN=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,hN)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?o_(n):t.toasts.forEach(r=>{o_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},nu=[];let ru={toasts:[]};function Va(t){ru=mN(ru,t),nu.forEach(e=>{e(ru)})}function gN({...t}){const e=pN(),n=i=>Va({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Va({type:"DISMISS_TOAST",toastId:e});return Va({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Dl(){const[t,e]=E.useState(ru);return E.useEffect(()=>(nu.push(e),()=>{const n=nu.indexOf(e);n>-1&&nu.splice(n,1)}),[t]),{...t,toast:gN,dismiss:n=>Va({type:"DISMISS_TOAST",toastId:n})}}function pe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function a_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function sx(...t){return e=>{let n=!1;const r=t.map(i=>{const s=a_(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():a_(t[i],null)}}}}function wt(...t){return E.useCallback(sx(...t),t)}function yN(t,e){const n=E.createContext(e),r=s=>{const{children:o,...a}=s,c=E.useMemo(()=>a,Object.values(a));return m.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function i(s){const o=E.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function us(t,e=[]){let n=[];function r(s,o){const a=E.createContext(o),c=n.length;n=[...n,o];const u=f=>{var v;const{scope:p,children:w,...I}=f,y=((v=p==null?void 0:p[t])==null?void 0:v[c])||a,T=E.useMemo(()=>I,Object.values(I));return m.jsx(y.Provider,{value:T,children:w})};u.displayName=s+"Provider";function d(f,p){var y;const w=((y=p==null?void 0:p[t])==null?void 0:y[c])||a,I=E.useContext(w);if(I)return I;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(o=>E.createContext(o));return function(a){const c=(a==null?void 0:a[t])||s;return E.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return i.scopeName=t,[r,vN(i,...e)]}function vN(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...a,...f}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function ul(t){const e=wN(t),n=E.forwardRef((r,i)=>{const{children:s,...o}=r,a=E.Children.toArray(s),c=a.find(TN);if(c){const u=c.props.children,d=a.map(f=>f===c?E.Children.count(u)>1?E.Children.only(null):E.isValidElement(u)?u.props.children:null:f);return m.jsx(e,{...o,ref:i,children:E.isValidElement(u)?E.cloneElement(u,void 0,d):null})}return m.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var _N=ul("Slot");function wN(t){const e=E.forwardRef((n,r)=>{const{children:i,...s}=n;if(E.isValidElement(i)){const o=IN(i),a=xN(s,i.props);return i.type!==E.Fragment&&(a.ref=r?sx(r,o):o),E.cloneElement(i,a)}return E.Children.count(i)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var ox=Symbol("radix.slottable");function EN(t){const e=({children:n})=>m.jsx(m.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=ox,e}function TN(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ox}function xN(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function IN(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function ax(t){const e=t+"CollectionProvider",[n,r]=us(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:T,children:v}=y,_=Rr.useRef(null),C=Rr.useRef(new Map).current;return m.jsx(i,{scope:T,itemMap:C,collectionRef:_,children:v})};o.displayName=e;const a=t+"CollectionSlot",c=ul(a),u=Rr.forwardRef((y,T)=>{const{scope:v,children:_}=y,C=s(a,v),k=wt(T,C.collectionRef);return m.jsx(c,{ref:k,children:_})});u.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",p=ul(d),w=Rr.forwardRef((y,T)=>{const{scope:v,children:_,...C}=y,k=Rr.useRef(null),O=wt(T,k),V=s(d,v);return Rr.useEffect(()=>(V.itemMap.set(k,{ref:k,...C}),()=>void V.itemMap.delete(k))),m.jsx(p,{[f]:"",ref:O,children:_})});w.displayName=d;function I(y){const T=s(t+"CollectionConsumer",y);return Rr.useCallback(()=>{const _=T.collectionRef.current;if(!_)return[];const C=Array.from(_.querySelectorAll(`[${f}]`));return Array.from(T.itemMap.values()).sort((V,A)=>C.indexOf(V.ref.current)-C.indexOf(A.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:o,Slot:u,ItemSlot:w},I,r]}var CN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ee=CN.reduce((t,e)=>{const n=ul(`Primitive.${e}`),r=E.forwardRef((i,s)=>{const{asChild:o,...a}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(c,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function lx(t,e){t&&Nl.flushSync(()=>t.dispatchEvent(e))}function Yt(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function SN(t,e=globalThis==null?void 0:globalThis.document){const n=Yt(t);E.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var AN="DismissableLayer",Vp="dismissableLayer.update",RN="dismissableLayer.pointerDownOutside",PN="dismissableLayer.focusOutside",l_,cx=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Fd=E.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...c}=t,u=E.useContext(cx),[d,f]=E.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=E.useState({}),I=wt(e,A=>f(A)),y=Array.from(u.layers),[T]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=y.indexOf(T),_=d?y.indexOf(d):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,k=_>=v,O=kN(A=>{const x=A.target,R=[...u.branches].some(P=>P.contains(x));!k||R||(i==null||i(A),o==null||o(A),A.defaultPrevented||a==null||a())},p),V=NN(A=>{const x=A.target;[...u.branches].some(P=>P.contains(x))||(s==null||s(A),o==null||o(A),A.defaultPrevented||a==null||a())},p);return SN(A=>{_===u.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&a&&(A.preventDefault(),a()))},p),E.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(l_=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),c_(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=l_)}},[d,p,n,u]),E.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),c_())},[d,u]),E.useEffect(()=>{const A=()=>w({});return document.addEventListener(Vp,A),()=>document.removeEventListener(Vp,A)},[]),m.jsx(Ee.div,{...c,ref:I,style:{pointerEvents:C?k?"auto":"none":void 0,...t.style},onFocusCapture:pe(t.onFocusCapture,V.onFocusCapture),onBlurCapture:pe(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:pe(t.onPointerDownCapture,O.onPointerDownCapture)})});Fd.displayName=AN;var bN="DismissableLayerBranch",ux=E.forwardRef((t,e)=>{const n=E.useContext(cx),r=E.useRef(null),i=wt(e,r);return E.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),m.jsx(Ee.div,{...t,ref:i})});ux.displayName=bN;function kN(t,e=globalThis==null?void 0:globalThis.document){const n=Yt(t),r=E.useRef(!1),i=E.useRef(()=>{});return E.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let c=function(){dx(RN,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function NN(t,e=globalThis==null?void 0:globalThis.document){const n=Yt(t),r=E.useRef(!1);return E.useEffect(()=>{const i=s=>{s.target&&!r.current&&dx(PN,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function c_(){const t=new CustomEvent(Vp);document.dispatchEvent(t)}function dx(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?lx(i,s):i.dispatchEvent(s)}var DN=Fd,ON=ux,hi=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},MN="Portal",Eg=E.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=E.useState(!1);hi(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?lk.createPortal(m.jsx(Ee.div,{...r,ref:e}),o):null});Eg.displayName=MN;function LN(t,e){return E.useReducer((n,r)=>e[n][r]??n,t)}var ds=t=>{const{present:e,children:n}=t,r=VN(e),i=typeof n=="function"?n({present:r.isPresent}):E.Children.only(n),s=wt(r.ref,jN(i));return typeof n=="function"||r.isPresent?E.cloneElement(i,{ref:s}):null};ds.displayName="Presence";function VN(t){const[e,n]=E.useState(),r=E.useRef({}),i=E.useRef(t),s=E.useRef("none"),o=t?"mounted":"unmounted",[a,c]=LN(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const u=kc(r.current);s.current=a==="mounted"?u:"none"},[a]),hi(()=>{const u=r.current,d=i.current;if(d!==t){const p=s.current,w=kc(u);t?c("MOUNT"):w==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==w?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),hi(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=w=>{const y=kc(r.current).includes(w.animationName);if(w.target===e&&y&&(c("ANIMATION_END"),!i.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},p=w=>{w.target===e&&(s.current=kc(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:E.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function kc(t){return(t==null?void 0:t.animationName)||"none"}function jN(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Ud({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=FN({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=Yt(n),c=E.useCallback(u=>{if(s){const f=typeof u=="function"?u(t):u;f!==t&&a(f)}else i(u)},[s,t,i,a]);return[o,c]}function FN({defaultProp:t,onChange:e}){const n=E.useState(t),[r]=n,i=E.useRef(r),s=Yt(e);return E.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var UN="VisuallyHidden",$d=E.forwardRef((t,e)=>m.jsx(Ee.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));$d.displayName=UN;var $N=$d,Tg="ToastProvider",[xg,zN,BN]=ax("Toast"),[hx,X5]=us("Toast",[BN]),[HN,zd]=hx(Tg),fx=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,c]=E.useState(null),[u,d]=E.useState(0),f=E.useRef(!1),p=E.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Tg}\`. Expected non-empty \`string\`.`),m.jsx(xg.Provider,{scope:e,children:m.jsx(HN,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:E.useCallback(()=>d(w=>w+1),[]),onToastRemove:E.useCallback(()=>d(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};fx.displayName=Tg;var px="ToastViewport",qN=["F8"],jp="toast.viewportPause",Fp="toast.viewportResume",mx=E.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=qN,label:i="Notifications ({hotkey})",...s}=t,o=zd(px,n),a=zN(n),c=E.useRef(null),u=E.useRef(null),d=E.useRef(null),f=E.useRef(null),p=wt(e,f,o.onViewportChange),w=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=o.toastCount>0;E.useEffect(()=>{const T=v=>{var C;r.length!==0&&r.every(k=>v[k]||v.code===k)&&((C=f.current)==null||C.focus())};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[r]),E.useEffect(()=>{const T=c.current,v=f.current;if(I&&T&&v){const _=()=>{if(!o.isClosePausedRef.current){const V=new CustomEvent(jp);v.dispatchEvent(V),o.isClosePausedRef.current=!0}},C=()=>{if(o.isClosePausedRef.current){const V=new CustomEvent(Fp);v.dispatchEvent(V),o.isClosePausedRef.current=!1}},k=V=>{!T.contains(V.relatedTarget)&&C()},O=()=>{T.contains(document.activeElement)||C()};return T.addEventListener("focusin",_),T.addEventListener("focusout",k),T.addEventListener("pointermove",_),T.addEventListener("pointerleave",O),window.addEventListener("blur",_),window.addEventListener("focus",C),()=>{T.removeEventListener("focusin",_),T.removeEventListener("focusout",k),T.removeEventListener("pointermove",_),T.removeEventListener("pointerleave",O),window.removeEventListener("blur",_),window.removeEventListener("focus",C)}}},[I,o.isClosePausedRef]);const y=E.useCallback(({tabbingDirection:T})=>{const _=a().map(C=>{const k=C.ref.current,O=[k,...i2(k)];return T==="forwards"?O:O.reverse()});return(T==="forwards"?_.reverse():_).flat()},[a]);return E.useEffect(()=>{const T=f.current;if(T){const v=_=>{var O,V,A;const C=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!C){const x=document.activeElement,R=_.shiftKey;if(_.target===T&&R){(O=u.current)==null||O.focus();return}const D=y({tabbingDirection:R?"backwards":"forwards"}),b=D.findIndex(M=>M===x);Ef(D.slice(b+1))?_.preventDefault():R?(V=u.current)==null||V.focus():(A=d.current)==null||A.focus()}};return T.addEventListener("keydown",v),()=>T.removeEventListener("keydown",v)}},[a,y]),m.jsxs(ON,{ref:c,role:"region","aria-label":i.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:I?void 0:"none"},children:[I&&m.jsx(Up,{ref:u,onFocusFromOutsideViewport:()=>{const T=y({tabbingDirection:"forwards"});Ef(T)}}),m.jsx(xg.Slot,{scope:n,children:m.jsx(Ee.ol,{tabIndex:-1,...s,ref:p})}),I&&m.jsx(Up,{ref:d,onFocusFromOutsideViewport:()=>{const T=y({tabbingDirection:"backwards"});Ef(T)}})]})});mx.displayName=px;var gx="ToastFocusProxy",Up=E.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=zd(gx,n);return m.jsx($d,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(a))&&r()}})});Up.displayName=gx;var Bd="Toast",WN="toast.swipeStart",KN="toast.swipeMove",GN="toast.swipeCancel",QN="toast.swipeEnd",yx=E.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,c]=Ud({prop:r,defaultProp:i,onChange:s});return m.jsx(ds,{present:n||a,children:m.jsx(JN,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:Yt(t.onPause),onResume:Yt(t.onResume),onSwipeStart:pe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:pe(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:pe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:pe(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});yx.displayName=Bd;var[YN,XN]=hx(Bd,{onClose(){}}),JN=E.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:w,...I}=t,y=zd(Bd,n),[T,v]=E.useState(null),_=wt(e,M=>v(M)),C=E.useRef(null),k=E.useRef(null),O=i||y.duration,V=E.useRef(0),A=E.useRef(O),x=E.useRef(0),{onToastAdd:R,onToastRemove:P}=y,N=Yt(()=>{var X;(T==null?void 0:T.contains(document.activeElement))&&((X=y.viewport)==null||X.focus()),o()}),D=E.useCallback(M=>{!M||M===1/0||(window.clearTimeout(x.current),V.current=new Date().getTime(),x.current=window.setTimeout(N,M))},[N]);E.useEffect(()=>{const M=y.viewport;if(M){const X=()=>{D(A.current),u==null||u()},G=()=>{const Z=new Date().getTime()-V.current;A.current=A.current-Z,window.clearTimeout(x.current),c==null||c()};return M.addEventListener(jp,G),M.addEventListener(Fp,X),()=>{M.removeEventListener(jp,G),M.removeEventListener(Fp,X)}}},[y.viewport,O,c,u,D]),E.useEffect(()=>{s&&!y.isClosePausedRef.current&&D(O)},[s,O,y.isClosePausedRef,D]),E.useEffect(()=>(R(),()=>P()),[R,P]);const b=E.useMemo(()=>T?Ix(T):null,[T]);return y.viewport?m.jsxs(m.Fragment,{children:[b&&m.jsx(ZN,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:b}),m.jsx(YN,{scope:n,onClose:N,children:Nl.createPortal(m.jsx(xg.ItemSlot,{scope:n,children:m.jsx(DN,{asChild:!0,onEscapeKeyDown:pe(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||N(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:m.jsx(Ee.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":y.swipeDirection,...I,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:pe(t.onKeyDown,M=>{M.key==="Escape"&&(a==null||a(M.nativeEvent),M.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:pe(t.onPointerDown,M=>{M.button===0&&(C.current={x:M.clientX,y:M.clientY})}),onPointerMove:pe(t.onPointerMove,M=>{if(!C.current)return;const X=M.clientX-C.current.x,G=M.clientY-C.current.y,Z=!!k.current,F=["left","right"].includes(y.swipeDirection),q=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,Y=F?q(0,X):0,se=F?0:q(0,G),fe=M.pointerType==="touch"?10:2,we={x:Y,y:se},Nt={originalEvent:M,delta:we};Z?(k.current=we,Nc(KN,f,Nt,{discrete:!1})):u_(we,y.swipeDirection,fe)?(k.current=we,Nc(WN,d,Nt,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(X)>fe||Math.abs(G)>fe)&&(C.current=null)}),onPointerUp:pe(t.onPointerUp,M=>{const X=k.current,G=M.target;if(G.hasPointerCapture(M.pointerId)&&G.releasePointerCapture(M.pointerId),k.current=null,C.current=null,X){const Z=M.currentTarget,F={originalEvent:M,delta:X};u_(X,y.swipeDirection,y.swipeThreshold)?Nc(QN,w,F,{discrete:!0}):Nc(GN,p,F,{discrete:!0}),Z.addEventListener("click",q=>q.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),ZN=t=>{const{__scopeToast:e,children:n,...r}=t,i=zd(Bd,e),[s,o]=E.useState(!1),[a,c]=E.useState(!1);return n2(()=>o(!0)),E.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:m.jsx(Eg,{asChild:!0,children:m.jsx($d,{...r,children:s&&m.jsxs(m.Fragment,{children:[i.label," ",n]})})})},e2="ToastTitle",vx=E.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return m.jsx(Ee.div,{...r,ref:e})});vx.displayName=e2;var t2="ToastDescription",_x=E.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return m.jsx(Ee.div,{...r,ref:e})});_x.displayName=t2;var wx="ToastAction",Ex=E.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?m.jsx(xx,{altText:n,asChild:!0,children:m.jsx(Ig,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${wx}\`. Expected non-empty \`string\`.`),null)});Ex.displayName=wx;var Tx="ToastClose",Ig=E.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=XN(Tx,n);return m.jsx(xx,{asChild:!0,children:m.jsx(Ee.button,{type:"button",...r,ref:e,onClick:pe(t.onClick,i.onClose)})})});Ig.displayName=Tx;var xx=E.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return m.jsx(Ee.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function Ix(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),r2(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Ix(r))}}),e}function Nc(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?lx(i,s):i.dispatchEvent(s)}var u_=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function n2(t=()=>{}){const e=Yt(t);hi(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function r2(t){return t.nodeType===t.ELEMENT_NODE}function i2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Ef(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var s2=fx,Cx=mx,Sx=yx,Ax=vx,Rx=_x,Px=Ex,bx=Ig;function kx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=kx(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Nx(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=kx(t))&&(r&&(r+=" "),r+=e);return r}const d_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,h_=Nx,Hd=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return h_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=s==null?void 0:s[u];if(d===null)return null;const p=d_(d)||d_(f);return i[u][p]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:p,...w}=d;return Object.entries(w).every(I=>{let[y,T]=I;return Array.isArray(T)?T.includes({...s,...a}[y]):{...s,...a}[y]===T})?[...u,f,p]:u},[]);return h_(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Dx=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var a2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},c)=>E.createElement("svg",{ref:c,...a2,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Dx("lucide",i),...a},[...o.map(([u,d])=>E.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=(t,e)=>{const n=E.forwardRef(({className:r,...i},s)=>E.createElement(l2,{ref:s,iconNode:e,className:Dx(`lucide-${o2(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=Pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=Pe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=Pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=Pe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=Pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=Pe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=Pe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=Pe("IdCard",[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=Pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=Pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=Pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=Pe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=Pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=Pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=Pe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=Pe("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=Pe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=Pe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=Pe("Stamp",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M19.27 13.73A2.5 2.5 0 0 0 17.5 13h-11A2.5 2.5 0 0 0 4 15.5V17a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-1.5c0-.66-.26-1.3-.73-1.77Z",key:"1sy9ra"}],["path",{d:"M14 13V8.5C14 7 15 7 15 5a3 3 0 0 0-3-3c-1.66 0-3 1-3 3s1 2 1 3.5V13",key:"cnxgux"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=Pe("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=Pe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=Pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=Pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=Pe("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=Pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Cg="-",C2=t=>{const e=A2(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Cg);return a[0]===""&&a.length!==1&&a.shift(),Vx(a,e)||S2(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},Vx=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?Vx(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(Cg);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},y_=/^\[(.+)\]$/,S2=t=>{if(y_.test(t)){const e=y_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},A2=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return P2(Object.entries(t.classGroups),n).forEach(([s,o])=>{$p(o,r,s,e)}),r},$p=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:v_(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(R2(i)){$p(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{$p(o,v_(e,s),n,r)})})},v_=(t,e)=>{let n=t;return e.split(Cg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},R2=t=>t.isThemeGetter,P2=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,b2=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},jx="!",k2=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const c=[];let u=0,d=0,f;for(let T=0;T<a.length;T++){let v=a[T];if(u===0){if(v===i&&(r||a.slice(T,T+s)===e)){c.push(a.slice(d,T)),d=T+s;continue}if(v==="/"){f=T;continue}}v==="["?u++:v==="]"&&u--}const p=c.length===0?a:a.substring(d),w=p.startsWith(jx),I=w?p.substring(1):p,y=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:w,baseClassName:I,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},N2=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},D2=t=>({cache:b2(t.cacheSize),parseClassName:k2(t),...C2(t)}),O2=/\s+/,M2=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(O2);let a="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:w}=n(u);let I=!!w,y=r(I?p.substring(0,w):p);if(!y){if(!I){a=u+(a.length>0?" "+a:a);continue}if(y=r(p),!y){a=u+(a.length>0?" "+a:a);continue}I=!1}const T=N2(d).join(":"),v=f?T+jx:T,_=v+y;if(s.includes(_))continue;s.push(_);const C=i(y,I);for(let k=0;k<C.length;++k){const O=C[k];s.push(v+O)}a=u+(a.length>0?" "+a:a)}return a};function L2(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Fx(e))&&(r&&(r+=" "),r+=n);return r}const Fx=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Fx(t[r]))&&(n&&(n+=" "),n+=e);return n};function V2(t,...e){let n,r,i,s=o;function o(c){const u=e.reduce((d,f)=>f(d),t());return n=D2(u),r=n.cache.get,i=n.cache.set,s=a,a(c)}function a(c){const u=r(c);if(u)return u;const d=M2(c,n);return i(c,d),d}return function(){return s(L2.apply(null,arguments))}}const Ce=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Ux=/^\[(?:([a-z-]+):)?(.+)\]$/i,j2=/^\d+\/\d+$/,F2=new Set(["px","full","screen"]),U2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,z2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,B2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,H2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xn=t=>Qs(t)||F2.has(t)||j2.test(t),Cr=t=>Lo(t,"length",J2),Qs=t=>!!t&&!Number.isNaN(Number(t)),Tf=t=>Lo(t,"number",Qs),ga=t=>!!t&&Number.isInteger(Number(t)),q2=t=>t.endsWith("%")&&Qs(t.slice(0,-1)),ie=t=>Ux.test(t),Sr=t=>U2.test(t),W2=new Set(["length","size","percentage"]),K2=t=>Lo(t,W2,$x),G2=t=>Lo(t,"position",$x),Q2=new Set(["image","url"]),Y2=t=>Lo(t,Q2,eD),X2=t=>Lo(t,"",Z2),ya=()=>!0,Lo=(t,e,n)=>{const r=Ux.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},J2=t=>$2.test(t)&&!z2.test(t),$x=()=>!1,Z2=t=>B2.test(t),eD=t=>H2.test(t),tD=()=>{const t=Ce("colors"),e=Ce("spacing"),n=Ce("blur"),r=Ce("brightness"),i=Ce("borderColor"),s=Ce("borderRadius"),o=Ce("borderSpacing"),a=Ce("borderWidth"),c=Ce("contrast"),u=Ce("grayscale"),d=Ce("hueRotate"),f=Ce("invert"),p=Ce("gap"),w=Ce("gradientColorStops"),I=Ce("gradientColorStopPositions"),y=Ce("inset"),T=Ce("margin"),v=Ce("opacity"),_=Ce("padding"),C=Ce("saturate"),k=Ce("scale"),O=Ce("sepia"),V=Ce("skew"),A=Ce("space"),x=Ce("translate"),R=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",ie,e],D=()=>[ie,e],b=()=>["",Xn,Cr],M=()=>["auto",Qs,ie],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],q=()=>["","0",ie],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>[Qs,ie];return{cacheSize:500,separator:":",theme:{colors:[ya],spacing:[Xn,Cr],blur:["none","",Sr,ie],brightness:se(),borderColor:[t],borderRadius:["none","","full",Sr,ie],borderSpacing:D(),borderWidth:b(),contrast:se(),grayscale:q(),hueRotate:se(),invert:q(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[q2,Cr],inset:N(),margin:N(),opacity:se(),padding:D(),saturate:se(),scale:se(),sepia:q(),skew:se(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",ie]}],container:["container"],columns:[{columns:[Sr]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),ie]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ga,ie]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ie]}],grow:[{grow:q()}],shrink:[{shrink:q()}],order:[{order:["first","last","none",ga,ie]}],"grid-cols":[{"grid-cols":[ya]}],"col-start-end":[{col:["auto",{span:["full",ga,ie]},ie]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[ya]}],"row-start-end":[{row:["auto",{span:[ga,ie]},ie]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ie]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ie]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ie,e]}],"min-w":[{"min-w":[ie,e,"min","max","fit"]}],"max-w":[{"max-w":[ie,e,"none","full","min","max","fit","prose",{screen:[Sr]},Sr]}],h:[{h:[ie,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ie,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ie,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ie,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Sr,Cr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Tf]}],"font-family":[{font:[ya]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ie]}],"line-clamp":[{"line-clamp":["none",Qs,Tf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xn,ie]}],"list-image":[{"list-image":["none",ie]}],"list-style-type":[{list:["none","disc","decimal",ie]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Xn,Cr]}],"underline-offset":[{"underline-offset":["auto",Xn,ie]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),G2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",K2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Y2]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[I]}],"gradient-via-pos":[{via:[I]}],"gradient-to-pos":[{to:[I]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:G()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[Xn,ie]}],"outline-w":[{outline:[Xn,Cr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:b()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Xn,Cr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Sr,X2]}],"shadow-color":[{shadow:[ya]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...Z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Sr,ie]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[C]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ie]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",ie]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",ie]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[ga,ie]}],"translate-x":[{"translate-x":[x]}],"translate-y":[{"translate-y":[x]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ie]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ie]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ie]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Xn,Cr,Tf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},nD=V2(tD);function he(...t){return nD(Nx(t))}const rD=s2,zx=E.forwardRef(({className:t,...e},n)=>m.jsx(Cx,{ref:n,className:he("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));zx.displayName=Cx.displayName;const iD=Hd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Bx=E.forwardRef(({className:t,variant:e,...n},r)=>m.jsx(Sx,{ref:r,className:he(iD({variant:e}),t),...n}));Bx.displayName=Sx.displayName;const sD=E.forwardRef(({className:t,...e},n)=>m.jsx(Px,{ref:n,className:he("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));sD.displayName=Px.displayName;const Hx=E.forwardRef(({className:t,...e},n)=>m.jsx(bx,{ref:n,className:he("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:m.jsx(Lx,{className:"h-4 w-4"})}));Hx.displayName=bx.displayName;const qx=E.forwardRef(({className:t,...e},n)=>m.jsx(Ax,{ref:n,className:he("text-sm font-semibold",t),...e}));qx.displayName=Ax.displayName;const Wx=E.forwardRef(({className:t,...e},n)=>m.jsx(Rx,{ref:n,className:he("text-sm opacity-90",t),...e}));Wx.displayName=Rx.displayName;function oD(){const{toasts:t}=Dl();return m.jsxs(rD,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return m.jsxs(Bx,{...s,children:[m.jsxs("div",{className:"grid gap-1",children:[n&&m.jsx(qx,{children:n}),r&&m.jsx(Wx,{children:r})]}),i,m.jsx(Hx,{})]},e)}),m.jsx(zx,{})]})}var aD=VE[" useId ".trim().toString()]||(()=>{}),lD=0;function ja(t){const[e,n]=E.useState(aD());return hi(()=>{t||n(r=>r??String(lD++))},[t]),t||(e?`radix-${e}`:"")}const cD=["top","right","bottom","left"],fi=Math.min,Ht=Math.max,Qu=Math.round,Dc=Math.floor,Fn=t=>({x:t,y:t}),uD={left:"right",right:"left",bottom:"top",top:"bottom"},dD={start:"end",end:"start"};function zp(t,e,n){return Ht(t,fi(e,n))}function dr(t,e){return typeof t=="function"?t(e):t}function hr(t){return t.split("-")[0]}function Vo(t){return t.split("-")[1]}function Sg(t){return t==="x"?"y":"x"}function Ag(t){return t==="y"?"height":"width"}function pi(t){return["top","bottom"].includes(hr(t))?"y":"x"}function Rg(t){return Sg(pi(t))}function hD(t,e,n){n===void 0&&(n=!1);const r=Vo(t),i=Rg(t),s=Ag(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Yu(o)),[o,Yu(o)]}function fD(t){const e=Yu(t);return[Bp(t),e,Bp(e)]}function Bp(t){return t.replace(/start|end/g,e=>dD[e])}function pD(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function mD(t,e,n,r){const i=Vo(t);let s=pD(hr(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Bp)))),s}function Yu(t){return t.replace(/left|right|bottom|top/g,e=>uD[e])}function gD(t){return{top:0,right:0,bottom:0,left:0,...t}}function Kx(t){return typeof t!="number"?gD(t):{top:t,right:t,bottom:t,left:t}}function Xu(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function __(t,e,n){let{reference:r,floating:i}=t;const s=pi(e),o=Rg(e),a=Ag(o),c=hr(e),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let w;switch(c){case"top":w={x:d,y:r.y-i.height};break;case"bottom":w={x:d,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:f};break;case"left":w={x:r.x-i.width,y:f};break;default:w={x:r.x,y:r.y}}switch(Vo(e)){case"start":w[o]-=p*(n&&u?-1:1);break;case"end":w[o]+=p*(n&&u?-1:1);break}return w}const yD=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=__(u,r,c),p=r,w={},I=0;for(let y=0;y<a.length;y++){const{name:T,fn:v}=a[y],{x:_,y:C,data:k,reset:O}=await v({x:d,y:f,initialPlacement:r,placement:p,strategy:i,middlewareData:w,rects:u,platform:o,elements:{reference:t,floating:e}});d=_??d,f=C??f,w={...w,[T]:{...w[T],...k}},O&&I<=50&&(I++,typeof O=="object"&&(O.placement&&(p=O.placement),O.rects&&(u=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):O.rects),{x:d,y:f}=__(u,p,c)),y=-1)}return{x:d,y:f,placement:p,strategy:i,middlewareData:w}};async function dl(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:w=0}=dr(e,t),I=Kx(w),T=a[p?f==="floating"?"reference":"floating":f],v=Xu(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(T)))==null||n?T:T.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),_=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),k=await(s.isElement==null?void 0:s.isElement(C))?await(s.getScale==null?void 0:s.getScale(C))||{x:1,y:1}:{x:1,y:1},O=Xu(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:C,strategy:c}):_);return{top:(v.top-O.top+I.top)/k.y,bottom:(O.bottom-v.bottom+I.bottom)/k.y,left:(v.left-O.left+I.left)/k.x,right:(O.right-v.right+I.right)/k.x}}const vD=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:c}=e,{element:u,padding:d=0}=dr(t,e)||{};if(u==null)return{};const f=Kx(d),p={x:n,y:r},w=Rg(i),I=Ag(w),y=await o.getDimensions(u),T=w==="y",v=T?"top":"left",_=T?"bottom":"right",C=T?"clientHeight":"clientWidth",k=s.reference[I]+s.reference[w]-p[w]-s.floating[I],O=p[w]-s.reference[w],V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let A=V?V[C]:0;(!A||!await(o.isElement==null?void 0:o.isElement(V)))&&(A=a.floating[C]||s.floating[I]);const x=k/2-O/2,R=A/2-y[I]/2-1,P=fi(f[v],R),N=fi(f[_],R),D=P,b=A-y[I]-N,M=A/2-y[I]/2+x,X=zp(D,M,b),G=!c.arrow&&Vo(i)!=null&&M!==X&&s.reference[I]/2-(M<D?P:N)-y[I]/2<0,Z=G?M<D?M-D:M-b:0;return{[w]:p[w]+Z,data:{[w]:X,centerOffset:M-X-Z,...G&&{alignmentOffset:Z}},reset:G}}}),_D=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:I="none",flipAlignment:y=!0,...T}=dr(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=hr(i),_=pi(a),C=hr(a)===a,k=await(c.isRTL==null?void 0:c.isRTL(u.floating)),O=p||(C||!y?[Yu(a)]:fD(a)),V=I!=="none";!p&&V&&O.push(...mD(a,y,I,k));const A=[a,...O],x=await dl(e,T),R=[];let P=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&R.push(x[v]),f){const M=hD(i,o,k);R.push(x[M[0]],x[M[1]])}if(P=[...P,{placement:i,overflows:R}],!R.every(M=>M<=0)){var N,D;const M=(((N=s.flip)==null?void 0:N.index)||0)+1,X=A[M];if(X)return{data:{index:M,overflows:P},reset:{placement:X}};let G=(D=P.filter(Z=>Z.overflows[0]<=0).sort((Z,F)=>Z.overflows[1]-F.overflows[1])[0])==null?void 0:D.placement;if(!G)switch(w){case"bestFit":{var b;const Z=(b=P.filter(F=>{if(V){const q=pi(F.placement);return q===_||q==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(q=>q>0).reduce((q,Y)=>q+Y,0)]).sort((F,q)=>F[1]-q[1])[0])==null?void 0:b[0];Z&&(G=Z);break}case"initialPlacement":G=a;break}if(i!==G)return{reset:{placement:G}}}return{}}}};function w_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function E_(t){return cD.some(e=>t[e]>=0)}const wD=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=dr(t,e);switch(r){case"referenceHidden":{const s=await dl(e,{...i,elementContext:"reference"}),o=w_(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:E_(o)}}}case"escaped":{const s=await dl(e,{...i,altBoundary:!0}),o=w_(s,n.floating);return{data:{escapedOffsets:o,escaped:E_(o)}}}default:return{}}}}};async function ED(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=hr(n),a=Vo(n),c=pi(n)==="y",u=["left","top"].includes(o)?-1:1,d=s&&c?-1:1,f=dr(e,t);let{mainAxis:p,crossAxis:w,alignmentAxis:I}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof I=="number"&&(w=a==="end"?I*-1:I),c?{x:w*d,y:p*u}:{x:p*u,y:w*d}}const TD=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,c=await ED(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},xD=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:T=>{let{x:v,y:_}=T;return{x:v,y:_}}},...c}=dr(t,e),u={x:n,y:r},d=await dl(e,c),f=pi(hr(i)),p=Sg(f);let w=u[p],I=u[f];if(s){const T=p==="y"?"top":"left",v=p==="y"?"bottom":"right",_=w+d[T],C=w-d[v];w=zp(_,w,C)}if(o){const T=f==="y"?"top":"left",v=f==="y"?"bottom":"right",_=I+d[T],C=I-d[v];I=zp(_,I,C)}const y=a.fn({...e,[p]:w,[f]:I});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[p]:s,[f]:o}}}}}},ID=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=dr(t,e),d={x:n,y:r},f=pi(i),p=Sg(f);let w=d[p],I=d[f];const y=dr(a,e),T=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const C=p==="y"?"height":"width",k=s.reference[p]-s.floating[C]+T.mainAxis,O=s.reference[p]+s.reference[C]-T.mainAxis;w<k?w=k:w>O&&(w=O)}if(u){var v,_;const C=p==="y"?"width":"height",k=["top","left"].includes(hr(i)),O=s.reference[f]-s.floating[C]+(k&&((v=o.offset)==null?void 0:v[f])||0)+(k?0:T.crossAxis),V=s.reference[f]+s.reference[C]+(k?0:((_=o.offset)==null?void 0:_[f])||0)-(k?T.crossAxis:0);I<O?I=O:I>V&&(I=V)}return{[p]:w,[f]:I}}}},CD=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:c=()=>{},...u}=dr(t,e),d=await dl(e,u),f=hr(i),p=Vo(i),w=pi(i)==="y",{width:I,height:y}=s.floating;let T,v;f==="top"||f==="bottom"?(T=f,v=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=f,T=p==="end"?"top":"bottom");const _=y-d.top-d.bottom,C=I-d.left-d.right,k=fi(y-d[T],_),O=fi(I-d[v],C),V=!e.middlewareData.shift;let A=k,x=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(x=C),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=_),V&&!p){const P=Ht(d.left,0),N=Ht(d.right,0),D=Ht(d.top,0),b=Ht(d.bottom,0);w?x=I-2*(P!==0||N!==0?P+N:Ht(d.left,d.right)):A=y-2*(D!==0||b!==0?D+b:Ht(d.top,d.bottom))}await c({...e,availableWidth:x,availableHeight:A});const R=await o.getDimensions(a.floating);return I!==R.width||y!==R.height?{reset:{rects:!0}}:{}}}};function qd(){return typeof window<"u"}function jo(t){return Gx(t)?(t.nodeName||"").toLowerCase():"#document"}function Gt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Kn(t){var e;return(e=(Gx(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Gx(t){return qd()?t instanceof Node||t instanceof Gt(t).Node:!1}function In(t){return qd()?t instanceof Element||t instanceof Gt(t).Element:!1}function qn(t){return qd()?t instanceof HTMLElement||t instanceof Gt(t).HTMLElement:!1}function T_(t){return!qd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Gt(t).ShadowRoot}function Ol(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Cn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function SD(t){return["table","td","th"].includes(jo(t))}function Wd(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Pg(t){const e=bg(),n=In(t)?Cn(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function AD(t){let e=mi(t);for(;qn(e)&&!Eo(e);){if(Pg(e))return e;if(Wd(e))return null;e=mi(e)}return null}function bg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Eo(t){return["html","body","#document"].includes(jo(t))}function Cn(t){return Gt(t).getComputedStyle(t)}function Kd(t){return In(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function mi(t){if(jo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||T_(t)&&t.host||Kn(t);return T_(e)?e.host:e}function Qx(t){const e=mi(t);return Eo(e)?t.ownerDocument?t.ownerDocument.body:t.body:qn(e)&&Ol(e)?e:Qx(e)}function hl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Qx(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Gt(i);if(s){const a=Hp(o);return e.concat(o,o.visualViewport||[],Ol(i)?i:[],a&&n?hl(a):[])}return e.concat(i,hl(i,[],n))}function Hp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Yx(t){const e=Cn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=qn(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Qu(n)!==s||Qu(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function kg(t){return In(t)?t:t.contextElement}function Ys(t){const e=kg(t);if(!qn(e))return Fn(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=Yx(e);let o=(s?Qu(n.width):n.width)/r,a=(s?Qu(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const RD=Fn(0);function Xx(t){const e=Gt(t);return!bg()||!e.visualViewport?RD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function PD(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Gt(t)?!1:e}function Zi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=kg(t);let o=Fn(1);e&&(r?In(r)&&(o=Ys(r)):o=Ys(t));const a=PD(s,n,r)?Xx(s):Fn(0);let c=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(s){const p=Gt(s),w=r&&In(r)?Gt(r):r;let I=p,y=Hp(I);for(;y&&r&&w!==I;){const T=Ys(y),v=y.getBoundingClientRect(),_=Cn(y),C=v.left+(y.clientLeft+parseFloat(_.paddingLeft))*T.x,k=v.top+(y.clientTop+parseFloat(_.paddingTop))*T.y;c*=T.x,u*=T.y,d*=T.x,f*=T.y,c+=C,u+=k,I=Gt(y),y=Hp(I)}}return Xu({width:d,height:f,x:c,y:u})}function Ng(t,e){const n=Kd(t).scrollLeft;return e?e.left+n:Zi(Kn(t)).left+n}function Jx(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:Ng(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function bD(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Kn(r),a=e?Wd(e.floating):!1;if(r===o||a&&s)return n;let c={scrollLeft:0,scrollTop:0},u=Fn(1);const d=Fn(0),f=qn(r);if((f||!f&&!s)&&((jo(r)!=="body"||Ol(o))&&(c=Kd(r)),qn(r))){const w=Zi(r);u=Ys(r),d.x=w.x+r.clientLeft,d.y=w.y+r.clientTop}const p=o&&!f&&!s?Jx(o,c,!0):Fn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-c.scrollTop*u.y+d.y+p.y}}function kD(t){return Array.from(t.getClientRects())}function ND(t){const e=Kn(t),n=Kd(t),r=t.ownerDocument.body,i=Ht(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Ht(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Ng(t);const a=-n.scrollTop;return Cn(r).direction==="rtl"&&(o+=Ht(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function DD(t,e){const n=Gt(t),r=Kn(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;const u=bg();(!u||u&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:a,y:c}}function OD(t,e){const n=Zi(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=qn(t)?Ys(t):Fn(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:o,height:a,x:c,y:u}}function x_(t,e,n){let r;if(e==="viewport")r=DD(t,n);else if(e==="document")r=ND(Kn(t));else if(In(e))r=OD(e,n);else{const i=Xx(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Xu(r)}function Zx(t,e){const n=mi(t);return n===e||!In(n)||Eo(n)?!1:Cn(n).position==="fixed"||Zx(n,e)}function MD(t,e){const n=e.get(t);if(n)return n;let r=hl(t,[],!1).filter(a=>In(a)&&jo(a)!=="body"),i=null;const s=Cn(t).position==="fixed";let o=s?mi(t):t;for(;In(o)&&!Eo(o);){const a=Cn(o),c=Pg(o);!c&&a.position==="fixed"&&(i=null),(s?!c&&!i:!c&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ol(o)&&!c&&Zx(t,o))?r=r.filter(d=>d!==o):i=a,o=mi(o)}return e.set(t,r),r}function LD(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Wd(e)?[]:MD(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((u,d)=>{const f=x_(e,d,i);return u.top=Ht(f.top,u.top),u.right=fi(f.right,u.right),u.bottom=fi(f.bottom,u.bottom),u.left=Ht(f.left,u.left),u},x_(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function VD(t){const{width:e,height:n}=Yx(t);return{width:e,height:n}}function jD(t,e,n){const r=qn(e),i=Kn(e),s=n==="fixed",o=Zi(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const c=Fn(0);if(r||!r&&!s)if((jo(e)!=="body"||Ol(i))&&(a=Kd(e)),r){const p=Zi(e,!0,s,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else i&&(c.x=Ng(i));const u=i&&!r&&!s?Jx(i,a):Fn(0),d=o.left+a.scrollLeft-c.x-u.x,f=o.top+a.scrollTop-c.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function xf(t){return Cn(t).position==="static"}function I_(t,e){if(!qn(t)||Cn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Kn(t)===n&&(n=n.ownerDocument.body),n}function eI(t,e){const n=Gt(t);if(Wd(t))return n;if(!qn(t)){let i=mi(t);for(;i&&!Eo(i);){if(In(i)&&!xf(i))return i;i=mi(i)}return n}let r=I_(t,e);for(;r&&SD(r)&&xf(r);)r=I_(r,e);return r&&Eo(r)&&xf(r)&&!Pg(r)?n:r||AD(t)||n}const FD=async function(t){const e=this.getOffsetParent||eI,n=this.getDimensions,r=await n(t.floating);return{reference:jD(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function UD(t){return Cn(t).direction==="rtl"}const $D={convertOffsetParentRelativeRectToViewportRelativeRect:bD,getDocumentElement:Kn,getClippingRect:LD,getOffsetParent:eI,getElementRects:FD,getClientRects:kD,getDimensions:VD,getScale:Ys,isElement:In,isRTL:UD};function tI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function zD(t,e){let n=null,r;const i=Kn(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:d,top:f,width:p,height:w}=u;if(a||e(),!p||!w)return;const I=Dc(f),y=Dc(i.clientWidth-(d+p)),T=Dc(i.clientHeight-(f+w)),v=Dc(d),C={rootMargin:-I+"px "+-y+"px "+-T+"px "+-v+"px",threshold:Ht(0,fi(1,c))||1};let k=!0;function O(V){const A=V[0].intersectionRatio;if(A!==c){if(!k)return o();A?o(!1,A):r=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!tI(u,t.getBoundingClientRect())&&o(),k=!1}try{n=new IntersectionObserver(O,{...C,root:i.ownerDocument})}catch{n=new IntersectionObserver(O,C)}n.observe(t)}return o(!0),s}function BD(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=kg(t),d=i||s?[...u?hl(u):[],...hl(e)]:[];d.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const f=u&&a?zD(u,n):null;let p=-1,w=null;o&&(w=new ResizeObserver(v=>{let[_]=v;_&&_.target===u&&w&&(w.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var C;(C=w)==null||C.observe(e)})),n()}),u&&!c&&w.observe(u),w.observe(e));let I,y=c?Zi(t):null;c&&T();function T(){const v=Zi(t);y&&!tI(y,v)&&n(),y=v,I=requestAnimationFrame(T)}return n(),()=>{var v;d.forEach(_=>{i&&_.removeEventListener("scroll",n),s&&_.removeEventListener("resize",n)}),f==null||f(),(v=w)==null||v.disconnect(),w=null,c&&cancelAnimationFrame(I)}}const HD=TD,qD=xD,WD=_D,KD=CD,GD=wD,C_=vD,QD=ID,YD=(t,e,n)=>{const r=new Map,i={platform:$D,...n},s={...i.platform,_c:r};return yD(t,e,{...i,platform:s})};var iu=typeof document<"u"?E.useLayoutEffect:E.useEffect;function Ju(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ju(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Ju(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function nI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function S_(t,e){const n=nI(t);return Math.round(e*n)/n}function If(t){const e=E.useRef(t);return iu(()=>{e.current=t}),e}function XD(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[d,f]=E.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,w]=E.useState(r);Ju(p,r)||w(r);const[I,y]=E.useState(null),[T,v]=E.useState(null),_=E.useCallback(F=>{F!==V.current&&(V.current=F,y(F))},[]),C=E.useCallback(F=>{F!==A.current&&(A.current=F,v(F))},[]),k=s||I,O=o||T,V=E.useRef(null),A=E.useRef(null),x=E.useRef(d),R=c!=null,P=If(c),N=If(i),D=If(u),b=E.useCallback(()=>{if(!V.current||!A.current)return;const F={placement:e,strategy:n,middleware:p};N.current&&(F.platform=N.current),YD(V.current,A.current,F).then(q=>{const Y={...q,isPositioned:D.current!==!1};M.current&&!Ju(x.current,Y)&&(x.current=Y,Nl.flushSync(()=>{f(Y)}))})},[p,e,n,N,D]);iu(()=>{u===!1&&x.current.isPositioned&&(x.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[u]);const M=E.useRef(!1);iu(()=>(M.current=!0,()=>{M.current=!1}),[]),iu(()=>{if(k&&(V.current=k),O&&(A.current=O),k&&O){if(P.current)return P.current(k,O,b);b()}},[k,O,b,P,R]);const X=E.useMemo(()=>({reference:V,floating:A,setReference:_,setFloating:C}),[_,C]),G=E.useMemo(()=>({reference:k,floating:O}),[k,O]),Z=E.useMemo(()=>{const F={position:n,left:0,top:0};if(!G.floating)return F;const q=S_(G.floating,d.x),Y=S_(G.floating,d.y);return a?{...F,transform:"translate("+q+"px, "+Y+"px)",...nI(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:q,top:Y}},[n,a,G.floating,d.x,d.y]);return E.useMemo(()=>({...d,update:b,refs:X,elements:G,floatingStyles:Z}),[d,b,X,G,Z])}const JD=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?C_({element:r.current,padding:i}).fn(n):{}:r?C_({element:r,padding:i}).fn(n):{}}}},ZD=(t,e)=>({...HD(t),options:[t,e]}),eO=(t,e)=>({...qD(t),options:[t,e]}),tO=(t,e)=>({...QD(t),options:[t,e]}),nO=(t,e)=>({...WD(t),options:[t,e]}),rO=(t,e)=>({...KD(t),options:[t,e]}),iO=(t,e)=>({...GD(t),options:[t,e]}),sO=(t,e)=>({...JD(t),options:[t,e]});var oO="Arrow",rI=E.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return m.jsx(Ee.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});rI.displayName=oO;var aO=rI;function lO(t){const[e,n]=E.useState(void 0);return hi(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var iI="Popper",[sI,oI]=us(iI),[J5,aI]=sI(iI),lI="PopperAnchor",cI=E.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=aI(lI,n),o=E.useRef(null),a=wt(e,o);return E.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:m.jsx(Ee.div,{...i,ref:a})});cI.displayName=lI;var Dg="PopperContent",[cO,uO]=sI(Dg),uI=E.forwardRef((t,e)=>{var Zt,Kl,Gl,Ri,Pi,gs;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:w="optimized",onPlaced:I,...y}=t,T=aI(Dg,n),[v,_]=E.useState(null),C=wt(e,Gn=>_(Gn)),[k,O]=E.useState(null),V=lO(k),A=(V==null?void 0:V.width)??0,x=(V==null?void 0:V.height)??0,R=r+(s!=="center"?"-"+s:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(u)?u:[u],D=N.length>0,b={padding:P,boundary:N.filter(hO),altBoundary:D},{refs:M,floatingStyles:X,placement:G,isPositioned:Z,middlewareData:F}=XD({strategy:"fixed",placement:R,whileElementsMounted:(...Gn)=>BD(...Gn,{animationFrame:w==="always"}),elements:{reference:T.anchor},middleware:[ZD({mainAxis:i+x,alignmentAxis:o}),c&&eO({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?tO():void 0,...b}),c&&nO({...b}),rO({...b,apply:({elements:Gn,rects:ys,availableWidth:Go,availableHeight:Ql})=>{const{width:Th,height:xh}=ys.reference,bi=Gn.floating.style;bi.setProperty("--radix-popper-available-width",`${Go}px`),bi.setProperty("--radix-popper-available-height",`${Ql}px`),bi.setProperty("--radix-popper-anchor-width",`${Th}px`),bi.setProperty("--radix-popper-anchor-height",`${xh}px`)}}),k&&sO({element:k,padding:a}),fO({arrowWidth:A,arrowHeight:x}),p&&iO({strategy:"referenceHidden",...b})]}),[q,Y]=fI(G),se=Yt(I);hi(()=>{Z&&(se==null||se())},[Z,se]);const fe=(Zt=F.arrow)==null?void 0:Zt.x,we=(Kl=F.arrow)==null?void 0:Kl.y,Nt=((Gl=F.arrow)==null?void 0:Gl.centerOffset)!==0,[ln,cn]=E.useState();return hi(()=>{v&&cn(window.getComputedStyle(v).zIndex)},[v]),m.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:Z?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ln,"--radix-popper-transform-origin":[(Ri=F.transformOrigin)==null?void 0:Ri.x,(Pi=F.transformOrigin)==null?void 0:Pi.y].join(" "),...((gs=F.hide)==null?void 0:gs.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:m.jsx(cO,{scope:n,placedSide:q,onArrowChange:O,arrowX:fe,arrowY:we,shouldHideArrow:Nt,children:m.jsx(Ee.div,{"data-side":q,"data-align":Y,...y,ref:C,style:{...y.style,animation:Z?void 0:"none"}})})})});uI.displayName=Dg;var dI="PopperArrow",dO={top:"bottom",right:"left",bottom:"top",left:"right"},hI=E.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=uO(dI,r),o=dO[s.placedSide];return m.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:m.jsx(aO,{...i,ref:n,style:{...i.style,display:"block"}})})});hI.displayName=dI;function hO(t){return t!==null}var fO=t=>({name:"transformOrigin",options:t,fn(e){var T,v,_;const{placement:n,rects:r,middlewareData:i}=e,o=((T=i.arrow)==null?void 0:T.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=fI(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(((v=i.arrow)==null?void 0:v.x)??0)+a/2,w=(((_=i.arrow)==null?void 0:_.y)??0)+c/2;let I="",y="";return u==="bottom"?(I=o?f:`${p}px`,y=`${-c}px`):u==="top"?(I=o?f:`${p}px`,y=`${r.floating.height+c}px`):u==="right"?(I=`${-c}px`,y=o?f:`${w}px`):u==="left"&&(I=`${r.floating.width+c}px`,y=o?f:`${w}px`),{data:{x:I,y}}}});function fI(t){const[e,n="center"]=t.split("-");return[e,n]}var pO=cI,mO=uI,gO=hI,[Gd,Z5]=us("Tooltip",[oI]),Og=oI(),pI="TooltipProvider",yO=700,A_="tooltip.open",[vO,mI]=Gd(pI),gI=t=>{const{__scopeTooltip:e,delayDuration:n=yO,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=E.useRef(!0),a=E.useRef(!1),c=E.useRef(0);return E.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),m.jsx(vO,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:E.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:E.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:E.useCallback(u=>{a.current=u},[]),disableHoverableContent:i,children:s})};gI.displayName=pI;var yI="Tooltip",[eU,Qd]=Gd(yI),qp="TooltipTrigger",_O=E.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Qd(qp,n),s=mI(qp,n),o=Og(n),a=E.useRef(null),c=wt(e,a,i.onTriggerChange),u=E.useRef(!1),d=E.useRef(!1),f=E.useCallback(()=>u.current=!1,[]);return E.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),m.jsx(pO,{asChild:!0,...o,children:m.jsx(Ee.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:pe(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:pe(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:pe(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:pe(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:pe(t.onBlur,i.onClose),onClick:pe(t.onClick,i.onClose)})})});_O.displayName=qp;var wO="TooltipPortal",[tU,EO]=Gd(wO,{forceMount:void 0}),To="TooltipContent",vI=E.forwardRef((t,e)=>{const n=EO(To,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Qd(To,t.__scopeTooltip);return m.jsx(ds,{present:r||o.open,children:o.disableHoverableContent?m.jsx(_I,{side:i,...s,ref:e}):m.jsx(TO,{side:i,...s,ref:e})})}),TO=E.forwardRef((t,e)=>{const n=Qd(To,t.__scopeTooltip),r=mI(To,t.__scopeTooltip),i=E.useRef(null),s=wt(e,i),[o,a]=E.useState(null),{trigger:c,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=r,p=E.useCallback(()=>{a(null),f(!1)},[f]),w=E.useCallback((I,y)=>{const T=I.currentTarget,v={x:I.clientX,y:I.clientY},_=AO(v,T.getBoundingClientRect()),C=RO(v,_),k=PO(y.getBoundingClientRect()),O=kO([...C,...k]);a(O),f(!0)},[f]);return E.useEffect(()=>()=>p(),[p]),E.useEffect(()=>{if(c&&d){const I=T=>w(T,d),y=T=>w(T,c);return c.addEventListener("pointerleave",I),d.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",I),d.removeEventListener("pointerleave",y)}}},[c,d,w,p]),E.useEffect(()=>{if(o){const I=y=>{const T=y.target,v={x:y.clientX,y:y.clientY},_=(c==null?void 0:c.contains(T))||(d==null?void 0:d.contains(T)),C=!bO(v,o);_?p():C&&(p(),u())};return document.addEventListener("pointermove",I),()=>document.removeEventListener("pointermove",I)}},[c,d,o,u,p]),m.jsx(_I,{...t,ref:s})}),[xO,IO]=Gd(yI,{isInside:!1}),CO=EN("TooltipContent"),_I=E.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,c=Qd(To,n),u=Og(n),{onClose:d}=c;return E.useEffect(()=>(document.addEventListener(A_,d),()=>document.removeEventListener(A_,d)),[d]),E.useEffect(()=>{if(c.trigger){const f=p=>{const w=p.target;w!=null&&w.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),m.jsx(Fd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:m.jsxs(mO,{"data-state":c.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[m.jsx(CO,{children:r}),m.jsx(xO,{scope:n,isInside:!0,children:m.jsx($N,{id:c.contentId,role:"tooltip",children:i||r})})]})})});vI.displayName=To;var wI="TooltipArrow",SO=E.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Og(n);return IO(wI,n).isInside?null:m.jsx(gO,{...i,...r,ref:e})});SO.displayName=wI;function AO(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function RO(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function PO(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function bO(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,c=e[s].y,u=e[o].x,d=e[o].y;c>r!=d>r&&n<(u-a)*(r-c)/(d-c)+a&&(i=!i)}return i}function kO(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),NO(e)}function NO(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var DO=gI,EI=vI;const OO=DO,MO=E.forwardRef(({className:t,sideOffset:e=4,...n},r)=>m.jsx(EI,{ref:r,sideOffset:e,className:he("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));MO.displayName=EI.displayName;const LO=Hd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),tt=E.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?_N:"button";return m.jsx(o,{className:he(LO({variant:e,size:n,className:t})),ref:s,...i})});tt.displayName="Button";const Vt=E.forwardRef(({className:t,type:e,...n},r)=>m.jsx("input",{type:e,className:he("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Vt.displayName="Input";const nt=E.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:he("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));nt.displayName="Card";const En=E.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:he("flex flex-col space-y-1.5 p-6",t),...e}));En.displayName="CardHeader";const Tn=E.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:he("text-2xl font-semibold leading-none tracking-tight",t),...e}));Tn.displayName="CardTitle";const VO=E.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:he("text-sm text-muted-foreground",t),...e}));VO.displayName="CardDescription";const At=E.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:he("p-6 pt-0",t),...e}));At.displayName="CardContent";const jO=E.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:he("flex items-center p-6 pt-0",t),...e}));jO.displayName="CardFooter";var FO="Label",TI=E.forwardRef((t,e)=>m.jsx(Ee.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));TI.displayName=FO;var xI=TI;const UO=Hd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Gr=E.forwardRef(({className:t,...e},n)=>m.jsx(xI,{ref:n,className:he(UO(),t),...e}));Gr.displayName=xI.displayName;const $O=()=>{};var R_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},zO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},CI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|u>>6,w=u&63;c||(w=64,o||(p=64)),r.push(n[d],n[f],n[p],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(II(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new BO;const p=s<<2|a>>4;if(r.push(p),u!==64){const w=a<<4&240|u>>2;if(r.push(w),f!==64){const I=u<<6&192|f;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class BO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HO=function(t){const e=II(t);return CI.encodeByteArray(e,!0)},Zu=function(t){return HO(t).replace(/\./g,"")},SI=function(t){try{return CI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=()=>qO().__FIREBASE_DEFAULTS__,KO=()=>{if(typeof process>"u"||typeof R_>"u")return;const t=R_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},GO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&SI(t[1]);return e&&JSON.parse(e)},Yd=()=>{try{return $O()||WO()||KO()||GO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},AI=t=>{var e,n;return(n=(e=Yd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},QO=t=>{const e=AI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},RI=()=>{var t;return(t=Yd())===null||t===void 0?void 0:t.config},PI=t=>{var e;return(e=Yd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(t){return t.endsWith(".cloudworkstations.dev")}async function bI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zu(JSON.stringify(n)),Zu(JSON.stringify(o)),""].join(".")}const Fa={};function JO(){const t={prod:[],emulator:[]};for(const e of Object.keys(Fa))Fa[e]?t.emulator.push(e):t.prod.push(e);return t}function ZO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let P_=!1;function kI(t,e){if(typeof window>"u"||typeof document>"u"||!Fo(window.location.host)||Fa[t]===e||Fa[t]||P_)return;Fa[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=JO().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,w){p.setAttribute("width","24"),p.setAttribute("id",w),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{P_=!0,o()},p}function d(p,w){p.setAttribute("id",w),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=ZO(r),w=n("text"),I=document.getElementById(w)||document.createElement("span"),y=n("learnmore"),T=document.getElementById(y)||document.createElement("a"),v=n("preprendIcon"),_=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const C=p.element;a(C),d(T,y);const k=u();c(_,v),C.append(_,I,T,k),document.body.appendChild(C)}s?(I.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function tM(){var t;const e=(t=Yd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sM(){const t=Et();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function oM(){return!tM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aM(){try{return typeof indexedDB=="object"}catch{return!1}}function lM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM="FirebaseError";class wr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=cM,Object.setPrototypeOf(this,wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ml.prototype.create)}}class Ml{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?uM(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new wr(i,a,r)}}function uM(t,e){return t.replace(dM,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const dM=/\{\$([^}]+)}/g;function hM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function es(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(b_(s)&&b_(o)){if(!es(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function b_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ta(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function xa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function fM(t,e){const n=new pM(t,e);return n.subscribe.bind(n)}class pM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");mM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Cf),i.error===void 0&&(i.error=Cf),i.complete===void 0&&(i.complete=Cf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Cf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t){return t&&t._delegate?t._delegate:t}class ts{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new YO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vM(e))try{this.getOrInitializeService({instanceIdentifier:Vi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Vi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vi){return this.instances.has(e)}getOptions(e=Vi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vi){return this.component?this.component.multipleInstances?e:Vi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yM(t){return t===Vi?void 0:t}function vM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ce||(ce={}));const wM={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},EM=ce.INFO,TM={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},xM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=TM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mg{constructor(e){this.name=e,this._logLevel=EM,this._logHandler=xM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const IM=(t,e)=>e.some(n=>t instanceof n);let k_,N_;function CM(){return k_||(k_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SM(){return N_||(N_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NI=new WeakMap,Wp=new WeakMap,DI=new WeakMap,Sf=new WeakMap,Lg=new WeakMap;function AM(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ii(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&NI.set(n,t)}).catch(()=>{}),Lg.set(e,t),e}function RM(t){if(Wp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Wp.set(t,e)}let Kp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||DI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ii(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function PM(t){Kp=t(Kp)}function bM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Af(this),e,...n);return DI.set(r,e.sort?e.sort():[e]),ii(r)}:SM().includes(t)?function(...e){return t.apply(Af(this),e),ii(NI.get(this))}:function(...e){return ii(t.apply(Af(this),e))}}function kM(t){return typeof t=="function"?bM(t):(t instanceof IDBTransaction&&RM(t),IM(t,CM())?new Proxy(t,Kp):t)}function ii(t){if(t instanceof IDBRequest)return AM(t);if(Sf.has(t))return Sf.get(t);const e=kM(t);return e!==t&&(Sf.set(t,e),Lg.set(e,t)),e}const Af=t=>Lg.get(t);function NM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ii(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ii(o.result),c.oldVersion,c.newVersion,ii(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const DM=["get","getKey","getAll","getAllKeys","count"],OM=["put","add","delete","clear"],Rf=new Map;function D_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rf.get(e))return Rf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=OM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||DM.includes(n)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&c.done]))[0]};return Rf.set(e,s),s}PM(t=>({...t,get:(e,n,r)=>D_(e,n)||t.get(e,n,r),has:(e,n)=>!!D_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function LM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gp="@firebase/app",O_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=new Mg("@firebase/app"),VM="@firebase/app-compat",jM="@firebase/analytics-compat",FM="@firebase/analytics",UM="@firebase/app-check-compat",$M="@firebase/app-check",zM="@firebase/auth",BM="@firebase/auth-compat",HM="@firebase/database",qM="@firebase/data-connect",WM="@firebase/database-compat",KM="@firebase/functions",GM="@firebase/functions-compat",QM="@firebase/installations",YM="@firebase/installations-compat",XM="@firebase/messaging",JM="@firebase/messaging-compat",ZM="@firebase/performance",eL="@firebase/performance-compat",tL="@firebase/remote-config",nL="@firebase/remote-config-compat",rL="@firebase/storage",iL="@firebase/storage-compat",sL="@firebase/firestore",oL="@firebase/ai",aL="@firebase/firestore-compat",lL="firebase",cL="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="[DEFAULT]",uL={[Gp]:"fire-core",[VM]:"fire-core-compat",[FM]:"fire-analytics",[jM]:"fire-analytics-compat",[$M]:"fire-app-check",[UM]:"fire-app-check-compat",[zM]:"fire-auth",[BM]:"fire-auth-compat",[HM]:"fire-rtdb",[qM]:"fire-data-connect",[WM]:"fire-rtdb-compat",[KM]:"fire-fn",[GM]:"fire-fn-compat",[QM]:"fire-iid",[YM]:"fire-iid-compat",[XM]:"fire-fcm",[JM]:"fire-fcm-compat",[ZM]:"fire-perf",[eL]:"fire-perf-compat",[tL]:"fire-rc",[nL]:"fire-rc-compat",[rL]:"fire-gcs",[iL]:"fire-gcs-compat",[sL]:"fire-fst",[aL]:"fire-fst-compat",[oL]:"fire-vertex","fire-js":"fire-js",[lL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new Map,dL=new Map,Yp=new Map;function M_(t,e){try{t.container.addComponent(e)}catch(n){fr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xo(t){const e=t.name;if(Yp.has(e))return fr.debug(`There were multiple attempts to register component ${e}.`),!1;Yp.set(e,t);for(const n of ed.values())M_(n,t);for(const n of dL.values())M_(n,t);return!0}function Vg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function yn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},si=new Ml("app","Firebase",hL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=cL;function OI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Qp,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw si.create("bad-app-name",{appName:String(i)});if(n||(n=RI()),!n)throw si.create("no-options");const s=ed.get(i);if(s){if(es(n,s.options)&&es(r,s.config))return s;throw si.create("duplicate-app",{appName:i})}const o=new _M(i);for(const c of Yp.values())o.addComponent(c);const a=new fL(n,r,o);return ed.set(i,a),a}function MI(t=Qp){const e=ed.get(t);if(!e&&t===Qp&&RI())return OI();if(!e)throw si.create("no-app",{appName:t});return e}function oi(t,e,n){var r;let i=(r=uL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fr.warn(a.join(" "));return}xo(new ts(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL="firebase-heartbeat-database",mL=1,fl="firebase-heartbeat-store";let Pf=null;function LI(){return Pf||(Pf=NM(pL,mL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fl)}catch(n){console.warn(n)}}}}).catch(t=>{throw si.create("idb-open",{originalErrorMessage:t.message})})),Pf}async function gL(t){try{const n=(await LI()).transaction(fl),r=await n.objectStore(fl).get(VI(t));return await n.done,r}catch(e){if(e instanceof wr)fr.warn(e.message);else{const n=si.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fr.warn(n.message)}}}async function L_(t,e){try{const r=(await LI()).transaction(fl,"readwrite");await r.objectStore(fl).put(e,VI(t)),await r.done}catch(n){if(n instanceof wr)fr.warn(n.message);else{const r=si.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fr.warn(r.message)}}}function VI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL=1024,vL=30;class _L{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new EL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=V_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>vL){const o=TL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){fr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=V_(),{heartbeatsToSend:r,unsentEntries:i}=wL(this._heartbeatsCache.heartbeats),s=Zu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return fr.warn(n),""}}}function V_(){return new Date().toISOString().substring(0,10)}function wL(t,e=yL){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),j_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),j_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class EL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aM()?lM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return L_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return L_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function j_(t){return Zu(JSON.stringify({version:2,heartbeats:t})).length}function TL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(t){xo(new ts("platform-logger",e=>new MM(e),"PRIVATE")),xo(new ts("heartbeat",e=>new _L(e),"PRIVATE")),oi(Gp,O_,t),oi(Gp,O_,"esm2017"),oi("fire-js","")}xL("");var IL="firebase",CL="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oi(IL,CL,"app");var Ln=function(){return Ln=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ln.apply(this,arguments)};function Vl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function SL(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function jI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AL=jI,FI=new Ml("auth","Firebase",jI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=new Mg("@firebase/auth");function RL(t,...e){td.logLevel<=ce.WARN&&td.warn(`Auth (${Uo}): ${t}`,...e)}function su(t,...e){td.logLevel<=ce.ERROR&&td.error(`Auth (${Uo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(t,...e){throw jg(t,...e)}function Un(t,...e){return jg(t,...e)}function UI(t,e,n){const r=Object.assign(Object.assign({},AL()),{[e]:n});return new Ml("auth","Firebase",r).create(e,{appName:t.name})}function ai(t){return UI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return FI.create(t,...e)}function ee(t,e,...n){if(!t)throw jg(e,...n)}function rr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw su(e),new Error(e)}function pr(t,e){t||rr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function PL(){return F_()==="http:"||F_()==="https:"}function F_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PL()||rM()||"connection"in navigator)?navigator.onLine:!0}function kL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n){this.shortDelay=e,this.longDelay=n,pr(n>e,"Short delay should be less than long delay!"),this.isMobile=eM()||iM()}get(){return bL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t,e){pr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OL=new jl(3e4,6e4);function hs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ci(t,e,n,r,i={}){return zI(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ll(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},s);return nM()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Fo(t.emulatorConfig.host)&&(u.credentials="include"),$I.fetch()(await BI(t,t.config.apiHost,n,a),u)})}async function zI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},NL),e);try{const i=new LL(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Oc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Oc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Oc(t,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw UI(t,d,u);Sn(t,d)}}catch(i){if(i instanceof wr)throw i;Sn(t,"network-request-failed",{message:String(i)})}}async function Xd(t,e,n,r,i={}){const s=await Ci(t,e,n,r,i);return"mfaPendingCredential"in s&&Sn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function BI(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?Fg(t.config,i):`${t.config.apiScheme}://${i}`;return DL.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function ML(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class LL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Un(this.auth,"network-request-failed")),OL.get())})}}function Oc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Un(t,e,r);return i.customData._tokenResponse=n,i}function U_(t){return t!==void 0&&t.enterprise!==void 0}class VL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ML(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jL(t,e){return Ci(t,"GET","/v2/recaptchaConfig",hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FL(t,e){return Ci(t,"POST","/v1/accounts:delete",e)}async function nd(t,e){return Ci(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UL(t,e=!1){const n=ot(t),r=await n.getIdToken(e),i=Ug(r);ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ua(bf(i.auth_time)),issuedAtTime:Ua(bf(i.iat)),expirationTime:Ua(bf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function bf(t){return Number(t)*1e3}function Ug(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return su("JWT malformed, contained fewer than 3 sections"),null;try{const i=SI(n);return i?JSON.parse(i):(su("Failed to decode base64 JWT payload"),null)}catch(i){return su("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function $_(t){const e=Ug(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof wr&&$L(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function $L({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ua(this.lastLoginAt),this.creationTime=Ua(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await pl(t,nd(n,{idToken:r}));ee(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?HI(s.providerUserInfo):[],a=HL(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=c?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Jp(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function BL(t){const e=ot(t);await rd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function HI(t){return t.map(e=>{var{providerId:n}=e,r=Vl(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qL(t,e){const n=await zI(t,{},async()=>{const r=Ll({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await BI(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&Fo(t.emulatorConfig.host)&&(c.credentials="include"),$I.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function WL(t,e){return Ci(t,"POST","/v2/accounts:revokeToken",hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const n=$_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await qL(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Xs;return r&&(ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xs,this.toJSON())}_performRefresh(){return rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Vl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Jp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await pl(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return UL(this,e)}reload(){return BL(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await rd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yn(this.auth.app))return Promise.reject(ai(this.auth));const e=await this.getIdToken();return await pl(this,FL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,I=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:C,emailVerified:k,isAnonymous:O,providerData:V,stsTokenManager:A}=n;ee(C&&A,e,"internal-error");const x=Xs.fromJSON(this.name,A);ee(typeof C=="string",e,"internal-error"),Ar(f,e.name),Ar(p,e.name),ee(typeof k=="boolean",e,"internal-error"),ee(typeof O=="boolean",e,"internal-error"),Ar(w,e.name),Ar(I,e.name),Ar(y,e.name),Ar(T,e.name),Ar(v,e.name),Ar(_,e.name);const R=new vn({uid:C,auth:e,email:p,emailVerified:k,displayName:f,isAnonymous:O,photoURL:I,phoneNumber:w,tenantId:y,stsTokenManager:x,createdAt:v,lastLoginAt:_});return V&&Array.isArray(V)&&(R.providerData=V.map(P=>Object.assign({},P))),T&&(R._redirectEventId=T),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new Xs;i.updateFromServerResponse(n);const s=new vn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await rd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ee(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?HI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Xs;a.updateFromIdToken(r);const c=new vn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Jp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=new Map;function ir(t){pr(t instanceof Function,"Expected a class definition");let e=z_.get(t);return e?(pr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,z_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qI.type="NONE";const B_=qI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(t,e,n){return`firebase:${t}:${e}:${n}`}class Js{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ou(this.userKey,i.apiKey,s),this.fullPersistenceKey=ou("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await nd(this.auth,{idToken:e}).catch(()=>{});return n?vn._fromGetAccountInfoResponse(this.auth,n,e):null}return vn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Js(ir(B_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||ir(B_);const o=ou(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let f;if(typeof d=="string"){const p=await nd(e,{idToken:d}).catch(()=>{});if(!p)break;f=await vn._fromGetAccountInfoResponse(e,p,d)}else f=vn._fromJSON(e,d);u!==s&&(a=f),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Js(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Js(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XI(e))return"Blackberry";if(JI(e))return"Webos";if(KI(e))return"Safari";if((e.includes("chrome/")||GI(e))&&!e.includes("edge/"))return"Chrome";if(YI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function WI(t=Et()){return/firefox\//i.test(t)}function KI(t=Et()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GI(t=Et()){return/crios\//i.test(t)}function QI(t=Et()){return/iemobile/i.test(t)}function YI(t=Et()){return/android/i.test(t)}function XI(t=Et()){return/blackberry/i.test(t)}function JI(t=Et()){return/webos/i.test(t)}function $g(t=Et()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function KL(t=Et()){var e;return $g(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function GL(){return sM()&&document.documentMode===10}function ZI(t=Et()){return $g(t)||YI(t)||JI(t)||XI(t)||/windows phone/i.test(t)||QI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(t,e=[]){let n;switch(t){case"Browser":n=H_(Et());break;case"Worker":n=`${H_(Et())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Uo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YL(t,e={}){return Ci(t,"GET","/v2/passwordPolicy",hs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=6;class JL{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:XL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new q_(this),this.idTokenSubscription=new q_(this),this.beforeStateQueue=new QL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ir(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Js.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await nd(this,{idToken:e}),r=await vn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(yn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await rd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yn(this.app))return Promise.reject(ai(this));const n=e?ot(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yn(this.app)?Promise.reject(ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yn(this.app)?Promise.reject(ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YL(this),n=new JL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ml("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await WL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ir(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=await Js.create(this,[ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&RL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function $o(t){return ot(t)}class q_{constructor(e){this.auth=e,this.observer=null,this.addObserver=fM(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eV(t){Jd=t}function tC(t){return Jd.loadJS(t)}function tV(){return Jd.recaptchaEnterpriseScript}function nV(){return Jd.gapiScript}function rV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class iV{constructor(){this.enterprise=new sV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class sV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const oV="recaptcha-enterprise",nC="NO_RECAPTCHA";class aV{constructor(e){this.type=oV,this.auth=$o(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{jL(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new VL(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function i(s,o,a){const c=window.grecaptcha;U_(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(nC)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iV().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&U_(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=tV();c.length!==0&&(c+=a),tC(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function W_(t,e,n,r=!1,i=!1){const s=new aV(t);let o;if(i)o=nC;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function K_(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await W_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await W_(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(t,e){const n=Vg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(es(s,e??{}))return i;Sn(i,"already-initialized")}return n.initialize({options:e})}function cV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ir);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function uV(t,e,n){const r=$o(t);ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=rC(e),{host:o,port:a}=dV(e),c=a===null?"":`:${a}`,u={url:`${s}//${o}${c}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ee(es(u,r.config.emulator)&&es(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Fo(o)?(bI(`${s}//${o}${c}`),kI("Auth",!0)):hV()}function rC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function dV(t){const e=rC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:G_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:G_(o)}}}function G_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function hV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rr("not implemented")}_getIdTokenResponse(e){return rr("not implemented")}_linkToIdToken(e,n){return rr("not implemented")}_getReauthenticationResolver(e){return rr("not implemented")}}async function fV(t,e){return Ci(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pV(t,e){return Xd(t,"POST","/v1/accounts:signInWithPassword",hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mV(t,e){return Xd(t,"POST","/v1/accounts:signInWithEmailLink",hs(t,e))}async function gV(t,e){return Xd(t,"POST","/v1/accounts:signInWithEmailLink",hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml extends zg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ml(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ml(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return K_(e,n,"signInWithPassword",pV);case"emailLink":return mV(e,{email:this._email,oobCode:this._password});default:Sn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return K_(e,r,"signUpPassword",fV);case"emailLink":return gV(e,{idToken:n,email:this._email,oobCode:this._password});default:Sn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zs(t,e){return Xd(t,"POST","/v1/accounts:signInWithIdp",hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV="http://localhost";class ns extends zg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ns(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Sn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Vl(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ns(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Zs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Zs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Zs(e,n)}buildRequest(){const e={requestUri:yV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ll(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _V(t){const e=Ta(xa(t)).link,n=e?Ta(xa(e)).deep_link_id:null,r=Ta(xa(t)).deep_link_id;return(r?Ta(xa(r)).link:null)||r||n||e||t}class Bg{constructor(e){var n,r,i,s,o,a;const c=Ta(xa(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,f=vV((i=c.mode)!==null&&i!==void 0?i:null);ee(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=_V(e);try{return new Bg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.providerId=zo.PROVIDER_ID}static credential(e,n){return ml._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Bg.parseLink(n);return ee(r,"argument-error"),ml._fromEmailAndCode(e,r.code,r.tenantId)}}zo.PROVIDER_ID="password";zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends iC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Fl{constructor(){super("facebook.com")}static credential(e){return ns._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Fl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ns._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Vr.credential(n,r)}catch{return null}}}Vr.GOOGLE_SIGN_IN_METHOD="google.com";Vr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Fl{constructor(){super("github.com")}static credential(e){return ns._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jr.credential(e.oauthAccessToken)}catch{return null}}}jr.GITHUB_SIGN_IN_METHOD="github.com";jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends Fl{constructor(){super("twitter.com")}static credential(e,n){return ns._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Fr.credential(n,r)}catch{return null}}}Fr.TWITTER_SIGN_IN_METHOD="twitter.com";Fr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await vn._fromIdTokenResponse(e,r,i),o=Q_(r);return new Io({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Q_(r);return new Io({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Q_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id extends wr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,id.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new id(e,n,r,i)}}function sC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?id._fromErrorAndOperation(t,s,e,r):s})}async function wV(t,e,n=!1){const r=await pl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Io._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EV(t,e,n=!1){const{auth:r}=t;if(yn(r.app))return Promise.reject(ai(r));const i="reauthenticate";try{const s=await pl(t,sC(r,i,e,t),n);ee(s.idToken,r,"internal-error");const o=Ug(s.idToken);ee(o,r,"internal-error");const{sub:a}=o;return ee(t.uid===a,r,"user-mismatch"),Io._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Sn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oC(t,e,n=!1){if(yn(t.app))return Promise.reject(ai(t));const r="signIn",i=await sC(t,r,e),s=await Io._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function TV(t,e){return oC($o(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xV(t){const e=$o(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function IV(t,e,n){return yn(t.app)?Promise.reject(ai(t)):TV(ot(t),zo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&xV(t),r})}function CV(t,e,n,r){return ot(t).onIdTokenChanged(e,n,r)}function SV(t,e,n){return ot(t).beforeAuthStateChanged(e,n)}function AV(t){return ot(t).signOut()}const sd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sd,"1"),this.storage.removeItem(sd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV=1e3,PV=10;class lC extends aC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ZI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);GL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,PV):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},RV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lC.type="LOCAL";const bV=lC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC extends aC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}cC.type="SESSION";const uC=cC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Zd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),c=await kV(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{const u=Hg("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(){return window}function DV(t){$n().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(){return typeof $n().WorkerGlobalScope<"u"&&typeof $n().importScripts=="function"}async function OV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function LV(){return dC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="firebaseLocalStorageDb",VV=1,od="firebaseLocalStorage",fC="fbase_key";class Ul{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function eh(t,e){return t.transaction([od],e?"readwrite":"readonly").objectStore(od)}function jV(){const t=indexedDB.deleteDatabase(hC);return new Ul(t).toPromise()}function Zp(){const t=indexedDB.open(hC,VV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(od,{keyPath:fC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(od)?e(r):(r.close(),await jV(),e(await Zp()))})})}async function Y_(t,e,n){const r=eh(t,!0).put({[fC]:e,value:n});return new Ul(r).toPromise()}async function FV(t,e){const n=eh(t,!1).get(e),r=await new Ul(n).toPromise();return r===void 0?null:r.value}function X_(t,e){const n=eh(t,!0).delete(e);return new Ul(n).toPromise()}const UV=800,$V=3;class pC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$V)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zd._getInstance(LV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await OV(),!this.activeServiceWorker)return;this.sender=new NV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zp();return await Y_(e,sd,"1"),await X_(e,sd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Y_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>FV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>X_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=eh(i,!1).getAll();return new Ul(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pC.type="LOCAL";const zV=pC;new jl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(t,e){return e?ir(e):(ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg extends zg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Zs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Zs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function HV(t){return oC(t.auth,new qg(t),t.bypassAuthState)}function qV(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),EV(n,new qg(t),t.bypassAuthState)}async function WV(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),wV(n,new qg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HV;case"linkViaPopup":case"linkViaRedirect":return WV;case"reauthViaPopup":case"reauthViaRedirect":return qV;default:Sn(this.auth,"internal-error")}}resolve(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV=new jl(2e3,1e4);class zs extends mC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,zs.currentPopupAction&&zs.currentPopupAction.cancel(),zs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){pr(this.filter.length===1,"Popup operations only handle one event");const e=Hg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Un(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Un(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Un(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KV.get())};e()}}zs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV="pendingRedirect",au=new Map;class QV extends mC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=au.get(this.auth._key());if(!e){try{const r=await YV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}au.set(this.auth._key(),e)}return this.bypassAuthState||au.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YV(t,e){const n=ZV(e),r=JV(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function XV(t,e){au.set(t._key(),e)}function JV(t){return ir(t._redirectPersistence)}function ZV(t){return ou(GV,t.config.apiKey,t.name)}async function e4(t,e,n=!1){if(yn(t.app))return Promise.reject(ai(t));const r=$o(t),i=BV(r,e),o=await new QV(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=10*60*1e3;class n4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!r4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!gC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Un(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=t4&&this.cachedEventUids.clear(),this.cachedEventUids.has(J_(e))}saveEventToCache(e){this.cachedEventUids.add(J_(e)),this.lastProcessedEventTime=Date.now()}}function J_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function gC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function r4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i4(t,e={}){return Ci(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o4=/^https?/;async function a4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await i4(t);for(const n of e)try{if(l4(n))return}catch{}Sn(t,"unauthorized-domain")}function l4(t){const e=Xp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!o4.test(n))return!1;if(s4.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=new jl(3e4,6e4);function Z_(){const t=$n().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function u4(t){return new Promise((e,n)=>{var r,i,s;function o(){Z_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Z_(),n(Un(t,"network-request-failed"))},timeout:c4.get()})}if(!((i=(r=$n().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=$n().gapi)===null||s===void 0)&&s.load)o();else{const a=rV("iframefcb");return $n()[a]=()=>{gapi.load?o():n(Un(t,"network-request-failed"))},tC(`${nV()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw lu=null,e})}let lu=null;function d4(t){return lu=lu||u4(t),lu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=new jl(5e3,15e3),f4="__/auth/iframe",p4="emulator/auth/iframe",m4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},g4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function y4(t){const e=t.config;ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Fg(e,p4):`https://${t.config.authDomain}/${f4}`,r={apiKey:e.apiKey,appName:t.name,v:Uo},i=g4.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ll(r).slice(1)}`}async function v4(t){const e=await d4(t),n=$n().gapi;return ee(n,t,"internal-error"),e.open({where:document.body,url:y4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:m4,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Un(t,"network-request-failed"),a=$n().setTimeout(()=>{s(o)},h4.get());function c(){$n().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},w4=500,E4=600,T4="_blank",x4="http://localhost";class ew{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function I4(t,e,n,r=w4,i=E4){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},_4),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Et().toLowerCase();n&&(a=GI(u)?T4:n),WI(u)&&(e=e||x4,c.scrollbars="yes");const d=Object.entries(c).reduce((p,[w,I])=>`${p}${w}=${I},`,"");if(KL(u)&&a!=="_self")return C4(e||"",a),new ew(null);const f=window.open(e||"",a,d);ee(f,t,"popup-blocked");try{f.focus()}catch{}return new ew(f)}function C4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4="__/auth/handler",A4="emulator/auth/handler",R4=encodeURIComponent("fac");async function tw(t,e,n,r,i,s){ee(t.config.authDomain,t,"auth-domain-config-required"),ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Uo,eventId:i};if(e instanceof iC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",hM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof Fl){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const c=await t._getAppCheckToken(),u=c?`#${R4}=${encodeURIComponent(c)}`:"";return`${P4(t)}?${Ll(a).slice(1)}${u}`}function P4({config:t}){return t.emulator?Fg(t,A4):`https://${t.authDomain}/${S4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf="webStorageSupport";class b4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uC,this._completeRedirectFn=e4,this._overrideRedirectResult=XV}async _openPopup(e,n,r,i){var s;pr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await tw(e,n,r,Xp(),i);return I4(e,o,Hg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await tw(e,n,r,Xp(),i);return DV(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(pr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await v4(e),r=new n4(e);return n.register("authEvent",i=>(ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kf,{type:kf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[kf];o!==void 0&&n(!!o),Sn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=a4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ZI()||KI()||$g()}}const k4=b4;var nw="@firebase/auth",rw="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function O4(t){xo(new ts("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eC(t)},u=new ZL(r,i,s,c);return cV(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),xo(new ts("auth-internal",e=>{const n=$o(e.getProvider("auth").getImmediate());return(r=>new N4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),oi(nw,rw,D4(t)),oi(nw,rw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=5*60,L4=PI("authIdTokenMaxAge")||M4;let iw=null;const V4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>L4)return;const i=n==null?void 0:n.token;iw!==i&&(iw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function j4(t=MI()){const e=Vg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=lV(t,{popupRedirectResolver:k4,persistence:[zV,bV,uC]}),r=PI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=V4(s.toString());SV(n,o,()=>o(n.currentUser)),CV(n,a=>o(a))}}const i=AI("auth");return i&&uV(n,`http://${i}`),n}function F4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}eV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Un("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",F4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});O4("Browser");var sw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var li,yC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,x){function R(){}R.prototype=x.prototype,A.D=x.prototype,A.prototype=new R,A.prototype.constructor=A,A.C=function(P,N,D){for(var b=Array(arguments.length-2),M=2;M<arguments.length;M++)b[M-2]=arguments[M];return x.prototype[N].apply(P,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,x,R){R||(R=0);var P=Array(16);if(typeof x=="string")for(var N=0;16>N;++N)P[N]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(N=0;16>N;++N)P[N]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=A.g[0],R=A.g[1],N=A.g[2];var D=A.g[3],b=x+(D^R&(N^D))+P[0]+3614090360&4294967295;x=R+(b<<7&4294967295|b>>>25),b=D+(N^x&(R^N))+P[1]+3905402710&4294967295,D=x+(b<<12&4294967295|b>>>20),b=N+(R^D&(x^R))+P[2]+606105819&4294967295,N=D+(b<<17&4294967295|b>>>15),b=R+(x^N&(D^x))+P[3]+3250441966&4294967295,R=N+(b<<22&4294967295|b>>>10),b=x+(D^R&(N^D))+P[4]+4118548399&4294967295,x=R+(b<<7&4294967295|b>>>25),b=D+(N^x&(R^N))+P[5]+1200080426&4294967295,D=x+(b<<12&4294967295|b>>>20),b=N+(R^D&(x^R))+P[6]+2821735955&4294967295,N=D+(b<<17&4294967295|b>>>15),b=R+(x^N&(D^x))+P[7]+4249261313&4294967295,R=N+(b<<22&4294967295|b>>>10),b=x+(D^R&(N^D))+P[8]+1770035416&4294967295,x=R+(b<<7&4294967295|b>>>25),b=D+(N^x&(R^N))+P[9]+2336552879&4294967295,D=x+(b<<12&4294967295|b>>>20),b=N+(R^D&(x^R))+P[10]+4294925233&4294967295,N=D+(b<<17&4294967295|b>>>15),b=R+(x^N&(D^x))+P[11]+2304563134&4294967295,R=N+(b<<22&4294967295|b>>>10),b=x+(D^R&(N^D))+P[12]+1804603682&4294967295,x=R+(b<<7&4294967295|b>>>25),b=D+(N^x&(R^N))+P[13]+4254626195&4294967295,D=x+(b<<12&4294967295|b>>>20),b=N+(R^D&(x^R))+P[14]+2792965006&4294967295,N=D+(b<<17&4294967295|b>>>15),b=R+(x^N&(D^x))+P[15]+1236535329&4294967295,R=N+(b<<22&4294967295|b>>>10),b=x+(N^D&(R^N))+P[1]+4129170786&4294967295,x=R+(b<<5&4294967295|b>>>27),b=D+(R^N&(x^R))+P[6]+3225465664&4294967295,D=x+(b<<9&4294967295|b>>>23),b=N+(x^R&(D^x))+P[11]+643717713&4294967295,N=D+(b<<14&4294967295|b>>>18),b=R+(D^x&(N^D))+P[0]+3921069994&4294967295,R=N+(b<<20&4294967295|b>>>12),b=x+(N^D&(R^N))+P[5]+3593408605&4294967295,x=R+(b<<5&4294967295|b>>>27),b=D+(R^N&(x^R))+P[10]+38016083&4294967295,D=x+(b<<9&4294967295|b>>>23),b=N+(x^R&(D^x))+P[15]+3634488961&4294967295,N=D+(b<<14&4294967295|b>>>18),b=R+(D^x&(N^D))+P[4]+3889429448&4294967295,R=N+(b<<20&4294967295|b>>>12),b=x+(N^D&(R^N))+P[9]+568446438&4294967295,x=R+(b<<5&4294967295|b>>>27),b=D+(R^N&(x^R))+P[14]+3275163606&4294967295,D=x+(b<<9&4294967295|b>>>23),b=N+(x^R&(D^x))+P[3]+4107603335&4294967295,N=D+(b<<14&4294967295|b>>>18),b=R+(D^x&(N^D))+P[8]+1163531501&4294967295,R=N+(b<<20&4294967295|b>>>12),b=x+(N^D&(R^N))+P[13]+2850285829&4294967295,x=R+(b<<5&4294967295|b>>>27),b=D+(R^N&(x^R))+P[2]+4243563512&4294967295,D=x+(b<<9&4294967295|b>>>23),b=N+(x^R&(D^x))+P[7]+1735328473&4294967295,N=D+(b<<14&4294967295|b>>>18),b=R+(D^x&(N^D))+P[12]+2368359562&4294967295,R=N+(b<<20&4294967295|b>>>12),b=x+(R^N^D)+P[5]+4294588738&4294967295,x=R+(b<<4&4294967295|b>>>28),b=D+(x^R^N)+P[8]+2272392833&4294967295,D=x+(b<<11&4294967295|b>>>21),b=N+(D^x^R)+P[11]+1839030562&4294967295,N=D+(b<<16&4294967295|b>>>16),b=R+(N^D^x)+P[14]+4259657740&4294967295,R=N+(b<<23&4294967295|b>>>9),b=x+(R^N^D)+P[1]+2763975236&4294967295,x=R+(b<<4&4294967295|b>>>28),b=D+(x^R^N)+P[4]+1272893353&4294967295,D=x+(b<<11&4294967295|b>>>21),b=N+(D^x^R)+P[7]+4139469664&4294967295,N=D+(b<<16&4294967295|b>>>16),b=R+(N^D^x)+P[10]+3200236656&4294967295,R=N+(b<<23&4294967295|b>>>9),b=x+(R^N^D)+P[13]+681279174&4294967295,x=R+(b<<4&4294967295|b>>>28),b=D+(x^R^N)+P[0]+3936430074&4294967295,D=x+(b<<11&4294967295|b>>>21),b=N+(D^x^R)+P[3]+3572445317&4294967295,N=D+(b<<16&4294967295|b>>>16),b=R+(N^D^x)+P[6]+76029189&4294967295,R=N+(b<<23&4294967295|b>>>9),b=x+(R^N^D)+P[9]+3654602809&4294967295,x=R+(b<<4&4294967295|b>>>28),b=D+(x^R^N)+P[12]+3873151461&4294967295,D=x+(b<<11&4294967295|b>>>21),b=N+(D^x^R)+P[15]+530742520&4294967295,N=D+(b<<16&4294967295|b>>>16),b=R+(N^D^x)+P[2]+3299628645&4294967295,R=N+(b<<23&4294967295|b>>>9),b=x+(N^(R|~D))+P[0]+4096336452&4294967295,x=R+(b<<6&4294967295|b>>>26),b=D+(R^(x|~N))+P[7]+1126891415&4294967295,D=x+(b<<10&4294967295|b>>>22),b=N+(x^(D|~R))+P[14]+2878612391&4294967295,N=D+(b<<15&4294967295|b>>>17),b=R+(D^(N|~x))+P[5]+4237533241&4294967295,R=N+(b<<21&4294967295|b>>>11),b=x+(N^(R|~D))+P[12]+1700485571&4294967295,x=R+(b<<6&4294967295|b>>>26),b=D+(R^(x|~N))+P[3]+2399980690&4294967295,D=x+(b<<10&4294967295|b>>>22),b=N+(x^(D|~R))+P[10]+4293915773&4294967295,N=D+(b<<15&4294967295|b>>>17),b=R+(D^(N|~x))+P[1]+2240044497&4294967295,R=N+(b<<21&4294967295|b>>>11),b=x+(N^(R|~D))+P[8]+1873313359&4294967295,x=R+(b<<6&4294967295|b>>>26),b=D+(R^(x|~N))+P[15]+4264355552&4294967295,D=x+(b<<10&4294967295|b>>>22),b=N+(x^(D|~R))+P[6]+2734768916&4294967295,N=D+(b<<15&4294967295|b>>>17),b=R+(D^(N|~x))+P[13]+1309151649&4294967295,R=N+(b<<21&4294967295|b>>>11),b=x+(N^(R|~D))+P[4]+4149444226&4294967295,x=R+(b<<6&4294967295|b>>>26),b=D+(R^(x|~N))+P[11]+3174756917&4294967295,D=x+(b<<10&4294967295|b>>>22),b=N+(x^(D|~R))+P[2]+718787259&4294967295,N=D+(b<<15&4294967295|b>>>17),b=R+(D^(N|~x))+P[9]+3951481745&4294967295,A.g[0]=A.g[0]+x&4294967295,A.g[1]=A.g[1]+(N+(b<<21&4294967295|b>>>11))&4294967295,A.g[2]=A.g[2]+N&4294967295,A.g[3]=A.g[3]+D&4294967295}r.prototype.u=function(A,x){x===void 0&&(x=A.length);for(var R=x-this.blockSize,P=this.B,N=this.h,D=0;D<x;){if(N==0)for(;D<=R;)i(this,A,D),D+=this.blockSize;if(typeof A=="string"){for(;D<x;)if(P[N++]=A.charCodeAt(D++),N==this.blockSize){i(this,P),N=0;break}}else for(;D<x;)if(P[N++]=A[D++],N==this.blockSize){i(this,P),N=0;break}}this.h=N,this.o+=x},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var x=1;x<A.length-8;++x)A[x]=0;var R=8*this.o;for(x=A.length-8;x<A.length;++x)A[x]=R&255,R/=256;for(this.u(A),A=Array(16),x=R=0;4>x;++x)for(var P=0;32>P;P+=8)A[R++]=this.g[x]>>>P&255;return A};function s(A,x){var R=a;return Object.prototype.hasOwnProperty.call(R,A)?R[A]:R[A]=x(A)}function o(A,x){this.h=x;for(var R=[],P=!0,N=A.length-1;0<=N;N--){var D=A[N]|0;P&&D==x||(R[N]=D,P=!1)}this.g=R}var a={};function c(A){return-128<=A&&128>A?s(A,function(x){return new o([x|0],0>x?-1:0)}):new o([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return f;if(0>A)return T(u(-A));for(var x=[],R=1,P=0;A>=R;P++)x[P]=A/R|0,R*=4294967296;return new o(x,0)}function d(A,x){if(A.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(A.charAt(0)=="-")return T(d(A.substring(1),x));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=u(Math.pow(x,8)),P=f,N=0;N<A.length;N+=8){var D=Math.min(8,A.length-N),b=parseInt(A.substring(N,N+D),x);8>D?(D=u(Math.pow(x,D)),P=P.j(D).add(u(b))):(P=P.j(R),P=P.add(u(b)))}return P}var f=c(0),p=c(1),w=c(16777216);t=o.prototype,t.m=function(){if(y(this))return-T(this).m();for(var A=0,x=1,R=0;R<this.g.length;R++){var P=this.i(R);A+=(0<=P?P:4294967296+P)*x,x*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(I(this))return"0";if(y(this))return"-"+T(this).toString(A);for(var x=u(Math.pow(A,6)),R=this,P="";;){var N=k(R,x).g;R=v(R,N.j(x));var D=((0<R.g.length?R.g[0]:R.h)>>>0).toString(A);if(R=N,I(R))return D+P;for(;6>D.length;)D="0"+D;P=D+P}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function I(A){if(A.h!=0)return!1;for(var x=0;x<A.g.length;x++)if(A.g[x]!=0)return!1;return!0}function y(A){return A.h==-1}t.l=function(A){return A=v(this,A),y(A)?-1:I(A)?0:1};function T(A){for(var x=A.g.length,R=[],P=0;P<x;P++)R[P]=~A.g[P];return new o(R,~A.h).add(p)}t.abs=function(){return y(this)?T(this):this},t.add=function(A){for(var x=Math.max(this.g.length,A.g.length),R=[],P=0,N=0;N<=x;N++){var D=P+(this.i(N)&65535)+(A.i(N)&65535),b=(D>>>16)+(this.i(N)>>>16)+(A.i(N)>>>16);P=b>>>16,D&=65535,b&=65535,R[N]=b<<16|D}return new o(R,R[R.length-1]&-2147483648?-1:0)};function v(A,x){return A.add(T(x))}t.j=function(A){if(I(this)||I(A))return f;if(y(this))return y(A)?T(this).j(T(A)):T(T(this).j(A));if(y(A))return T(this.j(T(A)));if(0>this.l(w)&&0>A.l(w))return u(this.m()*A.m());for(var x=this.g.length+A.g.length,R=[],P=0;P<2*x;P++)R[P]=0;for(P=0;P<this.g.length;P++)for(var N=0;N<A.g.length;N++){var D=this.i(P)>>>16,b=this.i(P)&65535,M=A.i(N)>>>16,X=A.i(N)&65535;R[2*P+2*N]+=b*X,_(R,2*P+2*N),R[2*P+2*N+1]+=D*X,_(R,2*P+2*N+1),R[2*P+2*N+1]+=b*M,_(R,2*P+2*N+1),R[2*P+2*N+2]+=D*M,_(R,2*P+2*N+2)}for(P=0;P<x;P++)R[P]=R[2*P+1]<<16|R[2*P];for(P=x;P<2*x;P++)R[P]=0;return new o(R,0)};function _(A,x){for(;(A[x]&65535)!=A[x];)A[x+1]+=A[x]>>>16,A[x]&=65535,x++}function C(A,x){this.g=A,this.h=x}function k(A,x){if(I(x))throw Error("division by zero");if(I(A))return new C(f,f);if(y(A))return x=k(T(A),x),new C(T(x.g),T(x.h));if(y(x))return x=k(A,T(x)),new C(T(x.g),x.h);if(30<A.g.length){if(y(A)||y(x))throw Error("slowDivide_ only works with positive integers.");for(var R=p,P=x;0>=P.l(A);)R=O(R),P=O(P);var N=V(R,1),D=V(P,1);for(P=V(P,2),R=V(R,2);!I(P);){var b=D.add(P);0>=b.l(A)&&(N=N.add(R),D=b),P=V(P,1),R=V(R,1)}return x=v(A,N.j(x)),new C(N,x)}for(N=f;0<=A.l(x);){for(R=Math.max(1,Math.floor(A.m()/x.m())),P=Math.ceil(Math.log(R)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),D=u(R),b=D.j(x);y(b)||0<b.l(A);)R-=P,D=u(R),b=D.j(x);I(D)&&(D=p),N=N.add(D),A=v(A,b)}return new C(N,A)}t.A=function(A){return k(this,A).h},t.and=function(A){for(var x=Math.max(this.g.length,A.g.length),R=[],P=0;P<x;P++)R[P]=this.i(P)&A.i(P);return new o(R,this.h&A.h)},t.or=function(A){for(var x=Math.max(this.g.length,A.g.length),R=[],P=0;P<x;P++)R[P]=this.i(P)|A.i(P);return new o(R,this.h|A.h)},t.xor=function(A){for(var x=Math.max(this.g.length,A.g.length),R=[],P=0;P<x;P++)R[P]=this.i(P)^A.i(P);return new o(R,this.h^A.h)};function O(A){for(var x=A.g.length+1,R=[],P=0;P<x;P++)R[P]=A.i(P)<<1|A.i(P-1)>>>31;return new o(R,A.h)}function V(A,x){var R=x>>5;x%=32;for(var P=A.g.length-R,N=[],D=0;D<P;D++)N[D]=0<x?A.i(D+R)>>>x|A.i(D+R+1)<<32-x:A.i(D+R);return new o(N,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,yC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,li=o}).apply(typeof sw<"u"?sw:typeof self<"u"?self:typeof window<"u"?window:{});var Mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vC,Ia,_C,cu,em,wC,EC,TC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,g){return l==Array.prototype||l==Object.prototype||(l[h]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mc=="object"&&Mc];for(var h=0;h<l.length;++h){var g=l[h];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(l,h){if(h)e:{var g=r;l=l.split(".");for(var S=0;S<l.length-1;S++){var L=l[S];if(!(L in g))break e;g=g[L]}l=l[l.length-1],S=g[l],h=h(S),h!=S&&h!=null&&e(g,l,{configurable:!0,writable:!0,value:h})}}function s(l,h){l instanceof String&&(l+="");var g=0,S=!1,L={next:function(){if(!S&&g<l.length){var j=g++;return{value:h(j,l[j]),done:!1}}return S=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(l){return l||function(){return s(this,function(h,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,g){return l.call.apply(l.bind,arguments)}function f(l,h,g){if(!l)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,S),l.apply(h,L)}}return function(){return l.apply(h,arguments)}}function p(l,h,g){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function w(l,h){var g=Array.prototype.slice.call(arguments,1);return function(){var S=g.slice();return S.push.apply(S,arguments),l.apply(this,S)}}function I(l,h){function g(){}g.prototype=h.prototype,l.aa=h.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(S,L,j){for(var H=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)H[Te-2]=arguments[Te];return h.prototype[L].apply(S,H)}}function y(l){const h=l.length;if(0<h){const g=Array(h);for(let S=0;S<h;S++)g[S]=l[S];return g}return[]}function T(l,h){for(let g=1;g<arguments.length;g++){const S=arguments[g];if(c(S)){const L=l.length||0,j=S.length||0;l.length=L+j;for(let H=0;H<j;H++)l[L+H]=S[H]}else l.push(S)}}class v{constructor(h,g){this.i=h,this.j=g,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function _(l){return/^[\s\xa0]*$/.test(l)}function C(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function k(l){return k[" "](l),l}k[" "]=function(){};var O=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function V(l,h,g){for(const S in l)h.call(g,l[S],S,l)}function A(l,h){for(const g in l)h.call(void 0,l[g],g,l)}function x(l){const h={};for(const g in l)h[g]=l[g];return h}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(l,h){let g,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(g in S)l[g]=S[g];for(let j=0;j<R.length;j++)g=R[j],Object.prototype.hasOwnProperty.call(S,g)&&(l[g]=S[g])}}function N(l){var h=1;l=l.split(":");const g=[];for(;0<h&&l.length;)g.push(l.shift()),h--;return l.length&&g.push(l.join(":")),g}function D(l){a.setTimeout(()=>{throw l},0)}function b(){var l=q;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class M{constructor(){this.h=this.g=null}add(h,g){const S=X.get();S.set(h,g),this.h?this.h.next=S:this.g=S,this.h=S}}var X=new v(()=>new G,l=>l.reset());class G{constructor(){this.next=this.g=this.h=null}set(h,g){this.h=h,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,F=!1,q=new M,Y=()=>{const l=a.Promise.resolve(void 0);Z=()=>{l.then(se)}};var se=()=>{for(var l;l=b();){try{l.h.call(l.g)}catch(g){D(g)}var h=X;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}F=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function we(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}we.prototype.h=function(){this.defaultPrevented=!0};var Nt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};a.addEventListener("test",g,h),a.removeEventListener("test",g,h)}catch{}return l}();function ln(l,h){if(we.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,S=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(O){e:{try{k(h.nodeName);var L=!0;break e}catch{}L=!1}L||(h=null)}}else g=="mouseover"?h=l.fromElement:g=="mouseout"&&(h=l.toElement);this.relatedTarget=h,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:cn[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&ln.aa.h.call(this)}}I(ln,we);var cn={2:"touch",3:"pen",4:"mouse"};ln.prototype.h=function(){ln.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Zt="closure_listenable_"+(1e6*Math.random()|0),Kl=0;function Gl(l,h,g,S,L){this.listener=l,this.proxy=null,this.src=h,this.type=g,this.capture=!!S,this.ha=L,this.key=++Kl,this.da=this.fa=!1}function Ri(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Pi(l){this.src=l,this.g={},this.h=0}Pi.prototype.add=function(l,h,g,S,L){var j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);var H=Gn(l,h,S,L);return-1<H?(h=l[H],g||(h.fa=!1)):(h=new Gl(h,this.src,j,!!S,L),h.fa=g,l.push(h)),h};function gs(l,h){var g=h.type;if(g in l.g){var S=l.g[g],L=Array.prototype.indexOf.call(S,h,void 0),j;(j=0<=L)&&Array.prototype.splice.call(S,L,1),j&&(Ri(h),l.g[g].length==0&&(delete l.g[g],l.h--))}}function Gn(l,h,g,S){for(var L=0;L<l.length;++L){var j=l[L];if(!j.da&&j.listener==h&&j.capture==!!g&&j.ha==S)return L}return-1}var ys="closure_lm_"+(1e6*Math.random()|0),Go={};function Ql(l,h,g,S,L){if(Array.isArray(h)){for(var j=0;j<h.length;j++)Ql(l,h[j],g,S,L);return null}return g=$y(g),l&&l[Zt]?l.K(h,g,u(S)?!!S.capture:!!S,L):Th(l,h,g,!1,S,L)}function Th(l,h,g,S,L,j){if(!h)throw Error("Invalid event type");var H=u(L)?!!L.capture:!!L,Te=Ch(l);if(Te||(l[ys]=Te=new Pi(l)),g=Te.add(h,g,S,H,j),g.proxy)return g;if(S=xh(),g.proxy=S,S.src=l,S.listener=g,l.addEventListener)Nt||(L=H),L===void 0&&(L=!1),l.addEventListener(h.toString(),S,L);else if(l.attachEvent)l.attachEvent(Uy(h.toString()),S);else if(l.addListener&&l.removeListener)l.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return g}function xh(){function l(g){return h.call(l.src,l.listener,g)}const h=cR;return l}function bi(l,h,g,S,L){if(Array.isArray(h))for(var j=0;j<h.length;j++)bi(l,h[j],g,S,L);else S=u(S)?!!S.capture:!!S,g=$y(g),l&&l[Zt]?(l=l.i,h=String(h).toString(),h in l.g&&(j=l.g[h],g=Gn(j,g,S,L),-1<g&&(Ri(j[g]),Array.prototype.splice.call(j,g,1),j.length==0&&(delete l.g[h],l.h--)))):l&&(l=Ch(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Gn(h,g,S,L)),(g=-1<l?h[l]:null)&&Ih(g))}function Ih(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[Zt])gs(h.i,l);else{var g=l.type,S=l.proxy;h.removeEventListener?h.removeEventListener(g,S,l.capture):h.detachEvent?h.detachEvent(Uy(g),S):h.addListener&&h.removeListener&&h.removeListener(S),(g=Ch(h))?(gs(g,l),g.h==0&&(g.src=null,h[ys]=null)):Ri(l)}}}function Uy(l){return l in Go?Go[l]:Go[l]="on"+l}function cR(l,h){if(l.da)l=!0;else{h=new ln(h,this);var g=l.listener,S=l.ha||l.src;l.fa&&Ih(l),l=g.call(S,h)}return l}function Ch(l){return l=l[ys],l instanceof Pi?l:null}var Sh="__closure_events_fn_"+(1e9*Math.random()>>>0);function $y(l){return typeof l=="function"?l:(l[Sh]||(l[Sh]=function(h){return l.handleEvent(h)}),l[Sh])}function lt(){fe.call(this),this.i=new Pi(this),this.M=this,this.F=null}I(lt,fe),lt.prototype[Zt]=!0,lt.prototype.removeEventListener=function(l,h,g,S){bi(this,l,h,g,S)};function Tt(l,h){var g,S=l.F;if(S)for(g=[];S;S=S.F)g.push(S);if(l=l.M,S=h.type||h,typeof h=="string")h=new we(h,l);else if(h instanceof we)h.target=h.target||l;else{var L=h;h=new we(S,l),P(h,L)}if(L=!0,g)for(var j=g.length-1;0<=j;j--){var H=h.g=g[j];L=Yl(H,S,!0,h)&&L}if(H=h.g=l,L=Yl(H,S,!0,h)&&L,L=Yl(H,S,!1,h)&&L,g)for(j=0;j<g.length;j++)H=h.g=g[j],L=Yl(H,S,!1,h)&&L}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var g=l.g[h],S=0;S<g.length;S++)Ri(g[S]);delete l.g[h],l.h--}}this.F=null},lt.prototype.K=function(l,h,g,S){return this.i.add(String(l),h,!1,g,S)},lt.prototype.L=function(l,h,g,S){return this.i.add(String(l),h,!0,g,S)};function Yl(l,h,g,S){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var L=!0,j=0;j<h.length;++j){var H=h[j];if(H&&!H.da&&H.capture==g){var Te=H.listener,Je=H.ha||H.src;H.fa&&gs(l.i,H),L=Te.call(Je,S)!==!1&&L}}return L&&!S.defaultPrevented}function zy(l,h,g){if(typeof l=="function")g&&(l=p(l,g));else if(l&&typeof l.handleEvent=="function")l=p(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function By(l){l.g=zy(()=>{l.g=null,l.i&&(l.i=!1,By(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class uR extends fe{constructor(h,g){super(),this.m=h,this.l=g,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:By(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qo(l){fe.call(this),this.h=l,this.g={}}I(Qo,fe);var Hy=[];function qy(l){V(l.g,function(h,g){this.g.hasOwnProperty(g)&&Ih(h)},l),l.g={}}Qo.prototype.N=function(){Qo.aa.N.call(this),qy(this)},Qo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ah=a.JSON.stringify,dR=a.JSON.parse,hR=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Rh(){}Rh.prototype.h=null;function Wy(l){return l.h||(l.h=l.i())}function Ky(){}var Yo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ph(){we.call(this,"d")}I(Ph,we);function bh(){we.call(this,"c")}I(bh,we);var ki={},Gy=null;function Xl(){return Gy=Gy||new lt}ki.La="serverreachability";function Qy(l){we.call(this,ki.La,l)}I(Qy,we);function Xo(l){const h=Xl();Tt(h,new Qy(h))}ki.STAT_EVENT="statevent";function Yy(l,h){we.call(this,ki.STAT_EVENT,l),this.stat=h}I(Yy,we);function xt(l){const h=Xl();Tt(h,new Yy(h,l))}ki.Ma="timingevent";function Xy(l,h){we.call(this,ki.Ma,l),this.size=h}I(Xy,we);function Jo(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function Zo(){this.g=!0}Zo.prototype.xa=function(){this.g=!1};function fR(l,h,g,S,L,j){l.info(function(){if(l.g)if(j)for(var H="",Te=j.split("&"),Je=0;Je<Te.length;Je++){var ge=Te[Je].split("=");if(1<ge.length){var ct=ge[0];ge=ge[1];var ut=ct.split("_");H=2<=ut.length&&ut[1]=="type"?H+(ct+"="+ge+"&"):H+(ct+"=redacted&")}}else H=null;else H=j;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+h+`
`+g+`
`+H})}function pR(l,h,g,S,L,j,H){l.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+h+`
`+g+`
`+j+" "+H})}function vs(l,h,g,S){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+gR(l,g)+(S?" "+S:"")})}function mR(l,h){l.info(function(){return"TIMEOUT: "+h})}Zo.prototype.info=function(){};function gR(l,h){if(!l.g)return h;if(!h)return null;try{var g=JSON.parse(h);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var S=g[l];if(!(2>S.length)){var L=S[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var H=1;H<L.length;H++)L[H]=""}}}}return Ah(g)}catch{return h}}var Jl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Jy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},kh;function Zl(){}I(Zl,Rh),Zl.prototype.g=function(){return new XMLHttpRequest},Zl.prototype.i=function(){return{}},kh=new Zl;function Er(l,h,g,S){this.j=l,this.i=h,this.l=g,this.R=S||1,this.U=new Qo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Zy}function Zy(){this.i=null,this.g="",this.h=!1}var ev={},Nh={};function Dh(l,h,g){l.L=1,l.v=rc(Qn(h)),l.m=g,l.P=!0,tv(l,null)}function tv(l,h){l.F=Date.now(),ec(l),l.A=Qn(l.v);var g=l.A,S=l.R;Array.isArray(S)||(S=[String(S)]),mv(g.i,"t",S),l.C=0,g=l.j.J,l.h=new Zy,l.g=Dv(l.j,g?h:null,!l.m),0<l.O&&(l.M=new uR(p(l.Y,l,l.g),l.O)),h=l.U,g=l.g,S=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(Hy[0]=L.toString()),L=Hy);for(var j=0;j<L.length;j++){var H=Ql(g,L[j],S||h.handleEvent,!1,h.h||h);if(!H)break;h.g[H.key]=H}h=l.H?x(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),Xo(),fR(l.i,l.u,l.A,l.l,l.R,l.m)}Er.prototype.ca=function(l){l=l.target;const h=this.M;h&&Yn(l)==3?h.j():this.Y(l)},Er.prototype.Y=function(l){try{if(l==this.g)e:{const ut=Yn(this.g);var h=this.g.Ba();const Es=this.g.Z();if(!(3>ut)&&(ut!=3||this.g&&(this.h.h||this.g.oa()||Tv(this.g)))){this.J||ut!=4||h==7||(h==8||0>=Es?Xo(3):Xo(2)),Oh(this);var g=this.g.Z();this.X=g;t:if(nv(this)){var S=Tv(this.g);l="";var L=S.length,j=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ni(this),ea(this);var H="";break t}this.h.i=new a.TextDecoder}for(h=0;h<L;h++)this.h.h=!0,l+=this.h.i.decode(S[h],{stream:!(j&&h==L-1)});S.length=0,this.h.g+=l,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=g==200,pR(this.i,this.u,this.A,this.l,this.R,ut,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Te,Je=this.g;if((Te=Je.g?Je.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Te)){var ge=Te;break t}}ge=null}if(g=ge)vs(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mh(this,g);else{this.o=!1,this.s=3,xt(12),Ni(this),ea(this);break e}}if(this.P){g=!0;let un;for(;!this.J&&this.C<H.length;)if(un=yR(this,H),un==Nh){ut==4&&(this.s=4,xt(14),g=!1),vs(this.i,this.l,null,"[Incomplete Response]");break}else if(un==ev){this.s=4,xt(15),vs(this.i,this.l,H,"[Invalid Chunk]"),g=!1;break}else vs(this.i,this.l,un,null),Mh(this,un);if(nv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ut!=4||H.length!=0||this.h.h||(this.s=1,xt(16),g=!1),this.o=this.o&&g,!g)vs(this.i,this.l,H,"[Invalid Chunked Response]"),Ni(this),ea(this);else if(0<H.length&&!this.W){this.W=!0;var ct=this.j;ct.g==this&&ct.ba&&!ct.M&&(ct.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),$h(ct),ct.M=!0,xt(11))}}else vs(this.i,this.l,H,null),Mh(this,H);ut==4&&Ni(this),this.o&&!this.J&&(ut==4?Pv(this.j,this):(this.o=!1,ec(this)))}else OR(this.g),g==400&&0<H.indexOf("Unknown SID")?(this.s=3,xt(12)):(this.s=0,xt(13)),Ni(this),ea(this)}}}catch{}finally{}};function nv(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function yR(l,h){var g=l.C,S=h.indexOf(`
`,g);return S==-1?Nh:(g=Number(h.substring(g,S)),isNaN(g)?ev:(S+=1,S+g>h.length?Nh:(h=h.slice(S,S+g),l.C=S+g,h)))}Er.prototype.cancel=function(){this.J=!0,Ni(this)};function ec(l){l.S=Date.now()+l.I,rv(l,l.I)}function rv(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Jo(p(l.ba,l),h)}function Oh(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Er.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(mR(this.i,this.A),this.L!=2&&(Xo(),xt(17)),Ni(this),this.s=2,ea(this)):rv(this,this.S-l)};function ea(l){l.j.G==0||l.J||Pv(l.j,l)}function Ni(l){Oh(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,qy(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Mh(l,h){try{var g=l.j;if(g.G!=0&&(g.g==l||Lh(g.h,l))){if(!l.K&&Lh(g.h,l)&&g.G==3){try{var S=g.Da.g.parse(h)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)cc(g),ac(g);else break e;Uh(g),xt(18)}}else g.za=L[1],0<g.za-g.T&&37500>L[2]&&g.F&&g.v==0&&!g.C&&(g.C=Jo(p(g.Za,g),6e3));if(1>=ov(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Oi(g,11)}else if((l.K||g.g==l)&&cc(g),!_(h))for(L=g.Da.g.parse(h),h=0;h<L.length;h++){let ge=L[h];if(g.T=ge[0],ge=ge[1],g.G==2)if(ge[0]=="c"){g.K=ge[1],g.ia=ge[2];const ct=ge[3];ct!=null&&(g.la=ct,g.j.info("VER="+g.la));const ut=ge[4];ut!=null&&(g.Aa=ut,g.j.info("SVER="+g.Aa));const Es=ge[5];Es!=null&&typeof Es=="number"&&0<Es&&(S=1.5*Es,g.L=S,g.j.info("backChannelRequestTimeoutMs_="+S)),S=g;const un=l.g;if(un){const dc=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dc){var j=S.h;j.g||dc.indexOf("spdy")==-1&&dc.indexOf("quic")==-1&&dc.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Vh(j,j.h),j.h=null))}if(S.D){const zh=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;zh&&(S.ya=zh,Ie(S.I,S.D,zh))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),S=g;var H=l;if(S.qa=Nv(S,S.J?S.ia:null,S.W),H.K){av(S.h,H);var Te=H,Je=S.L;Je&&(Te.I=Je),Te.B&&(Oh(Te),ec(Te)),S.g=H}else Av(S);0<g.i.length&&lc(g)}else ge[0]!="stop"&&ge[0]!="close"||Oi(g,7);else g.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?Oi(g,7):Fh(g):ge[0]!="noop"&&g.l&&g.l.ta(ge),g.v=0)}}Xo(4)}catch{}}var vR=class{constructor(l,h){this.g=l,this.map=h}};function iv(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sv(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function ov(l){return l.h?1:l.g?l.g.size:0}function Lh(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Vh(l,h){l.g?l.g.add(h):l.h=h}function av(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}iv.prototype.cancel=function(){if(this.i=lv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function lv(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const g of l.g.values())h=h.concat(g.D);return h}return y(l.i)}function _R(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],g=l.length,S=0;S<g;S++)h.push(l[S]);return h}h=[],g=0;for(S in l)h[g++]=l[S];return h}function wR(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var g=0;g<l;g++)h.push(g);return h}h=[],g=0;for(const S in l)h[g++]=S;return h}}}function cv(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var g=wR(l),S=_R(l),L=S.length,j=0;j<L;j++)h.call(void 0,S[j],g&&g[j],l)}var uv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ER(l,h){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var S=l[g].indexOf("="),L=null;if(0<=S){var j=l[g].substring(0,S);L=l[g].substring(S+1)}else j=l[g];h(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Di(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Di){this.h=l.h,tc(this,l.j),this.o=l.o,this.g=l.g,nc(this,l.s),this.l=l.l;var h=l.i,g=new ra;g.i=h.i,h.g&&(g.g=new Map(h.g),g.h=h.h),dv(this,g),this.m=l.m}else l&&(h=String(l).match(uv))?(this.h=!1,tc(this,h[1]||"",!0),this.o=ta(h[2]||""),this.g=ta(h[3]||"",!0),nc(this,h[4]),this.l=ta(h[5]||"",!0),dv(this,h[6]||"",!0),this.m=ta(h[7]||"")):(this.h=!1,this.i=new ra(null,this.h))}Di.prototype.toString=function(){var l=[],h=this.j;h&&l.push(na(h,hv,!0),":");var g=this.g;return(g||h=="file")&&(l.push("//"),(h=this.o)&&l.push(na(h,hv,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(na(g,g.charAt(0)=="/"?IR:xR,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",na(g,SR)),l.join("")};function Qn(l){return new Di(l)}function tc(l,h,g){l.j=g?ta(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function nc(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function dv(l,h,g){h instanceof ra?(l.i=h,AR(l.i,l.h)):(g||(h=na(h,CR)),l.i=new ra(h,l.h))}function Ie(l,h,g){l.i.set(h,g)}function rc(l){return Ie(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function ta(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function na(l,h,g){return typeof l=="string"?(l=encodeURI(l).replace(h,TR),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function TR(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var hv=/[#\/\?@]/g,xR=/[#\?:]/g,IR=/[#\?]/g,CR=/[#\?@]/g,SR=/#/g;function ra(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Tr(l){l.g||(l.g=new Map,l.h=0,l.i&&ER(l.i,function(h,g){l.add(decodeURIComponent(h.replace(/\+/g," ")),g)}))}t=ra.prototype,t.add=function(l,h){Tr(this),this.i=null,l=_s(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(h),this.h+=1,this};function fv(l,h){Tr(l),h=_s(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function pv(l,h){return Tr(l),h=_s(l,h),l.g.has(h)}t.forEach=function(l,h){Tr(this),this.g.forEach(function(g,S){g.forEach(function(L){l.call(h,L,S,this)},this)},this)},t.na=function(){Tr(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),g=[];for(let S=0;S<h.length;S++){const L=l[S];for(let j=0;j<L.length;j++)g.push(h[S])}return g},t.V=function(l){Tr(this);let h=[];if(typeof l=="string")pv(this,l)&&(h=h.concat(this.g.get(_s(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)h=h.concat(l[g])}return h},t.set=function(l,h){return Tr(this),this.i=null,l=_s(this,l),pv(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function mv(l,h,g){fv(l,h),0<g.length&&(l.i=null,l.g.set(_s(l,h),y(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var g=0;g<h.length;g++){var S=h[g];const j=encodeURIComponent(String(S)),H=this.V(S);for(S=0;S<H.length;S++){var L=j;H[S]!==""&&(L+="="+encodeURIComponent(String(H[S]))),l.push(L)}}return this.i=l.join("&")};function _s(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function AR(l,h){h&&!l.j&&(Tr(l),l.i=null,l.g.forEach(function(g,S){var L=S.toLowerCase();S!=L&&(fv(this,S),mv(this,L,g))},l)),l.j=h}function RR(l,h){const g=new Zo;if(a.Image){const S=new Image;S.onload=w(xr,g,"TestLoadImage: loaded",!0,h,S),S.onerror=w(xr,g,"TestLoadImage: error",!1,h,S),S.onabort=w(xr,g,"TestLoadImage: abort",!1,h,S),S.ontimeout=w(xr,g,"TestLoadImage: timeout",!1,h,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=l}else h(!1)}function PR(l,h){const g=new Zo,S=new AbortController,L=setTimeout(()=>{S.abort(),xr(g,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:S.signal}).then(j=>{clearTimeout(L),j.ok?xr(g,"TestPingServer: ok",!0,h):xr(g,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(L),xr(g,"TestPingServer: error",!1,h)})}function xr(l,h,g,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(g)}catch{}}function bR(){this.g=new hR}function kR(l,h,g){const S=g||"";try{cv(l,function(L,j){let H=L;u(L)&&(H=Ah(L)),h.push(S+j+"="+encodeURIComponent(H))})}catch(L){throw h.push(S+"type="+encodeURIComponent("_badmap")),L}}function ic(l){this.l=l.Ub||null,this.j=l.eb||!1}I(ic,Rh),ic.prototype.g=function(){return new sc(this.l,this.j)},ic.prototype.i=function(l){return function(){return l}}({});function sc(l,h){lt.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(sc,lt),t=sc.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,sa(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ia(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,sa(this)),this.g&&(this.readyState=3,sa(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gv(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function gv(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?ia(this):sa(this),this.readyState==3&&gv(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,ia(this))},t.Qa=function(l){this.g&&(this.response=l,ia(this))},t.ga=function(){this.g&&ia(this)};function ia(l){l.readyState=4,l.l=null,l.j=null,l.v=null,sa(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var g=h.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=h.next();return l.join(`\r
`)};function sa(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(sc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function yv(l){let h="";return V(l,function(g,S){h+=S,h+=":",h+=g,h+=`\r
`}),h}function jh(l,h,g){e:{for(S in g){var S=!1;break e}S=!0}S||(g=yv(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):Ie(l,h,g))}function Me(l){lt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Me,lt);var NR=/^https?$/i,DR=["POST","PUT"];t=Me.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,g,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kh.g(),this.v=this.o?Wy(this.o):Wy(kh),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(j){vv(this,j);return}if(l=g||"",g=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)g.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const j of S.keys())g.set(j,S.get(j));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(g.keys()).find(j=>j.toLowerCase()=="content-type"),L=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(DR,h,void 0))||S||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,H]of g)this.g.setRequestHeader(j,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ev(this),this.u=!0,this.g.send(l),this.u=!1}catch(j){vv(this,j)}};function vv(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,_v(l),oc(l)}function _v(l){l.A||(l.A=!0,Tt(l,"complete"),Tt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Tt(this,"complete"),Tt(this,"abort"),oc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oc(this,!0)),Me.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?wv(this):this.bb())},t.bb=function(){wv(this)};function wv(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Yn(l)!=4||l.Z()!=2)){if(l.u&&Yn(l)==4)zy(l.Ea,0,l);else if(Tt(l,"readystatechange"),Yn(l)==4){l.h=!1;try{const H=l.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var g;if(!(g=h)){var S;if(S=H===0){var L=String(l.D).match(uv)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),S=!NR.test(L?L.toLowerCase():"")}g=S}if(g)Tt(l,"complete"),Tt(l,"success");else{l.m=6;try{var j=2<Yn(l)?l.g.statusText:""}catch{j=""}l.l=j+" ["+l.Z()+"]",_v(l)}}finally{oc(l)}}}}function oc(l,h){if(l.g){Ev(l);const g=l.g,S=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||Tt(l,"ready");try{g.onreadystatechange=S}catch{}}}function Ev(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Yn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),dR(h)}};function Tv(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function OR(l){const h={};l=(l.g&&2<=Yn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<l.length;S++){if(_(l[S]))continue;var g=N(l[S]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const j=h[L]||[];h[L]=j,j.push(g)}A(h,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function oa(l,h,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||h}function xv(l){this.Aa=0,this.i=[],this.j=new Zo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=oa("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=oa("baseRetryDelayMs",5e3,l),this.cb=oa("retryDelaySeedMs",1e4,l),this.Wa=oa("forwardChannelMaxRetries",2,l),this.wa=oa("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new iv(l&&l.concurrentRequestLimit),this.Da=new bR,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=xv.prototype,t.la=8,t.G=1,t.connect=function(l,h,g,S){xt(0),this.W=l,this.H=h||{},g&&S!==void 0&&(this.H.OSID=g,this.H.OAID=S),this.F=this.X,this.I=Nv(this,null,this.W),lc(this)};function Fh(l){if(Iv(l),l.G==3){var h=l.U++,g=Qn(l.I);if(Ie(g,"SID",l.K),Ie(g,"RID",h),Ie(g,"TYPE","terminate"),aa(l,g),h=new Er(l,l.j,h),h.L=2,h.v=rc(Qn(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=h.v,g=!0),g||(h.g=Dv(h.j,null),h.g.ea(h.v)),h.F=Date.now(),ec(h)}kv(l)}function ac(l){l.g&&($h(l),l.g.cancel(),l.g=null)}function Iv(l){ac(l),l.u&&(a.clearTimeout(l.u),l.u=null),cc(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function lc(l){if(!sv(l.h)&&!l.s){l.s=!0;var h=l.Ga;Z||Y(),F||(Z(),F=!0),q.add(h,l),l.B=0}}function MR(l,h){return ov(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Jo(p(l.Ga,l,h),bv(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new Er(this,this.j,l);let j=this.o;if(this.S&&(j?(j=x(j),P(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)e:{for(var h=0,g=0;g<this.i.length;g++){t:{var S=this.i[g];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(h+=S,4096<h){h=g;break e}if(h===4096||g===this.i.length-1){h=g+1;break e}}h=1e3}else h=1e3;h=Sv(this,L,h),g=Qn(this.I),Ie(g,"RID",l),Ie(g,"CVER",22),this.D&&Ie(g,"X-HTTP-Session-Id",this.D),aa(this,g),j&&(this.O?h="headers="+encodeURIComponent(String(yv(j)))+"&"+h:this.m&&jh(g,this.m,j)),Vh(this.h,L),this.Ua&&Ie(g,"TYPE","init"),this.P?(Ie(g,"$req",h),Ie(g,"SID","null"),L.T=!0,Dh(L,g,null)):Dh(L,g,h),this.G=2}}else this.G==3&&(l?Cv(this,l):this.i.length==0||sv(this.h)||Cv(this))};function Cv(l,h){var g;h?g=h.l:g=l.U++;const S=Qn(l.I);Ie(S,"SID",l.K),Ie(S,"RID",g),Ie(S,"AID",l.T),aa(l,S),l.m&&l.o&&jh(S,l.m,l.o),g=new Er(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),h&&(l.i=h.D.concat(l.i)),h=Sv(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Vh(l.h,g),Dh(g,S,h)}function aa(l,h){l.H&&V(l.H,function(g,S){Ie(h,S,g)}),l.l&&cv({},function(g,S){Ie(h,S,g)})}function Sv(l,h,g){g=Math.min(l.i.length,g);var S=l.l?p(l.l.Na,l.l,l):null;e:{var L=l.i;let j=-1;for(;;){const H=["count="+g];j==-1?0<g?(j=L[0].g,H.push("ofs="+j)):j=0:H.push("ofs="+j);let Te=!0;for(let Je=0;Je<g;Je++){let ge=L[Je].g;const ct=L[Je].map;if(ge-=j,0>ge)j=Math.max(0,L[Je].g-100),Te=!1;else try{kR(ct,H,"req"+ge+"_")}catch{S&&S(ct)}}if(Te){S=H.join("&");break e}}}return l=l.i.splice(0,g),h.D=l,S}function Av(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;Z||Y(),F||(Z(),F=!0),q.add(h,l),l.v=0}}function Uh(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Jo(p(l.Fa,l),bv(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Rv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Jo(p(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xt(10),ac(this),Rv(this))};function $h(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Rv(l){l.g=new Er(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=Qn(l.qa);Ie(h,"RID","rpc"),Ie(h,"SID",l.K),Ie(h,"AID",l.T),Ie(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ie(h,"TO",l.ja),Ie(h,"TYPE","xmlhttp"),aa(l,h),l.m&&l.o&&jh(h,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=rc(Qn(h)),g.m=null,g.P=!0,tv(g,l)}t.Za=function(){this.C!=null&&(this.C=null,ac(this),Uh(this),xt(19))};function cc(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Pv(l,h){var g=null;if(l.g==h){cc(l),$h(l),l.g=null;var S=2}else if(Lh(l.h,h))g=h.D,av(l.h,h),S=1;else return;if(l.G!=0){if(h.o)if(S==1){g=h.m?h.m.length:0,h=Date.now()-h.F;var L=l.B;S=Xl(),Tt(S,new Xy(S,g)),lc(l)}else Av(l);else if(L=h.s,L==3||L==0&&0<h.X||!(S==1&&MR(l,h)||S==2&&Uh(l)))switch(g&&0<g.length&&(h=l.h,h.i=h.i.concat(g)),L){case 1:Oi(l,5);break;case 4:Oi(l,10);break;case 3:Oi(l,6);break;default:Oi(l,2)}}}function bv(l,h){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*h}function Oi(l,h){if(l.j.info("Error code "+h),h==2){var g=p(l.fb,l),S=l.Xa;const L=!S;S=new Di(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||tc(S,"https"),rc(S),L?RR(S.toString(),g):PR(S.toString(),g)}else xt(2);l.G=0,l.l&&l.l.sa(h),kv(l),Iv(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function kv(l){if(l.G=0,l.ka=[],l.l){const h=lv(l.h);(h.length!=0||l.i.length!=0)&&(T(l.ka,h),T(l.ka,l.i),l.h.i.length=0,y(l.i),l.i.length=0),l.l.ra()}}function Nv(l,h,g){var S=g instanceof Di?Qn(g):new Di(g);if(S.g!="")h&&(S.g=h+"."+S.g),nc(S,S.s);else{var L=a.location;S=L.protocol,h=h?h+"."+L.hostname:L.hostname,L=+L.port;var j=new Di(null);S&&tc(j,S),h&&(j.g=h),L&&nc(j,L),g&&(j.l=g),S=j}return g=l.D,h=l.ya,g&&h&&Ie(S,g,h),Ie(S,"VER",l.la),aa(l,S),S}function Dv(l,h,g){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new Me(new ic({eb:g})):new Me(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ov(){}t=Ov.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function uc(){}uc.prototype.g=function(l,h){return new $t(l,h)};function $t(l,h){lt.call(this),this.g=new xv(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!_(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!_(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new ws(this)}I($t,lt),$t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){Fh(this.g)},$t.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=Ah(l),l=g);h.i.push(new vR(h.Ya++,l)),h.G==3&&lc(h)},$t.prototype.N=function(){this.g.l=null,delete this.j,Fh(this.g),delete this.g,$t.aa.N.call(this)};function Mv(l){Ph.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const g in h){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}I(Mv,Ph);function Lv(){bh.call(this),this.status=1}I(Lv,bh);function ws(l){this.g=l}I(ws,Ov),ws.prototype.ua=function(){Tt(this.g,"a")},ws.prototype.ta=function(l){Tt(this.g,new Mv(l))},ws.prototype.sa=function(l){Tt(this.g,new Lv)},ws.prototype.ra=function(){Tt(this.g,"b")},uc.prototype.createWebChannel=uc.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,TC=function(){return new uc},EC=function(){return Xl()},wC=ki,em={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Jl.NO_ERROR=0,Jl.TIMEOUT=8,Jl.HTTP_ERROR=6,cu=Jl,Jy.COMPLETE="complete",_C=Jy,Ky.EventType=Yo,Yo.OPEN="a",Yo.CLOSE="b",Yo.ERROR="c",Yo.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Ia=Ky,Me.prototype.listenOnce=Me.prototype.L,Me.prototype.getLastError=Me.prototype.Ka,Me.prototype.getLastErrorCode=Me.prototype.Ba,Me.prototype.getStatus=Me.prototype.Z,Me.prototype.getResponseJson=Me.prototype.Oa,Me.prototype.getResponseText=Me.prototype.oa,Me.prototype.send=Me.prototype.ea,Me.prototype.setWithCredentials=Me.prototype.Ha,vC=Me}).apply(typeof Mc<"u"?Mc:typeof self<"u"?self:typeof window<"u"?window:{});const ow="@firebase/firestore",aw="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gt.UNAUTHENTICATED=new gt(null),gt.GOOGLE_CREDENTIALS=new gt("google-credentials-uid"),gt.FIRST_PARTY=new gt("first-party-uid"),gt.MOCK_USER=new gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new Mg("@firebase/firestore");function Ss(){return rs.logLevel}function W(t,...e){if(rs.logLevel<=ce.DEBUG){const n=e.map(Wg);rs.debug(`Firestore (${Bo}): ${t}`,...n)}}function mr(t,...e){if(rs.logLevel<=ce.ERROR){const n=e.map(Wg);rs.error(`Firestore (${Bo}): ${t}`,...n)}}function Co(t,...e){if(rs.logLevel<=ce.WARN){const n=e.map(Wg);rs.warn(`Firestore (${Bo}): ${t}`,...n)}}function Wg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,xC(t,r,n)}function xC(t,e,n){let r=`FIRESTORE (${Bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw mr(r),new Error(r)}function ve(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||xC(e,i,r)}function re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends wr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class U4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gt.UNAUTHENTICATED))}shutdown(){}}class $4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class z4{constructor(e){this.t=e,this.currentUser=gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ve(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new or;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new or,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new or)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string",31837,{l:r}),new IC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string",2055,{h:e}),new gt(e)}}class B4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=gt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class H4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new B4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ve(this.o===void 0,3512);const r=s=>{s.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new lw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ve(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new lw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=W4(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ae(t,e){return t<e?-1:t>e?1:0}function tm(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ae(r,i);{const s=CC(),o=K4(s.encode(cw(t,n)),s.encode(cw(e,n)));return o!==0?o:ae(r,i)}}n+=r>65535?2:1}return ae(t.length,e.length)}function cw(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function K4(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ae(t[n],e[n]);return ae(t.length,e.length)}function So(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=-62135596800,dw=1e6;class Ke{static now(){return Ke.fromMillis(Date.now())}static fromDate(e){return Ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*dw);return new Ke(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<uw)throw new K(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dw}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-uw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{static fromTimestamp(e){return new ne(e)}static min(){return new ne(new Ke(0,0))}static max(){return new ne(new Ke(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="__name__";class kn{constructor(e,n,r){n===void 0?n=0:n>e.length&&te(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&te(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return kn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof kn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=kn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ae(e.length,n.length)}static compareSegments(e,n){const r=kn.isNumericId(e),i=kn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?kn.extractNumericId(e).compare(kn.extractNumericId(n)):tm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return li.fromString(e.substring(4,e.length-2))}}class Ae extends kn{construct(e,n,r){return new Ae(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ae(n)}static emptyPath(){return new Ae([])}}const G4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rt extends kn{construct(e,n,r){return new rt(e,n,r)}static isValidIdentifier(e){return G4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hw}static keyField(){return new rt([hw])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new K(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new K(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new K(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new K(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rt(n)}static emptyPath(){return new rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(Ae.fromString(e))}static fromName(e){return new J(Ae.fromString(e).popFirst(5))}static empty(){return new J(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ae.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new Ae(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=-1;function Q4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new Ke(n+1,0):new Ke(n,r));return new gi(i,J.empty(),e)}function Y4(t){return new gi(t.readTime,t.key,gl)}class gi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new gi(ne.min(),J.empty(),gl)}static max(){return new gi(ne.max(),J.empty(),gl)}}function X4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Z4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==J4)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new $((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function ej(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}th.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg=-1;function nh(t){return t==null}function ad(t){return t===0&&1/t==-1/0}function tj(t){return typeof t=="number"&&Number.isInteger(t)&&!ad(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="";function nj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=fw(e)),e=rj(t.get(n),e);return fw(e)}function rj(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case AC:n+="";break;default:n+=s}}return n}function fw(t){return t+AC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Si(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function RC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e,n){this.comparator=e,this.root=n||et.EMPTY}insert(e,n){return new Oe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,et.BLACK,null,null))}remove(e){return new Oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,et.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lc(this.root,e,this.comparator,!0)}}class Lc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class et{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??et.RED,this.left=i??et.EMPTY,this.right=s??et.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new et(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return et.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return et.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw te(27949);return e+(this.isRed()?0:1)}}et.EMPTY=null,et.RED=!0,et.BLACK=!1;et.EMPTY=new class{constructor(){this.size=0}get key(){throw te(57766)}get value(){throw te(16141)}get color(){throw te(16727)}get left(){throw te(29726)}get right(){throw te(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new et(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mw(this.data.getIterator())}getIteratorFrom(e){return new mw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ge)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ge(this.comparator);return n.data=e,n}}class mw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.fields=e,e.sort(rt.comparator)}static empty(){return new Wt([])}unionWith(e){let n=new Ge(rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Wt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return So(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new PC("Invalid base64 string: "+s):s}}(e);return new at(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new at(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}at.EMPTY_BYTE_STRING=new at("");const ij=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yi(t){if(ve(!!t,39018),typeof t=="string"){let e=0;const n=ij.exec(t);if(ve(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:je(t.seconds),nanos:je(t.nanos)}}function je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vi(t){return typeof t=="string"?at.fromBase64String(t):at.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="server_timestamp",kC="__type__",NC="__previous_value__",DC="__local_write_time__";function Gg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[kC])===null||n===void 0?void 0:n.stringValue)===bC}function rh(t){const e=t.mapValue.fields[NC];return Gg(e)?rh(e):e}function yl(t){const e=yi(t.mapValue.fields[DC].timestampValue);return new Ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e,n,r,i,s,o,a,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const ld="(default)";class vl{constructor(e,n){this.projectId=e,this.database=n||ld}static empty(){return new vl("","")}get isDefaultDatabase(){return this.database===ld}isEqual(e){return e instanceof vl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="__type__",MC="__max__",Vc={mapValue:{fields:{__type__:{stringValue:MC}}}},LC="__vector__",cd="value";function _i(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gg(t)?4:aj(t)?9007199254740991:oj(t)?10:11:te(28295,{value:t})}function Wn(t,e){if(t===e)return!0;const n=_i(t);if(n!==_i(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yl(t).isEqual(yl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=yi(i.timestampValue),a=yi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return vi(i.bytesValue).isEqual(vi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return je(i.geoPointValue.latitude)===je(s.geoPointValue.latitude)&&je(i.geoPointValue.longitude)===je(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return je(i.integerValue)===je(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=je(i.doubleValue),a=je(s.doubleValue);return o===a?ad(o)===ad(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return So(t.arrayValue.values||[],e.arrayValue.values||[],Wn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(pw(o)!==pw(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Wn(o[c],a[c])))return!1;return!0}(t,e);default:return te(52216,{left:t})}}function _l(t,e){return(t.values||[]).find(n=>Wn(n,e))!==void 0}function Ao(t,e){if(t===e)return 0;const n=_i(t),r=_i(e);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=je(s.integerValue||s.doubleValue),c=je(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return gw(t.timestampValue,e.timestampValue);case 4:return gw(yl(t),yl(e));case 5:return tm(t.stringValue,e.stringValue);case 6:return function(s,o){const a=vi(s),c=vi(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const d=ae(a[u],c[u]);if(d!==0)return d}return ae(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ae(je(s.latitude),je(o.latitude));return a!==0?a:ae(je(s.longitude),je(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return yw(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,c,u,d;const f=s.fields||{},p=o.fields||{},w=(a=f[cd])===null||a===void 0?void 0:a.arrayValue,I=(c=p[cd])===null||c===void 0?void 0:c.arrayValue,y=ae(((u=w==null?void 0:w.values)===null||u===void 0?void 0:u.length)||0,((d=I==null?void 0:I.values)===null||d===void 0?void 0:d.length)||0);return y!==0?y:yw(w,I)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Vc.mapValue&&o===Vc.mapValue)return 0;if(s===Vc.mapValue)return 1;if(o===Vc.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const p=tm(c[f],d[f]);if(p!==0)return p;const w=Ao(a[c[f]],u[d[f]]);if(w!==0)return w}return ae(c.length,d.length)}(t.mapValue,e.mapValue);default:throw te(23264,{Pe:n})}}function gw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);const n=yi(t),r=yi(e),i=ae(n.seconds,r.seconds);return i!==0?i:ae(n.nanos,r.nanos)}function yw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ao(n[i],r[i]);if(s)return s}return ae(n.length,r.length)}function Ro(t){return nm(t)}function nm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=yi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return vi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=nm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${nm(n.fields[o])}`;return i+"}"}(t.mapValue):te(61005,{value:t})}function uu(t){switch(_i(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rh(t);return e?16+uu(e):16;case 5:return 2*t.stringValue.length;case 6:return vi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+uu(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Si(r.fields,(s,o)=>{i+=s.length+uu(o)}),i}(t.mapValue);default:throw te(13486,{value:t})}}function vw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function rm(t){return!!t&&"integerValue"in t}function Qg(t){return!!t&&"arrayValue"in t}function _w(t){return!!t&&"nullValue"in t}function ww(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function du(t){return!!t&&"mapValue"in t}function oj(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[OC])===null||n===void 0?void 0:n.stringValue)===LC}function $a(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Si(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=$a(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$a(t.arrayValue.values[n]);return e}return Object.assign({},t)}function aj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===MC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.value=e}static empty(){return new Mt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!du(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$a(n)}setAll(e){let n=rt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=$a(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());du(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];du(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Si(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Mt($a(this.value))}}function VC(t){const e=[];return Si(t.fields,(n,r)=>{const i=new rt([n]);if(du(r)){const s=VC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Wt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new vt(e,0,ne.min(),ne.min(),ne.min(),Mt.empty(),0)}static newFoundDocument(e,n,r,i){return new vt(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new vt(e,2,n,ne.min(),ne.min(),Mt.empty(),0)}static newUnknownDocument(e,n){return new vt(e,3,n,ne.min(),ne.min(),Mt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n){this.position=e,this.inclusive=n}}function Ew(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=J.comparator(J.fromName(o.referenceValue),n.key):r=Ao(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Tw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n="asc"){this.field=e,this.dir=n}}function lj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{}class Be extends jC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new uj(e,n,r):n==="array-contains"?new fj(e,r):n==="in"?new pj(e,r):n==="not-in"?new mj(e,r):n==="array-contains-any"?new gj(e,r):new Be(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new dj(e,r):new hj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ao(n,this.value)):n!==null&&_i(this.value)===_i(n)&&this.matchesComparison(Ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class An extends jC{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new An(e,n)}matches(e){return FC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function FC(t){return t.op==="and"}function UC(t){return cj(t)&&FC(t)}function cj(t){for(const e of t.filters)if(e instanceof An)return!1;return!0}function im(t){if(t instanceof Be)return t.field.canonicalString()+t.op.toString()+Ro(t.value);if(UC(t))return t.filters.map(e=>im(e)).join(",");{const e=t.filters.map(n=>im(n)).join(",");return`${t.op}(${e})`}}function $C(t,e){return t instanceof Be?function(r,i){return i instanceof Be&&r.op===i.op&&r.field.isEqual(i.field)&&Wn(r.value,i.value)}(t,e):t instanceof An?function(r,i){return i instanceof An&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&$C(o,i.filters[a]),!0):!1}(t,e):void te(19439)}function zC(t){return t instanceof Be?function(n){return`${n.field.canonicalString()} ${n.op} ${Ro(n.value)}`}(t):t instanceof An?function(n){return n.op.toString()+" {"+n.getFilters().map(zC).join(" ,")+"}"}(t):"Filter"}class uj extends Be{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class dj extends Be{constructor(e,n){super(e,"in",n),this.keys=BC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class hj extends Be{constructor(e,n){super(e,"not-in",n),this.keys=BC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function BC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class fj extends Be{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qg(n)&&_l(n.arrayValue,this.value)}}class pj extends Be{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_l(this.value.arrayValue,n)}}class mj extends Be{constructor(e,n){super(e,"not-in",n)}matches(e){if(_l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_l(this.value.arrayValue,n)}}class gj extends Be{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_l(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Ie=null}}function xw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new yj(t,e,n,r,i,s,o)}function Yg(t){const e=re(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>im(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),nh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ro(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ro(r)).join(",")),e.Ie=n}return e.Ie}function Xg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!lj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$C(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Tw(t.startAt,e.startAt)&&Tw(t.endAt,e.endAt)}function sm(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function vj(t,e,n,r,i,s,o,a){return new Wo(t,e,n,r,i,s,o,a)}function Jg(t){return new Wo(t)}function Iw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function HC(t){return t.collectionGroup!==null}function za(t){const e=re(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ge(rt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new wl(s,r))}),n.has(rt.keyField().canonicalString())||e.Ee.push(new wl(rt.keyField(),r))}return e.Ee}function zn(t){const e=re(t);return e.de||(e.de=_j(e,za(t))),e.de}function _j(t,e){if(t.limitType==="F")return xw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new wl(i.field,s)});const n=t.endAt?new ud(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ud(t.startAt.position,t.startAt.inclusive):null;return xw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function om(t,e){const n=t.filters.concat([e]);return new Wo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function am(t,e,n){return new Wo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ih(t,e){return Xg(zn(t),zn(e))&&t.limitType===e.limitType}function qC(t){return`${Yg(zn(t))}|lt:${t.limitType}`}function As(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>zC(i)).join(", ")}]`),nh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ro(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ro(i)).join(",")),`Target(${r})`}(zn(t))}; limitType=${t.limitType})`}function sh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):J.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of za(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){const u=Ew(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,za(r),i)||r.endAt&&!function(o,a,c){const u=Ew(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,za(r),i))}(t,e)}function wj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function WC(t){return(e,n)=>{let r=!1;for(const i of za(t)){const s=Ej(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Ej(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(s,o,a){const c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?Ao(c,u):te(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return te(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Si(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return RC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj=new Oe(J.comparator);function gr(){return Tj}const KC=new Oe(J.comparator);function Ca(...t){let e=KC;for(const n of t)e=e.insert(n.key,n);return e}function GC(t){let e=KC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function $i(){return Ba()}function QC(){return Ba()}function Ba(){return new fs(t=>t.toString(),(t,e)=>t.isEqual(e))}const xj=new Oe(J.comparator),Ij=new Ge(J.comparator);function ue(...t){let e=Ij;for(const n of t)e=e.add(n);return e}const Cj=new Ge(ae);function Sj(){return Cj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ad(e)?"-0":e}}function YC(t){return{integerValue:""+t}}function Aj(t,e){return tj(e)?YC(e):Zg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(){this._=void 0}}function Rj(t,e,n){return t instanceof El?function(i,s){const o={fields:{[kC]:{stringValue:bC},[DC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Gg(s)&&(s=rh(s)),s&&(o.fields[NC]=s),{mapValue:o}}(n,e):t instanceof Tl?JC(t,e):t instanceof xl?ZC(t,e):function(i,s){const o=XC(i,s),a=Cw(o)+Cw(i.Re);return rm(o)&&rm(i.Re)?YC(a):Zg(i.serializer,a)}(t,e)}function Pj(t,e,n){return t instanceof Tl?JC(t,e):t instanceof xl?ZC(t,e):n}function XC(t,e){return t instanceof dd?function(r){return rm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class El extends oh{}class Tl extends oh{constructor(e){super(),this.elements=e}}function JC(t,e){const n=eS(e);for(const r of t.elements)n.some(i=>Wn(i,r))||n.push(r);return{arrayValue:{values:n}}}class xl extends oh{constructor(e){super(),this.elements=e}}function ZC(t,e){let n=eS(e);for(const r of t.elements)n=n.filter(i=>!Wn(i,r));return{arrayValue:{values:n}}}class dd extends oh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Cw(t){return je(t.integerValue||t.doubleValue)}function eS(t){return Qg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e,n){this.field=e,this.transform=n}}function kj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Tl&&i instanceof Tl||r instanceof xl&&i instanceof xl?So(r.elements,i.elements,Wn):r instanceof dd&&i instanceof dd?Wn(r.Re,i.Re):r instanceof El&&i instanceof El}(t.transform,e.transform)}class Nj{constructor(e,n){this.version=e,this.transformResults=n}}class Bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ah{}function tS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new rS(t.key,Bn.none()):new $l(t.key,t.data,Bn.none());{const n=t.data,r=Mt.empty();let i=new Ge(rt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ai(t.key,r,new Wt(i.toArray()),Bn.none())}}function Dj(t,e,n){t instanceof $l?function(i,s,o){const a=i.value.clone(),c=Aw(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ai?function(i,s,o){if(!hu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Aw(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(nS(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ha(t,e,n,r){return t instanceof $l?function(s,o,a,c){if(!hu(s.precondition,o))return a;const u=s.value.clone(),d=Rw(s.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ai?function(s,o,a,c){if(!hu(s.precondition,o))return a;const u=Rw(s.fieldTransforms,c,o),d=o.data;return d.setAll(nS(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return hu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Oj(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=XC(r.transform,i||null);s!=null&&(n===null&&(n=Mt.empty()),n.set(r.field,s))}return n||null}function Sw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&So(r,i,(s,o)=>kj(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $l extends ah{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ai extends ah{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function nS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Aw(t,e,n){const r=new Map;ve(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Pj(o,a,n[i]))}return r}function Rw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Rj(s,o,e))}return r}class rS extends ah{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Mj extends ah{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Dj(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ha(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ha(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=QC();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=tS(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&So(this.mutations,e.mutations,(n,r)=>Sw(n,r))&&So(this.baseMutations,e.baseMutations,(n,r)=>Sw(n,r))}}class ey{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ve(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return xj}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new ey(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vj=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e,de;function Fj(t){switch(t){case U.OK:return te(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return te(15467,{code:t})}}function iS(t){if(t===void 0)return mr("GRPC error has no .code"),U.UNKNOWN;switch(t){case $e.OK:return U.OK;case $e.CANCELLED:return U.CANCELLED;case $e.UNKNOWN:return U.UNKNOWN;case $e.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case $e.INTERNAL:return U.INTERNAL;case $e.UNAVAILABLE:return U.UNAVAILABLE;case $e.UNAUTHENTICATED:return U.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case $e.NOT_FOUND:return U.NOT_FOUND;case $e.ALREADY_EXISTS:return U.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return U.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case $e.ABORTED:return U.ABORTED;case $e.OUT_OF_RANGE:return U.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return U.UNIMPLEMENTED;case $e.DATA_LOSS:return U.DATA_LOSS;default:return te(39323,{code:t})}}(de=$e||($e={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj=new li([4294967295,4294967295],0);function Pw(t){const e=CC().encode(t),n=new yC;return n.update(e),new Uint8Array(n.digest())}function bw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new li([n,r],0),new li([i,s],0)]}class ty{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Sa(`Invalid padding: ${n}`);if(r<0)throw new Sa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Sa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Sa(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=li.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(li.fromNumber(r)));return i.compare(Uj)===1&&(i=new li([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=Pw(e),[r,i]=bw(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);if(!this.be(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new ty(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=Pw(e),[r,i]=bw(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Sa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,zl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new lh(ne.min(),i,new Oe(ae),gr(),ue())}}class zl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zl(r,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class sS{constructor(e,n){this.targetId=e,this.Ce=n}}class oS{constructor(e,n,r=at.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class kw{constructor(){this.Fe=0,this.Me=Nw(),this.xe=at.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ue(),n=ue(),r=ue();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:te(38017,{changeType:s})}}),new zl(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=Nw()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ve(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class $j{constructor(e){this.ze=e,this.je=new Map,this.He=gr(),this.Je=jc(),this.Ye=jc(),this.Ze=new Oe(ae)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const s=i.target;if(sm(s))if(r===0){const o=new J(s.path);this.tt(n,o,vt.newNoDocument(o,ne.min()))}else ve(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),c=a?this.lt(a,e,o):1;if(c!==0){this.st(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=vi(r).toUint8Array()}catch(c){if(c instanceof PC)return Co("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new ty(o,i,s)}catch(c){return Co(c instanceof Sa?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,s,null),i++)}),i}It(e){const n=new Map;this.je.forEach((s,o)=>{const a=this._t(o);if(a){if(s.current&&sm(a.target)){const c=new J(a.target.path);this.Et(c).has(o)||this.dt(o,c)||this.tt(o,c,vt.newNoDocument(c,e))}s.Le&&(n.set(o,s.qe()),s.Qe())}});let r=ue();this.Ye.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const u=this._t(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.He.forEach((s,o)=>o.setReadTime(e));const i=new lh(e,n,this.Ze,this.He,r);return this.He=gr(),this.Je=jc(),this.Ye=jc(),this.Ze=new Oe(ae),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new kw,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Ge(ae),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Ge(ae),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new kw),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function jc(){return new Oe(J.comparator)}function Nw(){return new Oe(J.comparator)}const zj={asc:"ASCENDING",desc:"DESCENDING"},Bj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hj={and:"AND",or:"OR"};class qj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function lm(t,e){return t.useProto3Json||nh(e)?e:{value:e}}function hd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Wj(t,e){return hd(t,e.toTimestamp())}function Hn(t){return ve(!!t,49232),ne.fromTimestamp(function(n){const r=yi(n);return new Ke(r.seconds,r.nanos)}(t))}function ny(t,e){return cm(t,e).canonicalString()}function cm(t,e){const n=function(i){return new Ae(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function lS(t){const e=Ae.fromString(t);return ve(fS(e),10190,{key:e.toString()}),e}function um(t,e){return ny(t.databaseId,e.path)}function Nf(t,e){const n=lS(e);if(n.get(1)!==t.databaseId.projectId)throw new K(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(uS(n))}function cS(t,e){return ny(t.databaseId,e)}function Kj(t){const e=lS(t);return e.length===4?Ae.emptyPath():uS(e)}function dm(t){return new Ae(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function uS(t){return ve(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Dw(t,e,n){return{name:um(t,e),fields:n.value.mapValue.fields}}function Gj(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:te(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(ve(d===void 0||typeof d=="string",58123),at.fromBase64String(d||"")):(ve(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),at.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?U.UNKNOWN:iS(u.code);return new K(d,u.message||"")}(o);n=new oS(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Nf(t,r.document.name),s=Hn(r.document.updateTime),o=r.document.createTime?Hn(r.document.createTime):ne.min(),a=new Mt({mapValue:{fields:r.document.fields}}),c=vt.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new fu(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Nf(t,r.document),s=r.readTime?Hn(r.readTime):ne.min(),o=vt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new fu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Nf(t,r.document),s=r.removedTargetIds||[];n=new fu([],s,i,null)}else{if(!("filter"in e))return te(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new jj(i,s),a=r.targetId;n=new sS(a,o)}}return n}function Qj(t,e){let n;if(e instanceof $l)n={update:Dw(t,e.key,e.value)};else if(e instanceof rS)n={delete:um(t,e.key)};else if(e instanceof Ai)n={update:Dw(t,e.key,e.data),updateMask:iF(e.fieldMask)};else{if(!(e instanceof Mj))return te(16599,{ft:e.type});n={verify:um(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof El)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Tl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof xl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof dd)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw te(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Wj(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:te(27497)}(t,e.precondition)),n}function Yj(t,e){return t&&t.length>0?(ve(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Hn(i.updateTime):Hn(s);return o.isEqual(ne.min())&&(o=Hn(s)),new Nj(o,i.transformResults||[])}(n,e))):[]}function Xj(t,e){return{documents:[cS(t,e.path)]}}function Jj(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=cS(t,i);const s=function(u){if(u.length!==0)return hS(An.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:Rs(p.field),direction:tF(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=lm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:i}}function Zj(t){let e=Kj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ve(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const p=dS(f);return p instanceof An&&UC(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(I){return new wl(Ps(I.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,nh(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(f){const p=!!f.before,w=f.values||[];return new ud(w,p)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const p=!f.before,w=f.values||[];return new ud(w,p)}(n.endAt)),vj(e,i,o,s,a,"F",c,u)}function eF(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ps(n.unaryFilter.field);return Be.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ps(n.unaryFilter.field);return Be.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ps(n.unaryFilter.field);return Be.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ps(n.unaryFilter.field);return Be.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return te(61313);default:return te(60726)}}(t):t.fieldFilter!==void 0?function(n){return Be.create(Ps(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return te(58110);default:return te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return An.create(n.compositeFilter.filters.map(r=>dS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return te(1026)}}(n.compositeFilter.op))}(t):te(30097,{filter:t})}function tF(t){return zj[t]}function nF(t){return Bj[t]}function rF(t){return Hj[t]}function Rs(t){return{fieldPath:t.canonicalString()}}function Ps(t){return rt.fromServerFormat(t.fieldPath)}function hS(t){return t instanceof Be?function(n){if(n.op==="=="){if(ww(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NAN"}};if(_w(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ww(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NOT_NAN"}};if(_w(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rs(n.field),op:nF(n.op),value:n.value}}}(t):t instanceof An?function(n){const r=n.getFilters().map(i=>hS(i));return r.length===1?r[0]:{compositeFilter:{op:rF(n.op),filters:r}}}(t):te(54877,{filter:t})}function iF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function fS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n,r,i,s=ne.min(),o=ne.min(),a=at.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e){this.wt=e}}function oF(t){const e=Zj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?am(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(){this.Cn=new lF}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(gi.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(gi.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class lF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ge(Ae.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ge(Ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pS=41943040;class Dt{static withCacheSize(e){return new Dt(e,Dt.DEFAULT_COLLECTION_PERCENTILE,Dt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dt.DEFAULT_COLLECTION_PERCENTILE=10,Dt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dt.DEFAULT=new Dt(pS,Dt.DEFAULT_COLLECTION_PERCENTILE,Dt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dt.DISABLED=new Dt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Po(0)}static lr(){return new Po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="LruGarbageCollector",cF=1048576;function Lw([t,e],[n,r]){const i=ae(t,n);return i===0?ae(e,r):i}class uF{constructor(e){this.Er=e,this.buffer=new Ge(Lw),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Lw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class dF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){W(Mw,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){qo(n)?W(Mw,"Ignoring IndexedDB error during garbage collection: ",n):await Ho(n)}await this.mr(3e5)})}}class hF{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(th.le);const r=new uF(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Ow)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ow):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,s,o,a,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Ss()<=ce.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function fF(t,e){return new hF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(){this.changes=new fs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ha(r.mutation,i,Wt.empty(),Ke.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){const i=$i();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ca();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=$i();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=gr();const o=Ba(),a=function(){return Ba()}();return n.forEach((c,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Ai)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Ha(d.mutation,u,d.mutation.getFieldMask(),Ke.now())):o.set(u.key,Wt.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var f;return a.set(u,new mF(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ba();let i=new Oe((o,a)=>o-a),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||Wt.empty();d=a.applyToLocalView(u,d),r.set(c,d);const f=(i.get(a.batchId)||ue()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,d=c.value,f=QC();d.forEach(p=>{if(!s.has(p)){const w=tS(n.get(p),r.get(p));w!==null&&f.set(p,w),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return J.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):HC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):$.resolve($i());let a=gl,c=s;return o.next(u=>$.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?$.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{c=c.insert(d,p)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,ue())).next(d=>({batchId:a,changes:GC(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let i=Ca();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ca();return this.indexManager.getCollectionParents(e,s).next(a=>$.forEach(a,c=>{const u=function(f,p){return new Wo(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,vt.newInvalidDocument(d)))});let a=Ca();return o.forEach((c,u)=>{const d=s.get(c);d!==void 0&&Ha(d.mutation,u,Wt.empty(),Ke.now()),sh(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return $.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Hn(i.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:oF(i.bundledQuery),readTime:Hn(i.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(){this.overlays=new Oe(J.comparator),this.Qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$i();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=$i(),s=n.length+1,o=new J(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Oe((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=$i(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=$i(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return $.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Vj(n,r));let s=this.Qr.get(n);s===void 0&&(s=ue(),this.Qr.set(n,s)),this.Qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(){this.sessionToken=at.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(){this.$r=new Ge(Qe.Ur),this.Kr=new Ge(Qe.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new Qe(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Qe(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new J(new Ae([])),r=new Qe(n,e),i=new Qe(n,e+1),s=[];return this.Kr.forEachInRange([r,i],o=>{this.zr(o),s.push(o.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new J(new Ae([])),r=new Qe(n,e),i=new Qe(n,e+1);let s=ue();return this.Kr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Qe(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Qe{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return J.comparator(e.key,n.key)||ae(e.Zr,n.Zr)}static Wr(e,n){return ae(e.Zr,n.Zr)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Ge(Qe.Ur)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Lj(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Xr=this.Xr.add(new Qe(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Kg:this.nr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Qe(n,0),i=new Qe(n,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([r,i],o=>{const a=this.ei(o.Zr);s.push(a)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ge(ae);return n.forEach(i=>{const s=new Qe(i,0),o=new Qe(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,o],a=>{r=r.add(a.Zr)})}),$.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;J.isDocumentKey(s)||(s=s.child(""));const o=new Qe(new J(s),0);let a=new Ge(ae);return this.Xr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Zr)),!0)},o),$.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ve(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return $.forEach(n.mutations,i=>{const s=new Qe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new Qe(n,0),i=this.Xr.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e){this.ii=e,this.docs=function(){return new Oe(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():vt.newInvalidDocument(n))}getEntries(e,n){let r=gr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():vt.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=gr();const o=n.path,a=new J(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||X4(Y4(d),r)<=0||(i.has(d.key)||sh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,n,r,i){te(9500)}si(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new TF(this)}getSize(e){return $.resolve(this.size)}}class TF extends pF{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e){this.persistence=e,this.oi=new fs(n=>Yg(n),Xg),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this._i=0,this.ai=new ry,this.targetCount=0,this.ui=Po.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),$.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Po(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Tr(n),$.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,n){this.ci={},this.overlays={},this.li=new th(0),this.hi=!1,this.hi=!0,this.Pi=new _F,this.referenceDelegate=e(this),this.Ti=new xF(this),this.indexManager=new aF,this.remoteDocumentCache=function(i){return new EF(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new sF(n),this.Ei=new yF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new wF(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const i=new IF(this.li.next());return this.referenceDelegate.di(),r(i).next(s=>this.referenceDelegate.Ai(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ri(e,n){return $.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class IF extends Z4{constructor(e){super(),this.currentSequenceNumber=e}}class iy{constructor(e){this.persistence=e,this.Vi=new ry,this.mi=null}static fi(e){return new iy(e)}get gi(){if(this.mi)return this.mi;throw te(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.gi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.gi,r=>{const i=J.fromPath(r);return this.pi(e,i).next(s=>{s||n.removeEntry(i,ne.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return $.or([()=>$.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class fd{constructor(e,n){this.persistence=e,this.yi=new fs(r=>nj(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=fF(this,n)}static fi(e,n){return new fd(e,n)}di(){}Ai(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return $.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(s=>s?$.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.si(e,o=>this.Dr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,ne.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),$.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=uu(e.data.value)),n}Dr(e,n,r){return $.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return $.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=ue(),i=ue();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new sy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return oM()?8:ej(Et())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ws(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.bs(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new CF;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>s.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(Ss()<=ce.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",As(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),$.resolve()):(Ss()<=ce.DEBUG&&W("QueryEngine","Query:",As(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Ss()<=ce.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",As(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zn(n))):$.resolve())}ws(e,n){if(Iw(n))return $.resolve(null);let r=zn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=am(n,null,"F"),r=zn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ue(...s);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.vs(n,a);return this.Cs(n,u,o,c.readTime)?this.ws(e,am(n,null,"F")):this.Fs(e,u,n,c)}))})))}bs(e,n,r,i){return Iw(n)||i.isEqual(ne.min())?$.resolve(null):this.ys.getDocuments(e,r).next(s=>{const o=this.vs(n,s);return this.Cs(n,o,r,i)?$.resolve(null):(Ss()<=ce.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),As(n)),this.Fs(e,o,n,Q4(i,gl)).next(a=>a))})}vs(e,n){let r=new Ge(WC(e));return n.forEach((i,s)=>{sh(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Ss()<=ce.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",As(n)),this.ys.getDocumentsMatchingQuery(e,n,gi.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy="LocalStore",AF=3e8;class RF{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new Oe(ae),this.Os=new fs(s=>Yg(s),Xg),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gF(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function PF(t,e,n,r){return new RF(t,e,n,r)}async function gS(t,e){const n=re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=ue();for(const u of i){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({ks:u,removedBatchIds:o,addedBatchIds:a}))})})}function bF(t,e){const n=re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){const f=u.batch,p=f.keys();let w=$.resolve();return p.forEach(I=>{w=w.next(()=>d.getEntry(c,I)).next(y=>{const T=u.docVersions.get(I);ve(T!==null,48541),y.version.compareTo(T)<0&&(f.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),d.addEntry(y)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ue();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function yS(t){const e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function kF(t,e){const n=re(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const a=[];e.targetChanges.forEach((d,f)=>{const p=i.get(f);if(!p)return;a.push(n.Ti.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Ti.addMatchingKeys(s,d.addedDocuments,f)));let w=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?w=w.withResumeToken(at.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):d.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(d.resumeToken,r)),i=i.insert(f,w),function(y,T,v){return y.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=AF?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(p,w,d)&&a.push(n.Ti.updateTargetData(s,w))});let c=gr(),u=ue();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(NF(s,o,e.documentUpdates).next(d=>{c=d.qs,u=d.Qs})),!r.isEqual(ne.min())){const d=n.Ti.getLastRemoteSnapshotVersion(s).next(f=>n.Ti.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return $.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.xs=i,s))}function NF(t,e,n){let r=ue(),i=ue();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=gr();return n.forEach((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ne.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):W(oy,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{qs:o,Qs:i}})}function DF(t,e){const n=re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Kg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function OF(t,e){const n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(s=>s?(i=s,$.resolve(i)):n.Ti.allocateTargetId(r).next(o=>(i=new Qr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function hm(t,e,n){const r=re(t),i=r.xs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!qo(o))throw o;W(oy,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function Vw(t,e,n){const r=re(t);let i=ne.min(),s=ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const f=re(c),p=f.Os.get(d);return p!==void 0?$.resolve(f.xs.get(p)):f.Ti.getTargetData(u,d)}(r,o,zn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?i:ne.min(),n?s:ue())).next(a=>(MF(r,wj(e),a),{documents:a,$s:s})))}function MF(t,e,n){let r=t.Ns.get(e)||ne.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ns.set(e,r)}class jw{constructor(){this.activeTargetIds=Sj()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LF{constructor(){this.xo=new jw,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new jw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="ConnectivityMonitor";class Uw{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){W(Fw,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){W(Fw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc=null;function fm(){return Fc===null?Fc=function(){return 268435456+Math.round(2147483648*Math.random())}():Fc++,"0x"+Fc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df="RestConnection",jF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FF{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===ld?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,s){const o=fm(),a=this.jo(e,n.toUriEncodedString());W(Df,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,s);const{host:u}=new URL(a),d=Fo(u);return this.Jo(e,a,c,r,d).then(f=>(W(Df,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Co(Df,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Yo(e,n,r,i,s,o){return this.zo(e,n,r,i,s)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}jo(e,n){const r=jF[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt="WebChannelConnection";class $F extends FF{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=fm();return new Promise((a,c)=>{const u=new vC;u.setWithCredentials(!0),u.listenOnce(_C.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case cu.NO_ERROR:const f=u.getResponseJson();W(pt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case cu.TIMEOUT:W(pt,`RPC '${e}' ${o} timed out`),c(new K(U.DEADLINE_EXCEEDED,"Request time out"));break;case cu.HTTP_ERROR:const p=u.getStatus();if(W(pt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let w=u.getResponseJson();Array.isArray(w)&&(w=w[0]);const I=w==null?void 0:w.error;if(I&&I.status&&I.message){const y=function(v){const _=v.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(_)>=0?_:U.UNKNOWN}(I.status);c(new K(y,I.message))}else c(new K(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new K(U.UNAVAILABLE,"Connection failed."));break;default:te(9055,{h_:e,streamId:o,P_:u.getLastErrorCode(),T_:u.getLastError()})}}finally{W(pt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);W(pt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",d,r,15)})}I_(e,n,r){const i=fm(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=TC(),a=EC(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=s.join("");W(pt,`Creating RPC '${e}' stream ${i}: ${d}`,c);const f=o.createWebChannel(d,c);this.E_(f);let p=!1,w=!1;const I=new UF({Zo:T=>{w?W(pt,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(p||(W(pt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),W(pt,`RPC '${e}' stream ${i} sending:`,T),f.send(T))},Xo:()=>f.close()}),y=(T,v,_)=>{T.listen(v,C=>{try{_(C)}catch(k){setTimeout(()=>{throw k},0)}})};return y(f,Ia.EventType.OPEN,()=>{w||(W(pt,`RPC '${e}' stream ${i} transport opened.`),I.__())}),y(f,Ia.EventType.CLOSE,()=>{w||(w=!0,W(pt,`RPC '${e}' stream ${i} transport closed`),I.u_(),this.d_(f))}),y(f,Ia.EventType.ERROR,T=>{w||(w=!0,Co(pt,`RPC '${e}' stream ${i} transport errored. Name:`,T.name,"Message:",T.message),I.u_(new K(U.UNAVAILABLE,"The operation could not be completed")))}),y(f,Ia.EventType.MESSAGE,T=>{var v;if(!w){const _=T.data[0];ve(!!_,16349);const C=_,k=(C==null?void 0:C.error)||((v=C[0])===null||v===void 0?void 0:v.error);if(k){W(pt,`RPC '${e}' stream ${i} received error:`,k);const O=k.status;let V=function(R){const P=$e[R];if(P!==void 0)return iS(P)}(O),A=k.message;V===void 0&&(V=U.INTERNAL,A="Unknown error status: "+O+" with message "+k.message),w=!0,I.u_(new K(V,A)),f.close()}else W(pt,`RPC '${e}' stream ${i} received:`,_),I.c_(_)}}),y(a,wC.STAT_EVENT,T=>{T.stat===em.PROXY?W(pt,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===em.NOPROXY&&W(pt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.a_()},0),I}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Of(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(t){return new qj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,n,r=1e3,i=1.5,s=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=i,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="PersistentStream";class _S{constructor(e,n,r,i,s,o,a,c){this.xi=e,this.S_=r,this.D_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new vS(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(mr(n.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===n&&this.z_(r,i)},r=>{e(()=>{const i=new K(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return W($w,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(W($w,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zF extends _S{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=Gj(this.serializer,e),r=function(s){if(!("targetChange"in s))return ne.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ne.min():o.readTime?Hn(o.readTime):ne.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=dm(this.serializer),n.addTarget=function(s,o){let a;const c=o.target;if(a=sm(c)?{documents:Xj(s,c)}:{query:Jj(s,c).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=aS(s,o.resumeToken);const u=lm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ne.min())>0){a.readTime=hd(s,o.snapshotVersion.toTimestamp());const u=lm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=eF(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=dm(this.serializer),n.removeTarget=e,this.Q_(n)}}class BF extends _S{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=Yj(e.writeResults,e.commitTime),r=Hn(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=dm(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Qj(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{}class qF extends HF{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new K(U.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.zo(e,cm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(U.UNKNOWN,s.toString())})}Yo(e,n,r,i,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,cm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(U.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class WF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(mr(n),this.ua=!1):W("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="RemoteStore";class KF{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(o=>{r.enqueueAndForget(async()=>{ps(this)&&(W(is,"Restarting streams for network reachability change."),await async function(c){const u=re(c);u.da.add(4),await Bl(u),u.Va.set("Unknown"),u.da.delete(4),await uh(u)}(this))})}),this.Va=new WF(r,i)}}async function uh(t){if(ps(t))for(const e of t.Aa)await e(!0)}async function Bl(t){for(const e of t.Aa)await e(!1)}function wS(t,e){const n=re(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),uy(n)?cy(n):Ko(n).N_()&&ly(n,e))}function ay(t,e){const n=re(t),r=Ko(n);n.Ea.delete(e),r.N_()&&ES(n,e),n.Ea.size===0&&(r.N_()?r.k_():ps(n)&&n.Va.set("Unknown"))}function ly(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ko(t).Z_(e)}function ES(t,e){t.ma.Ke(e),Ko(t).X_(e)}function cy(t){t.ma=new $j({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Ko(t).start(),t.Va.ca()}function uy(t){return ps(t)&&!Ko(t).O_()&&t.Ea.size>0}function ps(t){return re(t).da.size===0}function TS(t){t.ma=void 0}async function GF(t){t.Va.set("Online")}async function QF(t){t.Ea.forEach((e,n)=>{ly(t,e)})}async function YF(t,e){TS(t),uy(t)?(t.Va.Pa(e),cy(t)):t.Va.set("Unknown")}async function XF(t,e,n){if(t.Va.set("Online"),e instanceof oS&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ea.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ea.delete(a),i.ma.removeTarget(a))}(t,e)}catch(r){W(is,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await pd(t,r)}else if(e instanceof fu?t.ma.Xe(e):e instanceof sS?t.ma.ot(e):t.ma.nt(e),!n.isEqual(ne.min()))try{const r=await yS(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.ma.It(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=s.Ea.get(u);d&&s.Ea.set(u,d.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const d=s.Ea.get(c);if(!d)return;s.Ea.set(c,d.withResumeToken(at.EMPTY_BYTE_STRING,d.snapshotVersion)),ES(s,c);const f=new Qr(d.target,c,u,d.sequenceNumber);ly(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){W(is,"Failed to raise snapshot:",r),await pd(t,r)}}async function pd(t,e,n){if(!qo(e))throw e;t.da.add(1),await Bl(t),t.Va.set("Offline"),n||(n=()=>yS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W(is,"Retrying IndexedDB access"),await n(),t.da.delete(1),await uh(t)})}function xS(t,e){return e().catch(n=>pd(t,n,e))}async function dh(t){const e=re(t),n=wi(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Kg;for(;JF(e);)try{const i=await DF(e.localStore,r);if(i===null){e.Ia.length===0&&n.k_();break}r=i.batchId,ZF(e,i)}catch(i){await pd(e,i)}IS(e)&&CS(e)}function JF(t){return ps(t)&&t.Ia.length<10}function ZF(t,e){t.Ia.push(e);const n=wi(t);n.N_()&&n.ea&&n.ta(e.mutations)}function IS(t){return ps(t)&&!wi(t).O_()&&t.Ia.length>0}function CS(t){wi(t).start()}async function e3(t){wi(t).ia()}async function t3(t){const e=wi(t);for(const n of t.Ia)e.ta(n.mutations)}async function n3(t,e,n){const r=t.Ia.shift(),i=ey.from(r,e,n);await xS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await dh(t)}async function r3(t,e){e&&wi(t).ea&&await async function(r,i){if(function(o){return Fj(o)&&o!==U.ABORTED}(i.code)){const s=r.Ia.shift();wi(r).L_(),await xS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await dh(r)}}(t,e),IS(t)&&CS(t)}async function zw(t,e){const n=re(t);n.asyncQueue.verifyOperationInProgress(),W(is,"RemoteStore received new credentials");const r=ps(n);n.da.add(3),await Bl(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await uh(n)}async function i3(t,e){const n=re(t);e?(n.da.delete(2),await uh(n)):e||(n.da.add(2),await Bl(n),n.Va.set("Unknown"))}function Ko(t){return t.fa||(t.fa=function(n,r,i){const s=re(n);return s.oa(),new zF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:GF.bind(null,t),n_:QF.bind(null,t),i_:YF.bind(null,t),Y_:XF.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),uy(t)?cy(t):t.Va.set("Unknown")):(await t.fa.stop(),TS(t))})),t.fa}function wi(t){return t.ga||(t.ga=function(n,r,i){const s=re(n);return s.oa(),new BF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:e3.bind(null,t),i_:r3.bind(null,t),na:t3.bind(null,t),ra:n3.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await dh(t)):(await t.ga.stop(),t.Ia.length>0&&(W(is,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new dy(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hy(t,e){if(mr("AsyncQueue",`${e}: ${t}`),qo(t))return new K(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{static emptySet(e){return new eo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=Ca(),this.sortedSet=new Oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new eo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.pa=new Oe(J.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):te(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class bo{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new bo(e,n,eo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class o3{constructor(){this.queries=Hw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=re(n),s=i.queries;i.queries=Hw(),s.forEach((o,a)=>{for(const c of a.Sa)c.onError(r)})})(this,new K(U.ABORTED,"Firestore shutting down"))}}function Hw(){return new fs(t=>qC(t),ih)}async function SS(t,e){const n=re(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Da()&&e.va()&&(r=2):(s=new s3,r=e.va()?0:1);try{switch(r){case 0:s.ba=await n.onListen(i,!0);break;case 1:s.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=hy(o,`Initialization of query '${As(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.Fa(n.onlineState),s.ba&&e.Ma(s.ba)&&fy(n)}async function AS(t,e){const n=re(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.va()?0:1:!s.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function a3(t,e){const n=re(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Ma(i)&&(r=!0);o.ba=i}}r&&fy(n)}function l3(t,e,n){const r=re(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function fy(t){t.Ca.forEach(e=>{e.next()})}var pm,qw;(qw=pm||(pm={})).xa="default",qw.Cache="cache";class RS{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new bo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==pm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.key=e}}class bS{constructor(e){this.key=e}}class c3{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ue(),this.mutatedKeys=ue(),this.Za=WC(e),this.Xa=new eo(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new Bw,i=n?n.Xa:this.Xa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const p=i.get(d),w=sh(this.query,f)?f:null,I=!!p&&this.mutatedKeys.has(p.key),y=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let T=!1;p&&w?p.data.isEqual(w.data)?I!==y&&(r.track({type:3,doc:w}),T=!0):this.ru(p,w)||(r.track({type:2,doc:w}),T=!0,(c&&this.Za(w,c)>0||u&&this.Za(w,u)<0)&&(a=!0)):!p&&w?(r.track({type:0,doc:w}),T=!0):p&&!w&&(r.track({type:1,doc:p}),T=!0,(c||u)&&(a=!0)),T&&(w?(o=o.add(w),s=y?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Xa:o,nu:r,Cs:a,mutatedKeys:s}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((d,f)=>function(w,I){const y=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te(20277,{Vt:T})}};return y(w)-y(I)}(d.type,f.type)||this.Za(d.doc,f.doc)),this.iu(r),i=i!=null&&i;const a=n&&!i?this.su():[],c=this.Ya.size===0&&this.current&&!i?1:0,u=c!==this.Ja;return this.Ja=c,o.length!==0||u?{snapshot:new bo(this.query,e.Xa,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Bw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=ue(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new bS(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new PS(r))}),n}au(e){this.Ha=e.$s,this.Ya=ue();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return bo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const py="SyncEngine";class u3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class d3{constructor(e){this.key=e,this.cu=!1}}class h3{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new fs(a=>qC(a),ih),this.Pu=new Map,this.Tu=new Set,this.Iu=new Oe(J.comparator),this.Eu=new Map,this.du=new ry,this.Au={},this.Ru=new Map,this.Vu=Po.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function f3(t,e,n=!0){const r=LS(t);let i;const s=r.hu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.uu()):i=await kS(r,e,n,!0),i}async function p3(t,e){const n=LS(t);await kS(n,e,!0,!1)}async function kS(t,e,n,r){const i=await OF(t.localStore,zn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await m3(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&wS(t.remoteStore,i),a}async function m3(t,e,n,r,i){t.fu=(f,p,w)=>async function(y,T,v,_){let C=T.view.tu(v);C.Cs&&(C=await Vw(y.localStore,T.query,!1).then(({documents:A})=>T.view.tu(A,C)));const k=_&&_.targetChanges.get(T.targetId),O=_&&_.targetMismatches.get(T.targetId)!=null,V=T.view.applyChanges(C,y.isPrimaryClient,k,O);return Kw(y,T.targetId,V.ou),V.snapshot}(t,f,p,w);const s=await Vw(t.localStore,e,!0),o=new c3(e,s.$s),a=o.tu(s.documents),c=zl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);Kw(t,n,u.ou);const d=new u3(e,n,o);return t.hu.set(e,d),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),u.snapshot}async function g3(t,e,n){const r=re(t),i=r.hu.get(e),s=r.Pu.get(i.targetId);if(s.length>1)return r.Pu.set(i.targetId,s.filter(o=>!ih(o,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await hm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ay(r.remoteStore,i.targetId),mm(r,i.targetId)}).catch(Ho)):(mm(r,i.targetId),await hm(r.localStore,i.targetId,!0))}async function y3(t,e){const n=re(t),r=n.hu.get(e),i=n.Pu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ay(n.remoteStore,r.targetId))}async function v3(t,e,n){const r=C3(t);try{const i=await function(o,a){const c=re(o),u=Ke.now(),d=a.reduce((w,I)=>w.add(I.key),ue());let f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",w=>{let I=gr(),y=ue();return c.Bs.getEntries(w,d).next(T=>{I=T,I.forEach((v,_)=>{_.isValidDocument()||(y=y.add(v))})}).next(()=>c.localDocuments.getOverlayedDocuments(w,I)).next(T=>{f=T;const v=[];for(const _ of a){const C=Oj(_,f.get(_.key).overlayedDocument);C!=null&&v.push(new Ai(_.key,C,VC(C.value.mapValue),Bn.exists(!0)))}return c.mutationQueue.addMutationBatch(w,u,v,a)}).next(T=>{p=T;const v=T.applyToLocalDocumentSet(f,y);return c.documentOverlayCache.saveOverlays(w,T.batchId,v)})}).then(()=>({batchId:p.batchId,changes:GC(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Au[o.currentUser.toKey()];u||(u=new Oe(ae)),u=u.insert(a,c),o.Au[o.currentUser.toKey()]=u}(r,i.batchId,n),await Hl(r,i.changes),await dh(r.remoteStore)}catch(i){const s=hy(i,"Failed to persist write");n.reject(s)}}async function NS(t,e){const n=re(t);try{const r=await kF(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Eu.get(s);o&&(ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.cu=!0:i.modifiedDocuments.size>0?ve(o.cu,14607):i.removedDocuments.size>0&&(ve(o.cu,42227),o.cu=!1))}),await Hl(n,r,e)}catch(r){await Ho(r)}}function Ww(t,e,n){const r=re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.hu.forEach((s,o)=>{const a=o.view.Fa(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=re(o);c.onlineState=a;let u=!1;c.queries.forEach((d,f)=>{for(const p of f.Sa)p.Fa(a)&&(u=!0)}),u&&fy(c)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _3(t,e,n){const r=re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let o=new Oe(J.comparator);o=o.insert(s,vt.newNoDocument(s,ne.min()));const a=ue().add(s),c=new lh(ne.min(),new Map,new Oe(ae),o,a);await NS(r,c),r.Iu=r.Iu.remove(s),r.Eu.delete(e),my(r)}else await hm(r.localStore,e,!1).then(()=>mm(r,e,n)).catch(Ho)}async function w3(t,e){const n=re(t),r=e.batch.batchId;try{const i=await bF(n.localStore,e);OS(n,r,null),DS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hl(n,i)}catch(i){await Ho(i)}}async function E3(t,e,n){const r=re(t);try{const i=await function(o,a){const c=re(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(ve(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);OS(r,e,n),DS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hl(r,i)}catch(i){await Ho(i)}}function DS(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function OS(t,e,n){const r=re(t);let i=r.Au[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function mm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||MS(t,r)})}function MS(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(ay(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),my(t))}function Kw(t,e,n){for(const r of n)r instanceof PS?(t.du.addReference(r.key,e),T3(t,r)):r instanceof bS?(W(py,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||MS(t,r.key)):te(19791,{pu:r})}function T3(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(W(py,"New document in limbo: "+n),t.Tu.add(r),my(t))}function my(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new J(Ae.fromString(e)),r=t.Vu.next();t.Eu.set(r,new d3(n)),t.Iu=t.Iu.insert(n,r),wS(t.remoteStore,new Qr(zn(Jg(n.path)),r,"TargetPurposeLimboResolution",th.le))}}async function Hl(t,e,n){const r=re(t),i=[],s=[],o=[];r.hu.isEmpty()||(r.hu.forEach((a,c)=>{o.push(r.fu(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);const f=sy.Rs(c.targetId,u);s.push(f)}}))}),await Promise.all(o),r.lu.Y_(i),await async function(c,u){const d=re(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$.forEach(u,p=>$.forEach(p.ds,w=>d.persistence.referenceDelegate.addReference(f,p.targetId,w)).next(()=>$.forEach(p.As,w=>d.persistence.referenceDelegate.removeReference(f,p.targetId,w)))))}catch(f){if(!qo(f))throw f;W(oy,"Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const w=d.xs.get(p),I=w.snapshotVersion,y=w.withLastLimboFreeSnapshotVersion(I);d.xs=d.xs.insert(p,y)}}}(r.localStore,s))}async function x3(t,e){const n=re(t);if(!n.currentUser.isEqual(e)){W(py,"User change. New user:",e.toKey());const r=await gS(n.localStore,e);n.currentUser=e,function(s,o){s.Ru.forEach(a=>{a.forEach(c=>{c.reject(new K(U.CANCELLED,o))})}),s.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hl(n,r.ks)}}function I3(t,e){const n=re(t),r=n.Eu.get(e);if(r&&r.cu)return ue().add(r.key);{let i=ue();const s=n.Pu.get(e);if(!s)return i;for(const o of s){const a=n.hu.get(o);i=i.unionWith(a.view.eu)}return i}}function LS(t){const e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=NS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=I3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_3.bind(null,e),e.lu.Y_=a3.bind(null,e.eventManager),e.lu.gu=l3.bind(null,e.eventManager),e}function C3(t){const e=re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=w3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=E3.bind(null,e),e}class md{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ch(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return PF(this.persistence,new SF,e.initialUser,this.serializer)}Su(e){return new mS(iy.fi,this.serializer)}bu(e){return new LF}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}md.provider={build:()=>new md};class S3 extends md{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){ve(this.persistence.referenceDelegate instanceof fd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new dF(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Dt.withCacheSize(this.cacheSizeBytes):Dt.DEFAULT;return new mS(r=>fd.fi(r,n),this.serializer)}}class gm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ww(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=x3.bind(null,this.syncEngine),await i3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new o3}()}createDatastore(e){const n=ch(e.databaseInfo.databaseId),r=function(s){return new $F(s)}(e.databaseInfo);return function(s,o,a,c){return new qF(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new KF(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Ww(this.syncEngine,n,0),function(){return Uw.C()?new Uw:new VF}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,d){const f=new h3(i,s,o,a,c,u);return d&&(f.mu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=re(i);W(is,"RemoteStore shutting down."),s.da.add(5),await Bl(s),s.Ra.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}gm.provider={build:()=>new gm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):mr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei="FirestoreClient";class A3{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=gt.UNAUTHENTICATED,this.clientId=SC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{W(Ei,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(W(Ei,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=hy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Mf(t,e){t.asyncQueue.verifyOperationInProgress(),W(Ei,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await gS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Gw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await R3(t);W(Ei,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>zw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>zw(e.remoteStore,i)),t._onlineComponents=e}async function R3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W(Ei,"Using user provided OfflineComponentProvider");try{await Mf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Co("Error using user provided cache. Falling back to memory cache: "+n),await Mf(t,new md)}}else W(Ei,"Using default OfflineComponentProvider"),await Mf(t,new S3(void 0));return t._offlineComponents}async function jS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W(Ei,"Using user provided OnlineComponentProvider"),await Gw(t,t._uninitializedComponentsProvider._online)):(W(Ei,"Using default OnlineComponentProvider"),await Gw(t,new gm))),t._onlineComponents}function P3(t){return jS(t).then(e=>e.syncEngine)}async function FS(t){const e=await jS(t),n=e.eventManager;return n.onListen=f3.bind(null,e.syncEngine),n.onUnlisten=g3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=p3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=y3.bind(null,e.syncEngine),n}function b3(t,e,n={}){const r=new or;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,c,u){const d=new VS({next:p=>{d.xu(),o.enqueueAndForget(()=>AS(s,f));const w=p.docs.has(a);!w&&p.fromCache?u.reject(new K(U.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&p.fromCache&&c&&c.source==="server"?u.reject(new K(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new RS(Jg(a.path),d,{includeMetadataChanges:!0,Qa:!0});return SS(s,f)}(await FS(t),t.asyncQueue,e,n,r)),r.promise}function k3(t,e,n={}){const r=new or;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,c,u){const d=new VS({next:p=>{d.xu(),o.enqueueAndForget(()=>AS(s,f)),p.fromCache&&c.source==="server"?u.reject(new K(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new RS(a,d,{includeMetadataChanges:!0,Qa:!0});return SS(s,f)}(await FS(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(t,e,n){if(!n)throw new K(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function N3(t,e,n,r){if(e===!0&&r===!0)throw new K(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Yw(t){if(!J.isDocumentKey(t))throw new K(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Xw(t){if(J.isDocumentKey(t))throw new K(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function hh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":te(12329,{type:typeof t})}function yr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hh(t);throw new K(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="firestore.googleapis.com",Jw=!0;class Zw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zS,this.ssl=Jw}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Jw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cF)throw new K(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}N3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=US((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new K(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new K(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new K(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new U4;switch(r.type){case"firstParty":return new H4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Qw.get(n);r&&(W("ComponentProvider","Removing Datastore"),Qw.delete(n),r.terminate())}(this),Promise.resolve()}}function D3(t,e,n,r={}){var i;t=yr(t,fh);const s=Fo(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;s&&(bI(`https://${c}`),kI("Firestore",!0)),o.host!==zS&&o.host!==c&&Co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:c,ssl:s,emulatorOptions:r});if(!es(u,a)&&(t._setSettings(u),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=gt.MOCK_USER;else{d=XO(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new K(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new gt(p)}t._authCredentials=new $4(new IC(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ms(this.firestore,e,this._query)}}class Pt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}}class ci extends ms{constructor(e,n,r){super(e,n,Jg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new J(e))}withConverter(e){return new ci(this.firestore,e,this._path)}}function gy(t,e,...n){if(t=ot(t),$S("collection","path",e),t instanceof fh){const r=Ae.fromString(e,...n);return Xw(r),new ci(t,null,r)}{if(!(t instanceof Pt||t instanceof ci))throw new K(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ae.fromString(e,...n));return Xw(r),new ci(t.firestore,null,r)}}function ss(t,e,...n){if(t=ot(t),arguments.length===1&&(e=SC.newId()),$S("doc","path",e),t instanceof fh){const r=Ae.fromString(e,...n);return Yw(r),new Pt(t,null,new J(r))}{if(!(t instanceof Pt||t instanceof ci))throw new K(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ae.fromString(e,...n));return Yw(r),new Pt(t.firestore,t instanceof ci?t.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="AsyncQueue";class tE{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new vS(this,"async_queue_retry"),this.rc=()=>{const r=Of();r&&W(eE,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=Of();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Of();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new or;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!qo(e))throw e;W(eE,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,mr("INTERNAL UNHANDLED ERROR: ",nE(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const i=dy.createAndSchedule(this,e,n,r,s=>this.uc(s));return this.Zu.push(i),i}oc(){this.Xu&&te(47125,{cc:nE(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function nE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ql extends fh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new tE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tE(e),this._firestoreClient=void 0,await e}}}function O3(t,e){const n=typeof t=="object"?t:MI(),r=typeof t=="string"?t:ld,i=Vg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=QO("firestore");s&&D3(i,...s)}return i}function yy(t){if(t._terminated)throw new K(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||M3(t),t._firestoreClient}function M3(t){var e,n,r;const i=t._freezeSettings(),s=function(a,c,u,d){return new sj(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,US(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new A3(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ko(at.fromBase64String(e))}catch(n){throw new K(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ko(at.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3=/^__.*__$/;class V3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ai(e,this.data,this.fieldMask,n,this.fieldTransforms):new $l(e,this.data,n,this.fieldTransforms)}}class BS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ai(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function HS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te(40011,{Ic:t})}}class wy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new wy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return gd(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(HS(this.Ic)&&L3.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class j3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ch(e)}bc(e,n,r,i=!1){return new wy({Ic:e,methodName:n,wc:r,path:rt.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ey(t){const e=t._freezeSettings(),n=ch(t._databaseId);return new j3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function F3(t,e,n,r,i,s={}){const o=t.bc(s.merge||s.mergeFields?2:0,e,n,i);xy("Data must be an object, but it was:",o,r);const a=qS(r,o);let c,u;if(s.merge)c=new Wt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const p=ym(e,f,n);if(!o.contains(p))throw new K(U.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);KS(d,p)||d.push(p)}c=new Wt(d),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new V3(new Mt(a),c,u)}class gh extends mh{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gh}}class Ty extends mh{_toFieldTransform(e){return new bj(e.path,new El)}isEqual(e){return e instanceof Ty}}function U3(t,e,n,r){const i=t.bc(1,e,n);xy("Data must be an object, but it was:",i,r);const s=[],o=Mt.empty();Si(r,(c,u)=>{const d=Iy(e,c,n);u=ot(u);const f=i.mc(d);if(u instanceof gh)s.push(d);else{const p=Wl(u,f);p!=null&&(s.push(d),o.set(d,p))}});const a=new Wt(s);return new BS(o,a,i.fieldTransforms)}function $3(t,e,n,r,i,s){const o=t.bc(1,e,n),a=[ym(e,r,n)],c=[i];if(s.length%2!=0)throw new K(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(ym(e,s[p])),c.push(s[p+1]);const u=[],d=Mt.empty();for(let p=a.length-1;p>=0;--p)if(!KS(u,a[p])){const w=a[p];let I=c[p];I=ot(I);const y=o.mc(w);if(I instanceof gh)u.push(w);else{const T=Wl(I,y);T!=null&&(u.push(w),d.set(w,T))}}const f=new Wt(u);return new BS(d,f,o.fieldTransforms)}function z3(t,e,n,r=!1){return Wl(n,t.bc(r?4:3,e))}function Wl(t,e){if(WS(t=ot(t)))return xy("Unsupported field value:",e,t),qS(t,e);if(t instanceof mh)return function(r,i){if(!HS(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=Wl(a,i.fc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Aj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ke.fromDate(r);return{timestampValue:hd(i.serializer,s)}}if(r instanceof Ke){const s=new Ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hd(i.serializer,s)}}if(r instanceof vy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ko)return{bytesValue:aS(i.serializer,r._byteString)};if(r instanceof Pt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ny(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof _y)return function(o,a){return{mapValue:{fields:{[OC]:{stringValue:LC},[cd]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.gc("VectorValues must only contain numeric values.");return Zg(a.serializer,u)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${hh(r)}`)}(t,e)}function qS(t,e){const n={};return RC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Si(t,(r,i)=>{const s=Wl(i,e.Ac(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function WS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ke||t instanceof vy||t instanceof ko||t instanceof Pt||t instanceof mh||t instanceof _y)}function xy(t,e,n){if(!WS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=hh(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function ym(t,e,n){if((e=ot(e))instanceof ph)return e._internalPath;if(typeof e=="string")return Iy(t,e);throw gd("Field path arguments must be of type string or ",t,!1,void 0,n)}const B3=new RegExp("[~\\*/\\[\\]]");function Iy(t,e,n){if(e.search(B3)>=0)throw gd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ph(...e.split("."))._internalPath}catch{throw gd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new K(U.INVALID_ARGUMENT,a+t+c)}function KS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new H3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class H3 extends GS{data(){return super.data()}}function yh(t,e){return typeof e=="string"?Iy(t,e):e instanceof ph?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cy{}class QS extends Cy{}function os(t,e,...n){let r=[];e instanceof Cy&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof Sy).length,a=s.filter(c=>c instanceof vh).length;if(o>1||o>0&&a>0)throw new K(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class vh extends QS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new vh(e,n,r)}_apply(e){const n=this._parse(e);return YS(e._query,n),new ms(e.firestore,e.converter,om(e._query,n))}_parse(e){const n=Ey(e.firestore);return function(s,o,a,c,u,d,f){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new K(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){iE(f,d);const I=[];for(const y of f)I.push(rE(c,s,y));p={arrayValue:{values:I}}}else p=rE(c,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||iE(f,d),p=z3(a,o,f,d==="in"||d==="not-in");return Be.create(u,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Il(t,e,n){const r=e,i=yh("where",t);return vh._create(i,r,n)}class Sy extends Cy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Sy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:An.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const c of a)YS(o,c),o=om(o,c)}(e._query,n),new ms(e.firestore,e.converter,om(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ay extends QS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ay(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new K(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new K(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wl(s,o)}(e._query,this._field,this._direction);return new ms(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Wo(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function _h(t,e="asc"){const n=e,r=yh("orderBy",t);return Ay._create(r,n)}function rE(t,e,n){if(typeof(n=ot(n))=="string"){if(n==="")throw new K(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HC(e)&&n.indexOf("/")!==-1)throw new K(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ae.fromString(n));if(!J.isDocumentKey(r))throw new K(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vw(t,new J(r))}if(n instanceof Pt)return vw(t,n._key);throw new K(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hh(n)}.`)}function iE(t,e){if(!Array.isArray(t)||t.length===0)throw new K(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YS(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class W3{convertValue(e,n="none"){switch(_i(e)){case 0:return null;case 1:return e.booleanValue;case 2:return je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Si(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[cd].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>je(o.doubleValue));return new _y(s)}convertGeoPoint(e){return new vy(je(e.latitude),je(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=rh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yl(e));default:return null}}convertTimestamp(e){const n=yi(e);return new Ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ae.fromString(e);ve(fS(r),9688,{name:e});const i=new vl(r.get(1),r.get(3)),s=new J(r.popFirst(5));return i.isEqual(n)||mr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class XS extends GS{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new pu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(yh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class pu extends XS{data(e={}){return super.data(e)}}class G3{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Aa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new pu(this._firestore,this._userDataWriter,r.key,r,new Aa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const c=new pu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Aa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const c=new pu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Aa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:Q3(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Q3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(t){t=yr(t,Pt);const e=yr(t.firestore,ql);return b3(yy(e),t._key).then(n=>Y3(e,t,n))}class JS extends W3{constructor(e){super(),this.firestore=e}convertBytes(e){return new ko(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,n)}}function vr(t){t=yr(t,ms);const e=yr(t.firestore,ql),n=yy(e),r=new JS(e);return q3(t._query),k3(n,t._query).then(i=>new G3(e,r,t,i))}function Ry(t,e,n){t=yr(t,Pt);const r=yr(t.firestore,ql),i=K3(t.converter,e);return eA(r,[F3(Ey(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Bn.none())])}function ZS(t,e,n,...r){t=yr(t,Pt);const i=yr(t.firestore,ql),s=Ey(i);let o;return o=typeof(e=ot(e))=="string"||e instanceof ph?$3(s,"updateDoc",t._key,e,n,r):U3(s,"updateDoc",t._key,e),eA(i,[o.toMutation(t._key,Bn.exists(!0))])}function eA(t,e){return function(r,i){const s=new or;return r.asyncQueue.enqueueAndForget(async()=>v3(await P3(r),i,s)),s.promise}(yy(t),e)}function Y3(t,e,n){const r=n.docs.get(e._key),i=new JS(t);return new XS(t,i,e._key,r,new Aa(n.hasPendingWrites,n.fromCache),e.converter)}function Py(){return new Ty("serverTimestamp")}(function(e,n=!0){(function(i){Bo=i})(Uo),xo(new ts("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ql(new z4(r.getProvider("auth-internal")),new q4(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new K(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vl(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),oi(ow,aw,e),oi(ow,aw,"esm2017")})();const X3={apiKey:void 0,authDomain:"undefined.firebaseapp.com",projectId:void 0,storageBucket:"undefined.firebasestorage.app",appId:void 0},tA=OI(X3),nA=j4(tA),by=O3(tA),to=gy(by,"clientes"),yd=gy(by,"compras"),No=gy(by,"cupons"),J3=async(t,e)=>await IV(nA,t,e),Z3=async()=>await AV(nA),e6=async t=>{const e=ss(to,t.cpf);return await Ry(e,{...t,ultimaCompra:Py()}),{id:t.cpf,...t}},rA=async t=>{var e,n,r,i,s,o,a,c,u;try{const d=t.replace(/\D/g,"");console.log("CPF digitado:",t),console.log("CPF formatado:",d);const f=ss(to,t),p=await sE(f);if(p.exists()){const y=p.data(),T={id:p.id,...y,ultimaCompra:((r=(n=(e=y.ultimaCompra)==null?void 0:e.toDate)==null?void 0:n.call(e))==null?void 0:r.toISOString())||y.ultimaCompra};return console.log("Cliente encontrado (doc lookup):",T),T}const w=os(to,Il("cpf","==",t)),I=await vr(w);if(!I.empty){const y=I.docs[0],T=y.data(),v={id:y.id,...T,ultimaCompra:((o=(s=(i=T.ultimaCompra)==null?void 0:i.toDate)==null?void 0:s.call(i))==null?void 0:o.toISOString())||T.ultimaCompra};return console.log("Cliente encontrado (query):",v),v}if(d.length===11&&!t.includes(".")){const y=d.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),T=ss(to,y),v=await sE(T);if(v.exists()){const _=v.data(),C={id:v.id,..._,ultimaCompra:((u=(c=(a=_.ultimaCompra)==null?void 0:a.toDate)==null?void 0:c.call(a))==null?void 0:u.toISOString())||_.ultimaCompra};return console.log("Cliente encontrado (formatado):",C),C}}return console.log("Cliente não encontrado"),null}catch(d){throw console.error("Erro ao consultar cliente:",d),d}},iA=async()=>(await vr(to)).docs.map(e=>{var n,r,i;return{id:e.id,...e.data(),ultimaCompra:((i=(r=(n=e.data().ultimaCompra)==null?void 0:n.toDate)==null?void 0:r.call(n))==null?void 0:i.toISOString())||e.data().ultimaCompra}}),t6=async t=>t.trim()?(await iA()).filter(n=>{var r;return(r=n.nome)==null?void 0:r.toLowerCase().includes(t.toLowerCase())}).slice(0,10):[],vm=async(t,e)=>{const n=ss(to,t);await ZS(n,{...e,ultimaCompra:Py()})},n6=async t=>{const e=ss(yd);await Ry(e,{...t,data:Py()});const n=await rA(t.cpfCliente);if(n){const r=n.carimbosAtuais+t.carimbosGerados;if(r>=10)return await i6(t.cpfCliente),await vm(t.cpfCliente,{carimbosAtuais:0}),{id:e.id,...t,couponGenerated:!0};await vm(t.cpfCliente,{carimbosAtuais:r})}return{id:e.id,...t}},sA=async t=>{try{const e=os(yd,Il("cpfCliente","==",t),_h("data","desc"));return(await vr(e)).docs.map(r=>{var i,s,o;return{id:r.id,...r.data(),data:((o=(s=(i=r.data().data)==null?void 0:i.toDate)==null?void 0:s.call(i))==null?void 0:o.toISOString())||r.data().data}})}catch(e){console.error("Erro ao buscar compras do cliente:",e);const n=os(yd,Il("cpfCliente","==",t));return(await vr(n)).docs.map(s=>{var o,a,c;return{id:s.id,...s.data(),data:((c=(a=(o=s.data().data)==null?void 0:o.toDate)==null?void 0:a.call(o))==null?void 0:c.toISOString())||s.data().data}}).sort((s,o)=>new Date(o.data).getTime()-new Date(s.data).getTime())}},r6=async()=>{const t=os(yd,_h("data","desc"));return(await vr(t)).docs.map(n=>{var r,i,s;return{id:n.id,...n.data(),data:((s=(i=(r=n.data().data)==null?void 0:r.toDate)==null?void 0:i.call(r))==null?void 0:s.toISOString())||n.data().data}})},i6=async t=>{const e=new Date;e.setDate(e.getDate()+30);const n={clienteCpf:t,valorDesconto:.15,usado:!1,criadoEm:new Date().toISOString(),validoAte:e.toISOString()},r=ss(No);return await Ry(r,n),{id:r.id,...n}},oA=async t=>{try{const e=os(No,Il("clienteCpf","==",t),_h("criadoEm","desc"));return(await vr(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){console.error("Erro ao buscar cupons:",e);const n=os(No,Il("clienteCpf","==",t));return(await vr(n)).docs.map(s=>({id:s.id,...s.data()})).sort((s,o)=>new Date(o.criadoEm).getTime()-new Date(s.criadoEm).getTime())}},s6=async()=>{try{const t=os(No,_h("criadoEm","desc"));return(await vr(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){return console.error("Erro ao buscar todos os cupons:",t),(await vr(No)).docs.map(r=>({id:r.id,...r.data()})).sort((r,i)=>new Date(i.criadoEm).getTime()-new Date(r.criadoEm).getTime())}},o6=async t=>{const e=ss(No,t);await ZS(e,{usado:!0})},oE=t=>Math.floor(t/150),_m=t=>t.replace(/\D/g,"").length===11;function a6({onLoginSuccess:t}){const[e,n]=E.useState(""),[r,i]=E.useState(""),[s,o]=E.useState(!1),{toast:a}=Dl(),c=async u=>{u.preventDefault(),o(!0);try{await J3(e,r),a({title:"Login realizado com sucesso!",description:"Bem-vindo ao painel administrativo."}),t()}catch(d){a({title:"Erro no login",description:d.message||"Credenciais inválidas.",variant:"destructive"})}finally{o(!1)}};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:m.jsxs(nt,{className:"w-full max-w-md",children:[m.jsxs(En,{className:"text-center",children:[m.jsx(_2,{className:"h-12 w-12 mx-auto text-gold-500 mb-4"}),m.jsx(Tn,{className:"text-2xl font-bold text-gray-900",children:"Painel Administrativo"}),m.jsx("p",{className:"text-gray-600",children:"Acesso restrito para funcionários"})]}),m.jsx(At,{children:m.jsxs("form",{onSubmit:c,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(Gr,{htmlFor:"email",children:"Email"}),m.jsx(Vt,{id:"email",type:"email",value:e,onChange:u=>n(u.target.value),placeholder:"admin@sixdryaged.com",required:!0})]}),m.jsxs("div",{children:[m.jsx(Gr,{htmlFor:"password",children:"Senha"}),m.jsx(Vt,{id:"password",type:"password",value:r,onChange:u=>i(u.target.value),placeholder:"••••••••",required:!0})]}),m.jsx(tt,{type:"submit",className:"w-full bg-gold-500 hover:bg-gold-600 text-white font-semibold",disabled:s,children:s?"Entrando...":"Entrar"})]})})]})})}var l6=E.createContext(void 0);function aA(t){const e=E.useContext(l6);return t||e||"ltr"}var Lf="rovingFocusGroup.onEntryFocus",c6={bubbles:!1,cancelable:!0},wh="RovingFocusGroup",[wm,lA,u6]=ax(wh),[d6,cA]=us(wh,[u6]),[h6,f6]=d6(wh),uA=E.forwardRef((t,e)=>m.jsx(wm.Provider,{scope:t.__scopeRovingFocusGroup,children:m.jsx(wm.Slot,{scope:t.__scopeRovingFocusGroup,children:m.jsx(p6,{...t,ref:e})})}));uA.displayName=wh;var p6=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,p=E.useRef(null),w=wt(e,p),I=aA(s),[y=null,T]=Ud({prop:o,defaultProp:a,onChange:c}),[v,_]=E.useState(!1),C=Yt(u),k=lA(n),O=E.useRef(!1),[V,A]=E.useState(0);return E.useEffect(()=>{const x=p.current;if(x)return x.addEventListener(Lf,C),()=>x.removeEventListener(Lf,C)},[C]),m.jsx(h6,{scope:n,orientation:r,dir:I,loop:i,currentTabStopId:y,onItemFocus:E.useCallback(x=>T(x),[T]),onItemShiftTab:E.useCallback(()=>_(!0),[]),onFocusableItemAdd:E.useCallback(()=>A(x=>x+1),[]),onFocusableItemRemove:E.useCallback(()=>A(x=>x-1),[]),children:m.jsx(Ee.div,{tabIndex:v||V===0?-1:0,"data-orientation":r,...f,ref:w,style:{outline:"none",...t.style},onMouseDown:pe(t.onMouseDown,()=>{O.current=!0}),onFocus:pe(t.onFocus,x=>{const R=!O.current;if(x.target===x.currentTarget&&R&&!v){const P=new CustomEvent(Lf,c6);if(x.currentTarget.dispatchEvent(P),!P.defaultPrevented){const N=k().filter(G=>G.focusable),D=N.find(G=>G.active),b=N.find(G=>G.id===y),X=[D,b,...N].filter(Boolean).map(G=>G.ref.current);fA(X,d)}}O.current=!1}),onBlur:pe(t.onBlur,()=>_(!1))})})}),dA="RovingFocusGroupItem",hA=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,a=ja(),c=s||a,u=f6(dA,n),d=u.currentTabStopId===c,f=lA(n),{onFocusableItemAdd:p,onFocusableItemRemove:w}=u;return E.useEffect(()=>{if(r)return p(),()=>w()},[r,p,w]),m.jsx(wm.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:m.jsx(Ee.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:pe(t.onMouseDown,I=>{r?u.onItemFocus(c):I.preventDefault()}),onFocus:pe(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:pe(t.onKeyDown,I=>{if(I.key==="Tab"&&I.shiftKey){u.onItemShiftTab();return}if(I.target!==I.currentTarget)return;const y=y6(I,u.orientation,u.dir);if(y!==void 0){if(I.metaKey||I.ctrlKey||I.altKey||I.shiftKey)return;I.preventDefault();let v=f().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")v.reverse();else if(y==="prev"||y==="next"){y==="prev"&&v.reverse();const _=v.indexOf(I.currentTarget);v=u.loop?v6(v,_+1):v.slice(_+1)}setTimeout(()=>fA(v))}})})})});hA.displayName=dA;var m6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function g6(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function y6(t,e,n){const r=g6(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return m6[r]}function fA(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function v6(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var _6=uA,w6=hA,ky="Tabs",[E6,iU]=us(ky,[cA]),pA=cA(),[T6,Ny]=E6(ky),mA=E.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:c="automatic",...u}=t,d=aA(a),[f,p]=Ud({prop:r,onChange:i,defaultProp:s});return m.jsx(T6,{scope:n,baseId:ja(),value:f,onValueChange:p,orientation:o,dir:d,activationMode:c,children:m.jsx(Ee.div,{dir:d,"data-orientation":o,...u,ref:e})})});mA.displayName=ky;var gA="TabsList",yA=E.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=Ny(gA,n),o=pA(n);return m.jsx(_6,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:m.jsx(Ee.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});yA.displayName=gA;var vA="TabsTrigger",_A=E.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=Ny(vA,n),a=pA(n),c=TA(o.baseId,r),u=xA(o.baseId,r),d=r===o.value;return m.jsx(w6,{asChild:!0,...a,focusable:!i,active:d,children:m.jsx(Ee.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:pe(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:pe(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:pe(t.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(r)})})})});_A.displayName=vA;var wA="TabsContent",EA=E.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,a=Ny(wA,n),c=TA(a.baseId,r),u=xA(a.baseId,r),d=r===a.value,f=E.useRef(d);return E.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),m.jsx(ds,{present:i||d,children:({present:p})=>m.jsx(Ee.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&s})})});EA.displayName=wA;function TA(t,e){return`${t}-trigger-${e}`}function xA(t,e){return`${t}-content-${e}`}var x6=mA,IA=yA,CA=_A,SA=EA;const I6=x6,AA=E.forwardRef(({className:t,...e},n)=>m.jsx(IA,{ref:n,className:he("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));AA.displayName=IA.displayName;const mu=E.forwardRef(({className:t,...e},n)=>m.jsx(CA,{ref:n,className:he("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));mu.displayName=CA.displayName;const gu=E.forwardRef(({className:t,...e},n)=>m.jsx(SA,{ref:n,className:he("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));gu.displayName=SA.displayName;const yu=E.forwardRef(({className:t,...e},n)=>m.jsx("div",{className:"relative w-full overflow-auto",children:m.jsx("table",{ref:n,className:he("w-full caption-bottom text-sm",t),...e})}));yu.displayName="Table";const vu=E.forwardRef(({className:t,...e},n)=>m.jsx("thead",{ref:n,className:he("[&_tr]:border-b",t),...e}));vu.displayName="TableHeader";const _u=E.forwardRef(({className:t,...e},n)=>m.jsx("tbody",{ref:n,className:he("[&_tr:last-child]:border-0",t),...e}));_u.displayName="TableBody";const C6=E.forwardRef(({className:t,...e},n)=>m.jsx("tfoot",{ref:n,className:he("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));C6.displayName="TableFooter";const br=E.forwardRef(({className:t,...e},n)=>m.jsx("tr",{ref:n,className:he("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));br.displayName="TableRow";const He=E.forwardRef(({className:t,...e},n)=>m.jsx("th",{ref:n,className:he("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));He.displayName="TableHead";const Ue=E.forwardRef(({className:t,...e},n)=>m.jsx("td",{ref:n,className:he("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Ue.displayName="TableCell";const S6=E.forwardRef(({className:t,...e},n)=>m.jsx("caption",{ref:n,className:he("mt-4 text-sm text-muted-foreground",t),...e}));S6.displayName="TableCaption";const A6=Hd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ur({className:t,variant:e,...n}){return m.jsx("div",{className:he(A6({variant:e}),t),...n})}const vd=E.forwardRef(({onChange:t,...e},n)=>{const r=i=>{const o=i.target.value.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1");i.target.value=o,t&&t(i)};return m.jsx(Vt,{...e,ref:n,onChange:r,placeholder:"000.000.000-00",maxLength:14})});vd.displayName="InputCPF";const RA=E.forwardRef(({onChange:t,value:e,...n},r)=>{const i=o=>{let a=o.target.value.replace(/\D/g,"");if(a===""){o.target.value="",t&&t(o);return}const u=(parseInt(a,10)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2});o.target.value=u,t&&t(o)},s=o=>{if(!o||o==="")return"";let a;if(typeof o=="string"){const c=o.replace(/[^\d,]/g,"").replace(",",".");a=parseFloat(c)}else a=o;return isNaN(a)?"":a.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2})};return m.jsx(Vt,{...n,ref:r,value:s(e),onChange:i,placeholder:"R$ 0,00"})});RA.displayName="InputCurrency";function R6({onClientSelect:t,value:e,onChange:n,placeholder:r="Digite o nome do cliente...",disabled:i=!1}){const[s,o]=E.useState([]),[a,c]=E.useState(!1),[u,d]=E.useState(!1),f=E.useRef(null),p=E.useRef(null);E.useEffect(()=>{const T=setTimeout(async()=>{if(e.length<2){o([]),c(!1);return}d(!0);try{const v=await t6(e);o(v),c(v.length>0)}catch(v){console.error("Error searching clients:",v),o([]),c(!1)}finally{d(!1)}},300);return()=>clearTimeout(T)},[e]),E.useEffect(()=>{const y=T=>{p.current&&!p.current.contains(T.target)&&c(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const w=y=>{n(y.nome||""),t(y),c(!1),o([])},I=y=>{n(y.target.value),y.target.value.trim()===""&&(c(!1),o([]))};return m.jsxs("div",{ref:p,className:"relative",children:[m.jsx(Vt,{ref:f,type:"text",value:e,onChange:I,placeholder:r,disabled:i,className:"w-full",autoComplete:"off"}),a&&!u&&s.length>0&&m.jsx(nt,{className:"absolute z-50 w-full mt-1 max-h-60 overflow-y-auto bg-white border shadow-lg",children:m.jsx("div",{className:"p-1",children:s.map(y=>m.jsxs("div",{onClick:()=>w(y),onKeyDown:T=>{(T.key==="Enter"||T.key===" ")&&w(y)},className:"px-3 py-2 cursor-pointer hover:bg-gray-100 rounded-md transition-colors",tabIndex:0,children:[m.jsx("div",{className:"font-medium text-gray-900",children:y.nome}),m.jsx("div",{className:"text-sm text-gray-500",children:y.cpf})]},y.id))})}),u&&m.jsx("div",{className:"absolute z-50 w-full mt-1 p-3 bg-white border rounded-md shadow-lg",children:m.jsx("div",{className:"text-sm text-gray-500",children:"Procurando..."})})]})}var Vf="focusScope.autoFocusOnMount",jf="focusScope.autoFocusOnUnmount",aE={bubbles:!1,cancelable:!0},P6="FocusScope",PA=E.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,c]=E.useState(null),u=Yt(i),d=Yt(s),f=E.useRef(null),p=wt(e,y=>c(y)),w=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let y=function(C){if(w.paused||!a)return;const k=C.target;a.contains(k)?f.current=k:kr(f.current,{select:!0})},T=function(C){if(w.paused||!a)return;const k=C.relatedTarget;k!==null&&(a.contains(k)||kr(f.current,{select:!0}))},v=function(C){if(document.activeElement===document.body)for(const O of C)O.removedNodes.length>0&&kr(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",T);const _=new MutationObserver(v);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",T),_.disconnect()}}},[r,a,w.paused]),E.useEffect(()=>{if(a){cE.add(w);const y=document.activeElement;if(!a.contains(y)){const v=new CustomEvent(Vf,aE);a.addEventListener(Vf,u),a.dispatchEvent(v),v.defaultPrevented||(b6(M6(bA(a)),{select:!0}),document.activeElement===y&&kr(a))}return()=>{a.removeEventListener(Vf,u),setTimeout(()=>{const v=new CustomEvent(jf,aE);a.addEventListener(jf,d),a.dispatchEvent(v),v.defaultPrevented||kr(y??document.body,{select:!0}),a.removeEventListener(jf,d),cE.remove(w)},0)}}},[a,u,d,w]);const I=E.useCallback(y=>{if(!n&&!r||w.paused)return;const T=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,v=document.activeElement;if(T&&v){const _=y.currentTarget,[C,k]=k6(_);C&&k?!y.shiftKey&&v===k?(y.preventDefault(),n&&kr(C,{select:!0})):y.shiftKey&&v===C&&(y.preventDefault(),n&&kr(k,{select:!0})):v===_&&y.preventDefault()}},[n,r,w.paused]);return m.jsx(Ee.div,{tabIndex:-1,...o,ref:p,onKeyDown:I})});PA.displayName=P6;function b6(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(kr(r,{select:e}),document.activeElement!==n)return}function k6(t){const e=bA(t),n=lE(e,t),r=lE(e.reverse(),t);return[n,r]}function bA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function lE(t,e){for(const n of t)if(!N6(n,{upTo:e}))return n}function N6(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function D6(t){return t instanceof HTMLInputElement&&"select"in t}function kr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&D6(t)&&e&&t.select()}}var cE=O6();function O6(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=uE(t,e),t.unshift(e)},remove(e){var n;t=uE(t,e),(n=t[0])==null||n.resume()}}}function uE(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function M6(t){return t.filter(e=>e.tagName!=="A")}var Ff=0;function L6(){E.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??dE()),document.body.insertAdjacentElement("beforeend",t[1]??dE()),Ff++,()=>{Ff===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ff--}},[])}function dE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var wu="right-scroll-bar-position",Eu="width-before-scroll-bar",V6="with-scroll-bars-hidden",j6="--removed-body-scroll-bar-size";function Uf(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function F6(t,e){var n=E.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var U6=typeof window<"u"?E.useLayoutEffect:E.useEffect,hE=new WeakMap;function $6(t,e){var n=F6(null,function(r){return t.forEach(function(i){return Uf(i,r)})});return U6(function(){var r=hE.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||Uf(a,null)}),s.forEach(function(a){i.has(a)||Uf(a,o)})}hE.set(n,t)},[t]),n}function z6(t){return t}function B6(t,e){e===void 0&&(e=z6);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var c=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function H6(t){t===void 0&&(t={});var e=B6(null);return e.options=Ln({async:!0,ssr:!1},t),e}var kA=function(t){var e=t.sideCar,n=Vl(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,Ln({},n))};kA.isSideCarExport=!0;function q6(t,e){return t.useMedium(e),kA}var NA=H6(),$f=function(){},Eh=E.forwardRef(function(t,e){var n=E.useRef(null),r=E.useState({onScrollCapture:$f,onWheelCapture:$f,onTouchMoveCapture:$f}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,w=t.noIsolation,I=t.inert,y=t.allowPinchZoom,T=t.as,v=T===void 0?"div":T,_=t.gapMode,C=Vl(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=p,O=$6([n,e]),V=Ln(Ln({},C),i);return E.createElement(E.Fragment,null,d&&E.createElement(k,{sideCar:NA,removeScrollBar:u,shards:f,noIsolation:w,inert:I,setCallbacks:s,allowPinchZoom:!!y,lockRef:n,gapMode:_}),o?E.cloneElement(E.Children.only(a),Ln(Ln({},V),{ref:O})):E.createElement(v,Ln({},V,{className:c,ref:O}),a))});Eh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Eh.classNames={fullWidth:Eu,zeroRight:wu};var W6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function K6(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=W6();return e&&t.setAttribute("nonce",e),t}function G6(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Q6(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Y6=function(){var t=0,e=null;return{add:function(n){t==0&&(e=K6())&&(G6(e,n),Q6(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},X6=function(){var t=Y6();return function(e,n){E.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},DA=function(){var t=X6(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},J6={left:0,top:0,right:0,gap:0},zf=function(t){return parseInt(t||"",10)||0},Z6=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[zf(n),zf(r),zf(i)]},e5=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return J6;var e=Z6(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},t5=DA(),no="data-scroll-locked",n5=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(V6,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(no,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(wu,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Eu,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(wu," .").concat(wu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Eu," .").concat(Eu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(no,`] {
    `).concat(j6,": ").concat(a,`px;
  }
`)},fE=function(){var t=parseInt(document.body.getAttribute(no)||"0",10);return isFinite(t)?t:0},r5=function(){E.useEffect(function(){return document.body.setAttribute(no,(fE()+1).toString()),function(){var t=fE()-1;t<=0?document.body.removeAttribute(no):document.body.setAttribute(no,t.toString())}},[])},i5=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;r5();var s=E.useMemo(function(){return e5(i)},[i]);return E.createElement(t5,{styles:n5(s,!e,i,n?"":"!important")})},Em=!1;if(typeof window<"u")try{var Uc=Object.defineProperty({},"passive",{get:function(){return Em=!0,!0}});window.addEventListener("test",Uc,Uc),window.removeEventListener("test",Uc,Uc)}catch{Em=!1}var xs=Em?{passive:!1}:!1,s5=function(t){return t.tagName==="TEXTAREA"},OA=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!s5(t)&&n[e]==="visible")},o5=function(t){return OA(t,"overflowY")},a5=function(t){return OA(t,"overflowX")},pE=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=MA(t,r);if(i){var s=LA(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},l5=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},c5=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},MA=function(t,e){return t==="v"?o5(e):a5(e)},LA=function(t,e){return t==="v"?l5(e):c5(e)},u5=function(t,e){return t==="h"&&e==="rtl"?-1:1},d5=function(t,e,n,r,i){var s=u5(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,c=e.contains(a),u=!1,d=o>0,f=0,p=0;do{var w=LA(t,a),I=w[0],y=w[1],T=w[2],v=y-T-s*I;(I||v)&&MA(t,a)&&(f+=v,p+=I),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(p)<1||!i))&&(u=!0),u},$c=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},mE=function(t){return[t.deltaX,t.deltaY]},gE=function(t){return t&&"current"in t?t.current:t},h5=function(t,e){return t[0]===e[0]&&t[1]===e[1]},f5=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},p5=0,Is=[];function m5(t){var e=E.useRef([]),n=E.useRef([0,0]),r=E.useRef(),i=E.useState(p5++)[0],s=E.useState(DA)[0],o=E.useRef(t);E.useEffect(function(){o.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var y=SL([t.lockRef.current],(t.shards||[]).map(gE),!0).filter(Boolean);return y.forEach(function(T){return T.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=E.useCallback(function(y,T){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var v=$c(y),_=n.current,C="deltaX"in y?y.deltaX:_[0]-v[0],k="deltaY"in y?y.deltaY:_[1]-v[1],O,V=y.target,A=Math.abs(C)>Math.abs(k)?"h":"v";if("touches"in y&&A==="h"&&V.type==="range")return!1;var x=pE(A,V);if(!x)return!0;if(x?O=A:(O=A==="v"?"h":"v",x=pE(A,V)),!x)return!1;if(!r.current&&"changedTouches"in y&&(C||k)&&(r.current=O),!O)return!0;var R=r.current||O;return d5(R,T,y,R==="h"?C:k,!0)},[]),c=E.useCallback(function(y){var T=y;if(!(!Is.length||Is[Is.length-1]!==s)){var v="deltaY"in T?mE(T):$c(T),_=e.current.filter(function(O){return O.name===T.type&&(O.target===T.target||T.target===O.shadowParent)&&h5(O.delta,v)})[0];if(_&&_.should){T.cancelable&&T.preventDefault();return}if(!_){var C=(o.current.shards||[]).map(gE).filter(Boolean).filter(function(O){return O.contains(T.target)}),k=C.length>0?a(T,C[0]):!o.current.noIsolation;k&&T.cancelable&&T.preventDefault()}}},[]),u=E.useCallback(function(y,T,v,_){var C={name:y,delta:T,target:v,should:_,shadowParent:g5(v)};e.current.push(C),setTimeout(function(){e.current=e.current.filter(function(k){return k!==C})},1)},[]),d=E.useCallback(function(y){n.current=$c(y),r.current=void 0},[]),f=E.useCallback(function(y){u(y.type,mE(y),y.target,a(y,t.lockRef.current))},[]),p=E.useCallback(function(y){u(y.type,$c(y),y.target,a(y,t.lockRef.current))},[]);E.useEffect(function(){return Is.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,xs),document.addEventListener("touchmove",c,xs),document.addEventListener("touchstart",d,xs),function(){Is=Is.filter(function(y){return y!==s}),document.removeEventListener("wheel",c,xs),document.removeEventListener("touchmove",c,xs),document.removeEventListener("touchstart",d,xs)}},[]);var w=t.removeScrollBar,I=t.inert;return E.createElement(E.Fragment,null,I?E.createElement(s,{styles:f5(i)}):null,w?E.createElement(i5,{gapMode:t.gapMode}):null)}function g5(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const y5=q6(NA,m5);var VA=E.forwardRef(function(t,e){return E.createElement(Eh,Ln({},t,{ref:e,sideCar:y5}))});VA.classNames=Eh.classNames;var v5=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Cs=new WeakMap,zc=new WeakMap,Bc={},Bf=0,jA=function(t){return t&&(t.host||jA(t.parentNode))},_5=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=jA(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},w5=function(t,e,n,r){var i=_5(e,Array.isArray(t)?t:[t]);Bc[n]||(Bc[n]=new WeakMap);var s=Bc[n],o=[],a=new Set,c=new Set(i),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))d(p);else try{var w=p.getAttribute(r),I=w!==null&&w!=="false",y=(Cs.get(p)||0)+1,T=(s.get(p)||0)+1;Cs.set(p,y),s.set(p,T),o.push(p),y===1&&I&&zc.set(p,!0),T===1&&p.setAttribute(n,"true"),I||p.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",p,v)}})};return d(e),a.clear(),Bf++,function(){o.forEach(function(f){var p=Cs.get(f)-1,w=s.get(f)-1;Cs.set(f,p),s.set(f,w),p||(zc.has(f)||f.removeAttribute(r),zc.delete(f)),w||f.removeAttribute(n)}),Bf--,Bf||(Cs=new WeakMap,Cs=new WeakMap,zc=new WeakMap,Bc={})}},E5=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=v5(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),w5(r,i,n,"aria-hidden")):function(){return null}},Dy="Dialog",[FA,sU]=us(Dy),[T5,Rn]=FA(Dy),UA=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=E.useRef(null),c=E.useRef(null),[u=!1,d]=Ud({prop:r,defaultProp:i,onChange:s});return m.jsx(T5,{scope:e,triggerRef:a,contentRef:c,contentId:ja(),titleId:ja(),descriptionId:ja(),open:u,onOpenChange:d,onOpenToggle:E.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};UA.displayName=Dy;var $A="DialogTrigger",x5=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Rn($A,n),s=wt(e,i.triggerRef);return m.jsx(Ee.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Ly(i.open),...r,ref:s,onClick:pe(t.onClick,i.onOpenToggle)})});x5.displayName=$A;var Oy="DialogPortal",[I5,zA]=FA(Oy,{forceMount:void 0}),BA=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=Rn(Oy,e);return m.jsx(I5,{scope:e,forceMount:n,children:E.Children.map(r,o=>m.jsx(ds,{present:n||s.open,children:m.jsx(Eg,{asChild:!0,container:i,children:o})}))})};BA.displayName=Oy;var _d="DialogOverlay",HA=E.forwardRef((t,e)=>{const n=zA(_d,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Rn(_d,t.__scopeDialog);return s.modal?m.jsx(ds,{present:r||s.open,children:m.jsx(S5,{...i,ref:e})}):null});HA.displayName=_d;var C5=ul("DialogOverlay.RemoveScroll"),S5=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Rn(_d,n);return m.jsx(VA,{as:C5,allowPinchZoom:!0,shards:[i.contentRef],children:m.jsx(Ee.div,{"data-state":Ly(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),as="DialogContent",qA=E.forwardRef((t,e)=>{const n=zA(as,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Rn(as,t.__scopeDialog);return m.jsx(ds,{present:r||s.open,children:s.modal?m.jsx(A5,{...i,ref:e}):m.jsx(R5,{...i,ref:e})})});qA.displayName=as;var A5=E.forwardRef((t,e)=>{const n=Rn(as,t.__scopeDialog),r=E.useRef(null),i=wt(e,n.contentRef,r);return E.useEffect(()=>{const s=r.current;if(s)return E5(s)},[]),m.jsx(WA,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:pe(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:pe(t.onFocusOutside,s=>s.preventDefault())})}),R5=E.forwardRef((t,e)=>{const n=Rn(as,t.__scopeDialog),r=E.useRef(!1),i=E.useRef(!1);return m.jsx(WA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),WA=E.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=Rn(as,n),c=E.useRef(null),u=wt(e,c);return L6(),m.jsxs(m.Fragment,{children:[m.jsx(PA,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:m.jsx(Fd,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Ly(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),m.jsxs(m.Fragment,{children:[m.jsx(P5,{titleId:a.titleId}),m.jsx(k5,{contentRef:c,descriptionId:a.descriptionId})]})]})}),My="DialogTitle",KA=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Rn(My,n);return m.jsx(Ee.h2,{id:i.titleId,...r,ref:e})});KA.displayName=My;var GA="DialogDescription",QA=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Rn(GA,n);return m.jsx(Ee.p,{id:i.descriptionId,...r,ref:e})});QA.displayName=GA;var YA="DialogClose",XA=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Rn(YA,n);return m.jsx(Ee.button,{type:"button",...r,ref:e,onClick:pe(t.onClick,()=>i.onOpenChange(!1))})});XA.displayName=YA;function Ly(t){return t?"open":"closed"}var JA="DialogTitleWarning",[oU,ZA]=yN(JA,{contentName:as,titleName:My,docsSlug:"dialog"}),P5=({titleId:t})=>{const e=ZA(JA),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return E.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},b5="DialogDescriptionWarning",k5=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ZA(b5).contentName}}.`;return E.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},N5=UA,D5=BA,eR=HA,tR=qA,nR=KA,rR=QA,O5=XA;const iR=N5,M5=D5,sR=E.forwardRef(({className:t,...e},n)=>m.jsx(eR,{ref:n,className:he("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));sR.displayName=eR.displayName;const Vy=E.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(M5,{children:[m.jsx(sR,{}),m.jsxs(tR,{ref:r,className:he("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,m.jsxs(O5,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[m.jsx(Lx,{className:"h-4 w-4"}),m.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Vy.displayName=tR.displayName;const jy=({className:t,...e})=>m.jsx("div",{className:he("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});jy.displayName="DialogHeader";const Fy=E.forwardRef(({className:t,...e},n)=>m.jsx(nR,{ref:n,className:he("text-lg font-semibold leading-none tracking-tight",t),...e}));Fy.displayName=nR.displayName;const L5=E.forwardRef(({className:t,...e},n)=>m.jsx(rR,{ref:n,className:he("text-sm text-muted-foreground",t),...e}));L5.displayName=rR.displayName;var V5="Separator",yE="horizontal",j5=["horizontal","vertical"],oR=E.forwardRef((t,e)=>{const{decorative:n,orientation:r=yE,...i}=t,s=F5(r)?r:yE,a=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return m.jsx(Ee.div,{"data-orientation":s,...a,...i,ref:e})});oR.displayName=V5;function F5(t){return j5.includes(t)}var aR=oR;const lR=E.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>m.jsx(aR,{ref:i,decorative:n,orientation:e,className:he("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));lR.displayName=aR.displayName;function U5({client:t,open:e,onOpenChange:n}){const[r,i]=E.useState([]),[s,o]=E.useState([]),[a,c]=E.useState(!1);E.useEffect(()=>{t&&e&&u()},[t,e]);const u=async()=>{if(t){c(!0);try{const[d,f]=await Promise.all([sA(t.cpf),oA(t.cpf)]);i(d),o(f)}catch(d){console.error("Error loading client data:",d)}finally{c(!1)}}};return t?m.jsx(iR,{open:e,onOpenChange:n,children:m.jsxs(Vy,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[m.jsx(jy,{children:m.jsxs(Fy,{className:"flex items-center text-xl",children:[m.jsx(Ku,{className:"h-6 w-6 mr-2 text-gold-500"}),"Detalhes do Cliente"]})}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[m.jsxs(nt,{children:[m.jsx(En,{children:m.jsx(Tn,{className:"text-lg",children:"Informações Pessoais"})}),m.jsxs(At,{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-500",children:"CPF"}),m.jsx("p",{className:"font-medium",children:t.cpf})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx(y2,{className:"h-4 w-4 mr-2 text-gold-500"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Telefone"}),m.jsx("p",{className:"font-medium",children:t.telefone})]})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx(m2,{className:"h-4 w-4 mr-2 text-gold-500"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),m.jsx("p",{className:"font-medium",children:t.email})]})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx(c2,{className:"h-4 w-4 mr-2 text-gold-500"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Data de Nascimento"}),m.jsx("p",{className:"font-medium",children:new Date(t.nascimento).toLocaleDateString("pt-BR")})]})]}),m.jsx(lR,{}),m.jsxs("div",{className:"text-center",children:[m.jsxs(Ur,{variant:"secondary",className:"bg-gold-100 text-gold-800 text-lg px-4 py-2",children:[m.jsx(Ku,{className:"h-4 w-4 mr-2"}),t.carimbosAtuais," Carimbos"]}),m.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Última compra: ",t.ultimaCompra?new Date(t.ultimaCompra).toLocaleDateString("pt-BR"):"Nunca"]})]})]})]}),m.jsxs(nt,{children:[m.jsx(En,{children:m.jsxs(Tn,{className:"flex items-center text-lg",children:[m.jsx(Gu,{className:"h-5 w-5 mr-2 text-gold-500"}),"Cupons (",s.length,")"]})}),m.jsx(At,{children:a?m.jsx("p",{className:"text-gray-500",children:"Carregando..."}):s.length>0?m.jsx("div",{className:"space-y-3 max-h-48 overflow-y-auto",children:s.map(d=>m.jsx("div",{className:"border rounded-lg p-3",children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"font-medium text-gold-600",children:[(d.valorDesconto*100).toFixed(0),"% OFF"]}),m.jsxs("p",{className:"text-xs text-gray-500",children:["Criado em ",new Date(d.criadoEm).toLocaleDateString("pt-BR")]}),m.jsxs("p",{className:"text-xs text-gray-500",children:["Válido até ",new Date(d.validoAte).toLocaleDateString("pt-BR")]})]}),m.jsx(Ur,{variant:d.usado?"secondary":"default",className:d.usado?"bg-gray-100 text-gray-800":"bg-green-100 text-green-800",children:d.usado?"Usado":"Ativo"})]})},d.id))}):m.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nenhum cupom gerado"})})]})]}),m.jsxs(nt,{children:[m.jsx(En,{children:m.jsxs(Tn,{className:"flex items-center text-lg",children:[m.jsx(Ox,{className:"h-5 w-5 mr-2 text-gold-500"}),"Histórico de Compras (",r.length,")"]})}),m.jsx(At,{children:a?m.jsx("p",{className:"text-gray-500",children:"Carregando..."}):r.length>0?m.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:r.map(d=>m.jsxs("div",{className:"flex justify-between items-center border-b pb-2",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:new Date(d.data).toLocaleDateString("pt-BR")}),m.jsxs("p",{className:"text-sm text-gray-600",children:["+",d.carimbosGerados," carimbos"]})]}),m.jsx("div",{className:"text-right",children:m.jsxs("p",{className:"font-semibold",children:["R$ ",d.valorCompra.toFixed(2)]})})]},d.id))}):m.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nenhuma compra registrada"})})]})]})}):null}function $5({client:t,open:e,onOpenChange:n,onClientUpdated:r}){const[i,s]=E.useState({telefone:"",email:"",nascimento:""}),[o,a]=E.useState(!1),{toast:c}=Dl();E.useEffect(()=>{t&&e&&s({telefone:t.telefone,email:t.email,nascimento:t.nascimento})},[t,e]);const u=async d=>{if(d.preventDefault(),!!t){a(!0);try{await vm(t.cpf,i),c({title:"Cliente atualizado com sucesso!"}),r(),n(!1)}catch(f){c({title:"Erro ao atualizar cliente",description:f.message,variant:"destructive"})}finally{a(!1)}}};return t?m.jsx(iR,{open:e,onOpenChange:n,children:m.jsxs(Vy,{className:"max-w-md",children:[m.jsx(jy,{children:m.jsxs(Fy,{className:"flex items-center text-xl",children:[m.jsx(Mx,{className:"h-6 w-6 mr-2 text-gold-500"}),"Editar Cliente"]})}),m.jsxs("form",{onSubmit:u,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(Gr,{children:"CPF (não editável)"}),m.jsx(Vt,{value:t.cpf,disabled:!0,className:"bg-gray-100"})]}),m.jsxs("div",{children:[m.jsx(Gr,{htmlFor:"telefone",children:"Telefone"}),m.jsx(Vt,{id:"telefone",type:"tel",value:i.telefone,onChange:d=>s({...i,telefone:d.target.value}),required:!0})]}),m.jsxs("div",{children:[m.jsx(Gr,{htmlFor:"email",children:"Email"}),m.jsx(Vt,{id:"email",type:"email",value:i.email,onChange:d=>s({...i,email:d.target.value}),required:!0})]}),m.jsxs("div",{children:[m.jsx(Gr,{htmlFor:"nascimento",children:"Data de Nascimento"}),m.jsx(Vt,{id:"nascimento",type:"date",value:i.nascimento,onChange:d=>s({...i,nascimento:d.target.value}),required:!0})]}),m.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[m.jsx(tt,{type:"button",variant:"outline",onClick:()=>n(!1),disabled:o,children:"Cancelar"}),m.jsx(tt,{type:"submit",className:"bg-gold-500 hover:bg-gold-600 text-white",disabled:o,children:o?"Salvando...":"Salvar"})]})]})]})}):null}function z5({onLogout:t}){const[e,n]=E.useState([]),[r,i]=E.useState([]),[s,o]=E.useState([]),[a,c]=E.useState(!0),[u,d]=E.useState(""),{toast:f}=Dl(),[p,w]=E.useState({cpf:"",nome:"",telefone:"",email:"",nascimento:""}),[I,y]=E.useState({clientName:"",cpfCliente:"",valorCompra:""}),[T,v]=E.useState({open:!1,client:null}),[_,C]=E.useState({open:!1,client:null});E.useEffect(()=>{k()},[]);const k=async()=>{try{const[M,X]=await Promise.all([iA(),r6()]);n(M),i(X);try{const G=await s6();o(G)}catch(G){console.warn("Erro ao carregar cupons (ignorado):",G),o([])}}catch(M){f({title:"Erro ao carregar dados",description:M.message,variant:"destructive"})}finally{c(!1)}},O=async()=>{try{await Z3(),f({title:"Logout realizado com sucesso!"}),t()}catch(M){f({title:"Erro no logout",description:M.message,variant:"destructive"})}},V=async M=>{if(M.preventDefault(),!_m(p.cpf)){f({title:"CPF inválido",description:"Por favor, digite um CPF válido.",variant:"destructive"});return}try{await e6({...p,carimbosAtuais:0,ultimaCompra:new Date().toISOString()}),f({title:"Cliente cadastrado com sucesso!"}),w({cpf:"",nome:"",telefone:"",email:"",nascimento:""}),k()}catch(X){f({title:"Erro ao cadastrar cliente",description:X.message,variant:"destructive"})}},A=async M=>{M.preventDefault();const X=I.valorCompra.replace(/[^\d,]/g,"").replace(",","."),G=parseFloat(X);if(isNaN(G)||G<=0){f({title:"Valor inválido",description:"Por favor, digite um valor válido.",variant:"destructive"});return}if(!I.cpfCliente||!_m(I.cpfCliente)){f({title:"Cliente não selecionado",description:"Por favor, selecione um cliente válido.",variant:"destructive"});return}try{const Z=oE(G);(await n6({cpfCliente:I.cpfCliente,valorCompra:G,carimbosGerados:Z,data:new Date().toISOString()})).couponGenerated?f({title:"🎉 Cliente atingiu 10 carimbos! Cupom de 15% gerado.",description:`Compra registrada com ${Z} carimbos.`}):f({title:"Compra registrada com sucesso!",description:`${Z} carimbos gerados.`}),y({clientName:"",cpfCliente:"",valorCompra:""}),k()}catch(Z){f({title:"Erro ao registrar compra",description:Z.message,variant:"destructive"})}},x=M=>{y(X=>({...X,cpfCliente:M.cpf,clientName:M.nome||""}))},R=M=>{v({open:!0,client:M})},P=M=>{C({open:!0,client:M})},N=async M=>{try{await o6(M),f({title:"Cupom marcado como usado!"}),k()}catch(X){f({title:"Erro ao usar cupom",description:X.message,variant:"destructive"})}},D=u.trim()?s.filter(M=>M.clienteCpf&&M.clienteCpf.toLowerCase().includes(u.toLowerCase())):s,b=M=>{const X=M.replace(/[^\d,]/g,"").replace(",","."),G=parseFloat(X);return isNaN(G)?0:oE(G)};return a?m.jsx("div",{className:"min-h-screen flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gold-500"}),m.jsx("p",{className:"mt-4 text-gray-600",children:"Carregando..."})]})}):m.jsx("div",{className:"min-h-screen bg-gray-50",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),m.jsx("p",{className:"text-gray-600",children:"Gerencie clientes e fidelidade"})]}),m.jsxs(tt,{onClick:O,variant:"outline",className:"text-gray-600 hover:text-gray-800",children:[m.jsx(p2,{className:"h-4 w-4 mr-2"}),"Sair"]})]}),m.jsxs("div",{className:"grid lg:grid-cols-3 gap-6 mb-8",children:[m.jsxs(nt,{children:[m.jsx(En,{children:m.jsxs(Tn,{className:"flex items-center text-lg",children:[m.jsx(T2,{className:"h-5 w-5 mr-2 text-gold-500"}),"Cadastrar Cliente"]})}),m.jsx(At,{children:m.jsxs("form",{onSubmit:V,className:"space-y-4",children:[m.jsx(vd,{value:p.cpf,onChange:M=>w({...p,cpf:M.target.value}),required:!0}),m.jsx(Vt,{type:"text",placeholder:"Nome completo",value:p.nome,onChange:M=>w({...p,nome:M.target.value}),required:!0}),m.jsx(Vt,{type:"tel",placeholder:"Telefone",value:p.telefone,onChange:M=>w({...p,telefone:M.target.value}),required:!0}),m.jsx(Vt,{type:"email",placeholder:"Email",value:p.email,onChange:M=>w({...p,email:M.target.value}),required:!0}),m.jsx(Vt,{type:"date",value:p.nascimento,onChange:M=>w({...p,nascimento:M.target.value}),required:!0}),m.jsx(tt,{type:"submit",className:"w-full bg-gold-500 hover:bg-gold-600 text-white",children:"Cadastrar"})]})})]}),m.jsxs(nt,{children:[m.jsx(En,{children:m.jsxs(Tn,{className:"flex items-center text-lg",children:[m.jsx(E2,{className:"h-5 w-5 mr-2 text-gold-500"}),"Registrar Compra"]})}),m.jsx(At,{children:m.jsxs("form",{onSubmit:A,className:"space-y-4",children:[m.jsx(R6,{value:I.clientName,onChange:M=>y({...I,clientName:M}),onClientSelect:x,placeholder:"Digite o nome do cliente..."}),m.jsx(RA,{value:I.valorCompra,onChange:M=>y({...I,valorCompra:M.target.value}),required:!0}),m.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[m.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"R$ 150,00 = 1 carimbo"}),m.jsxs("p",{className:"text-sm font-medium text-gold-600",children:["Carimbos a gerar: ",b(I.valorCompra)]})]}),m.jsx(tt,{type:"submit",className:"w-full bg-gold-500 hover:bg-gold-600 text-white",children:"Registrar"})]})})]}),m.jsxs(nt,{children:[m.jsx(En,{children:m.jsxs(Tn,{className:"flex items-center text-lg",children:[m.jsx(u2,{className:"h-5 w-5 mr-2 text-gold-500"}),"Estatísticas Rápidas"]})}),m.jsxs(At,{className:"space-y-3",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Total Clientes"}),m.jsx("span",{className:"font-semibold text-gray-900",children:e.length})]}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Cupons Ativos"}),m.jsx("span",{className:"font-semibold text-green-600",children:s.filter(M=>!M.usado).length})]}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Compras Hoje"}),m.jsx("span",{className:"font-semibold text-gold-600",children:r.filter(M=>{const X=new Date().toDateString(),G=new Date(M.data).toDateString();return X===G}).length})]}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Total Carimbos"}),m.jsx("span",{className:"font-semibold text-gray-900",children:e.reduce((M,X)=>M+X.carimbosAtuais,0)})]})]})]})]}),m.jsx(nt,{children:m.jsxs(I6,{defaultValue:"clients",className:"w-full",children:[m.jsx("div",{className:"border-b border-gray-200",children:m.jsxs(AA,{className:"grid w-full grid-cols-3",children:[m.jsxs(mu,{value:"clients",className:"flex items-center",children:[m.jsx(x2,{className:"h-4 w-4 mr-2"}),"Clientes"]}),m.jsxs(mu,{value:"purchases",className:"flex items-center",children:[m.jsx(w2,{className:"h-4 w-4 mr-2"}),"Compras"]}),m.jsxs(mu,{value:"coupons",className:"flex items-center",children:[m.jsx(Gu,{className:"h-4 w-4 mr-2"}),"Cupons"]})]})}),m.jsx(gu,{value:"clients",className:"p-6",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs(yu,{children:[m.jsx(vu,{children:m.jsxs(br,{children:[m.jsx(He,{children:"Nome"}),m.jsx(He,{children:"CPF"}),m.jsx(He,{children:"Telefone"}),m.jsx(He,{children:"Email"}),m.jsx(He,{children:"Carimbos"}),m.jsx(He,{children:"Última Compra"}),m.jsx(He,{children:"Ações"})]})}),m.jsx(_u,{children:e.map(M=>m.jsxs(br,{children:[m.jsx(Ue,{className:"font-medium",children:M.nome}),m.jsx(Ue,{children:M.cpf}),m.jsx(Ue,{children:M.telefone}),m.jsx(Ue,{children:M.email}),m.jsx(Ue,{children:m.jsxs(Ur,{variant:"secondary",className:"bg-gold-100 text-gold-800",children:[m.jsx(Ku,{className:"h-3 w-3 mr-1"}),M.carimbosAtuais]})}),m.jsx(Ue,{children:M.ultimaCompra?new Date(M.ultimaCompra).toLocaleDateString("pt-BR"):"-"}),m.jsx(Ue,{children:m.jsxs("div",{className:"flex space-x-2",children:[m.jsx(tt,{size:"sm",variant:"ghost",onClick:()=>R(M),title:"Ver detalhes",children:m.jsx(f2,{className:"h-4 w-4"})}),m.jsx(tt,{size:"sm",variant:"ghost",onClick:()=>P(M),title:"Editar cliente",children:m.jsx(Mx,{className:"h-4 w-4"})})]})})]},M.id))})]})})}),m.jsx(gu,{value:"purchases",className:"p-6",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs(yu,{children:[m.jsx(vu,{children:m.jsxs(br,{children:[m.jsx(He,{children:"Data"}),m.jsx(He,{children:"CPF Cliente"}),m.jsx(He,{children:"Valor"}),m.jsx(He,{children:"Carimbos"}),m.jsx(He,{children:"Status"})]})}),m.jsx(_u,{children:r.map(M=>m.jsxs(br,{children:[m.jsx(Ue,{children:new Date(M.data).toLocaleString("pt-BR")}),m.jsx(Ue,{className:"font-medium",children:M.cpfCliente}),m.jsxs(Ue,{className:"font-semibold",children:["R$ ",M.valorCompra.toFixed(2)]}),m.jsx(Ue,{children:m.jsxs(Ur,{variant:"secondary",className:"bg-gold-100 text-gold-800",children:["+",M.carimbosGerados]})}),m.jsx(Ue,{children:m.jsx(Ur,{variant:"outline",className:"bg-green-100 text-green-800",children:"Processado"})})]},M.id))})]})})}),m.jsx(gu,{value:"coupons",className:"p-6",children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"max-w-md",children:[m.jsx(Gr,{htmlFor:"cpf-filter",children:"Filtrar por CPF"}),m.jsx(vd,{id:"cpf-filter",value:u,onChange:M=>d(M.target.value),placeholder:"Digite o CPF para filtrar..."})]}),m.jsx("div",{className:"hidden md:block overflow-x-auto",children:m.jsxs(yu,{children:[m.jsx(vu,{children:m.jsxs(br,{children:[m.jsx(He,{children:"CPF"}),m.jsx(He,{children:"Data de Criação"}),m.jsx(He,{children:"Válido Até"}),m.jsx(He,{children:"Desconto"}),m.jsx(He,{children:"Status"}),m.jsx(He,{children:"Ações"})]})}),m.jsxs(_u,{children:[D.map(M=>{var X,G,Z,F,q,Y;return m.jsxs(br,{children:[m.jsx(Ue,{className:"font-medium",children:M.clienteCpf||"CPF não informado"}),m.jsx(Ue,{children:M.criadoEm?typeof M.criadoEm=="string"?new Date(M.criadoEm).toLocaleDateString("pt-BR"):((Z=(G=(X=M.criadoEm).toDate)==null?void 0:G.call(X))==null?void 0:Z.toLocaleDateString("pt-BR"))||"Data inválida":"Data inválida"}),m.jsx(Ue,{children:M.validoAte?typeof M.validoAte=="string"?new Date(M.validoAte).toLocaleDateString("pt-BR"):((Y=(q=(F=M.validoAte).toDate)==null?void 0:q.call(F))==null?void 0:Y.toLocaleDateString("pt-BR"))||"Data inválida":"Data inválida"}),m.jsxs(Ue,{className:"font-semibold",children:[(M.valorDesconto*100).toFixed(0),"%"]}),m.jsx(Ue,{children:m.jsx(Ur,{variant:M.usado?"secondary":"default",className:M.usado?"bg-gray-100 text-gray-800":"bg-green-100 text-green-800",children:M.usado?"Usado":"Ativo"})}),m.jsx(Ue,{children:!M.usado&&m.jsx(tt,{size:"sm",variant:"outline",onClick:()=>N(M.id),className:"text-gold-600 border-gold-600 hover:bg-gold-50",children:"Marcar como usado"})})]},M.id)}),D.length===0&&m.jsx(br,{children:m.jsx(Ue,{colSpan:6,className:"text-center py-8 text-gray-500",children:u.trim()?"Nenhum cupom encontrado para este CPF":"Nenhum cupom gerado ainda"})})]})]})}),m.jsxs("div",{className:"md:hidden space-y-4",children:[D.map(M=>{var X,G,Z,F,q,Y;return m.jsx(nt,{children:m.jsxs(At,{className:"p-4",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsx("span",{className:"font-medium",children:M.clienteCpf||"CPF não informado"}),m.jsx(Ur,{variant:M.usado?"secondary":"default",className:M.usado?"bg-gray-100 text-gray-800":"bg-green-100 text-green-800",children:M.usado?"Usado":"Ativo"})]}),m.jsxs("div",{className:"space-y-1 text-sm text-gray-600 mb-3",children:[m.jsxs("p",{children:["Criado: ",M.criadoEm?typeof M.criadoEm=="string"?new Date(M.criadoEm).toLocaleDateString("pt-BR"):((Z=(G=(X=M.criadoEm).toDate)==null?void 0:G.call(X))==null?void 0:Z.toLocaleDateString("pt-BR"))||"Data inválida":"Data inválida"]}),m.jsxs("p",{children:["Válido até: ",M.validoAte?typeof M.validoAte=="string"?new Date(M.validoAte).toLocaleDateString("pt-BR"):((Y=(q=(F=M.validoAte).toDate)==null?void 0:q.call(F))==null?void 0:Y.toLocaleDateString("pt-BR"))||"Data inválida":"Data inválida"]}),m.jsxs("p",{className:"font-semibold",children:["Desconto: ",(M.valorDesconto*100).toFixed(0),"%"]})]}),!M.usado&&m.jsx(tt,{size:"sm",variant:"outline",onClick:()=>N(M.id),className:"w-full text-gold-600 border-gold-600 hover:bg-gold-50",children:"Marcar como usado"})]})},M.id)}),D.length===0&&m.jsx("div",{className:"text-center py-8 text-gray-500",children:u.trim()?"Nenhum cupom encontrado para este CPF":"Nenhum cupom gerado ainda"})]})]})})]})}),m.jsx(U5,{client:T.client,open:T.open,onOpenChange:M=>v({open:M,client:T.client})}),m.jsx($5,{client:_.client,open:_.open,onOpenChange:M=>C({open:M,client:_.client}),onClientUpdated:k})]})})}function B5(){const[t,e]=E.useState(""),[n,r]=E.useState(null),[i,s]=E.useState([]),[o,a]=E.useState([]),[c,u]=E.useState(!1),[d,f]=E.useState(!1),{toast:p}=Dl(),w=async y=>{if(y.preventDefault(),!_m(t)){p({title:"CPF inválido",description:"Por favor, digite um CPF válido.",variant:"destructive"});return}u(!0),f(!0);try{const T=await rA(t);if(T){r(T);try{const v=await oA(t);s(v)}catch(v){console.warn("Erro ao buscar cupons (ignorado):",v),s([])}try{const v=await sA(t);a(v.slice(0,5))}catch(v){console.warn("Erro ao buscar compras (ignorado):",v),a([])}p({title:"Cliente encontrado!"})}else r(null),s([]),a([]),p({title:"Cliente não encontrado",description:"Verifique o CPF digitado.",variant:"destructive"})}catch(T){console.error("Erro na consulta principal:",T),r(null),s([]),a([]),p({title:"Erro na consulta",description:"Tente novamente em alguns instantes.",variant:"destructive"})}finally{u(!1)}},I=(y,T=10)=>{const v=[];for(let _=0;_<T;_++)v.push(m.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${_<y?"bg-gold-500 text-black":"bg-gray-200"}`,children:_<y&&m.jsx(f_,{className:"h-3 w-3"})},_));return v};return m.jsx("div",{className:"min-h-screen bg-gray-50",children:m.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Consulte sua Fidelidade"}),m.jsx("p",{className:"text-gray-600",children:"Digite seu CPF para ver seus carimbos e cupons"})]}),m.jsx("div",{className:"max-w-md mx-auto mb-8",children:m.jsx(nt,{children:m.jsx(At,{className:"pt-6",children:m.jsxs("form",{onSubmit:w,children:[m.jsxs("div",{className:"mb-4",children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[m.jsx(p_,{className:"inline h-4 w-4 mr-2 text-gold-500"}),"CPF"]}),m.jsx(vd,{value:t,onChange:y=>e(y.target.value),className:"w-full",required:!0})]}),m.jsxs(tt,{type:"submit",className:"w-full bg-gold-500 hover:bg-gold-600 text-white font-semibold",disabled:c,children:[m.jsx(v2,{className:"h-4 w-4 mr-2"}),c?"Consultando...":"Consultar"]})]})})})}),d&&!c&&m.jsx(m.Fragment,{children:n?m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[m.jsxs(nt,{children:[m.jsx(En,{children:m.jsxs(Tn,{className:"flex items-center justify-between",children:[m.jsx("span",{children:"Seus Carimbos"}),m.jsx(Ku,{className:"h-5 w-5 text-gold-500"})]})}),m.jsx(At,{children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-4xl font-bold text-gold-500 mb-2",children:n.carimbosAtuais}),m.jsx("p",{className:"text-gray-600 mb-4",children:"de 10 carimbos"}),m.jsx("div",{className:"grid grid-cols-5 gap-2 mb-4",children:I(n.carimbosAtuais)}),m.jsx("div",{className:"bg-gray-100 rounded-lg p-3",children:m.jsxs("p",{className:"text-sm text-gray-600",children:["Próximo desconto em"," ",m.jsxs("strong",{children:[10-n.carimbosAtuais," carimbos"]})]})})]})})]}),m.jsxs(nt,{children:[m.jsx(En,{children:m.jsxs(Tn,{className:"flex items-center justify-between",children:[m.jsx("span",{children:"Seus Cupons"}),m.jsx(Gu,{className:"h-5 w-5 text-gold-500"})]})}),m.jsx(At,{children:(()=>{const y=i.filter(T=>{const v=!T.usado,_=new Date(T.validoAte)>new Date;return v&&_});return y.length>0?m.jsx("div",{className:"space-y-3",children:y.map(T=>{const v=Math.ceil((new Date(T.validoAte).getTime()-Date.now())/864e5),_=v<=3;return m.jsx("div",{className:"border-2 border-dashed border-gold-500 rounded-lg p-4 bg-gold-50",children:m.jsxs("div",{className:"text-center",children:[m.jsxs("div",{className:"text-xl font-bold text-gold-600 mb-1",children:[(T.valorDesconto*100).toFixed(0),"% OFF"]}),m.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Desconto disponível"}),m.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-500 mb-2",children:[m.jsx(h2,{className:"h-4 w-4 mr-1"}),m.jsxs("span",{children:["Válido até ",new Date(T.validoAte).toLocaleDateString("pt-BR")]})]}),m.jsx("div",{className:`text-xs mb-3 font-medium ${_?"text-red-600":"text-gray-600"}`,children:v>0?v===1?"Expira amanhã!":`Faltam ${v} dias`:"Expira hoje!"}),m.jsxs(Ur,{className:`${_?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800"}`,children:[m.jsx(f_,{className:"h-3 w-3 mr-1"}),_?"Expirando":"Válido"]})]})},T.id)})}):m.jsxs("div",{className:"text-center py-8",children:[m.jsx(Gu,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),m.jsx("p",{className:"text-gray-500",children:"Nenhum cupom disponível"}),m.jsx("p",{className:"text-xs text-gray-400",children:"Complete 10 carimbos para ganhar um desconto!"})]})})()})]})]}),o.length>0&&m.jsxs(nt,{children:[m.jsx(En,{children:m.jsxs(Tn,{className:"flex items-center",children:[m.jsx(Ox,{className:"h-5 w-5 mr-2 text-gold-500"}),"Últimas Compras"]})}),m.jsx(At,{children:m.jsx("div",{className:"space-y-3",children:o.map(y=>m.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 last:border-b-0",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-gray-900",children:new Date(y.data).toLocaleDateString("pt-BR")}),m.jsxs("p",{className:"text-sm text-gray-500",children:[y.carimbosGerados," carimbos ganhos"]})]}),m.jsx("div",{className:"text-right",children:m.jsxs("p",{className:"font-semibold text-gray-900",children:["R$ ",y.valorCompra.toFixed(2)]})})]},y.id))})})]})]}):m.jsx(nt,{children:m.jsxs(At,{className:"text-center py-8",children:[m.jsx(p_,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),m.jsx("p",{className:"text-gray-500 text-lg",children:"Cliente não encontrado"}),m.jsx("p",{className:"text-gray-400 text-sm",children:"Verifique se o CPF foi digitado corretamente"})]})})})]})})}function H5(){const[t,e]=E.useState("client"),[n,r]=E.useState("login"),[i,s]=E.useState(!1),o=()=>{e("client"),s(!1)},a=()=>{e("admin"),r("login"),s(!1)},c=()=>{r("dashboard")},u=()=>{r("login")};return m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m.jsxs("header",{className:"bg-black shadow-lg",children:[m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"flex justify-between items-center py-4",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(I2,{className:"text-gold-500 text-2xl"}),m.jsx("h1",{className:"text-xl font-bold text-white",children:"Six Dry Aged"}),m.jsx("span",{className:"text-gold-400 text-sm font-medium",children:"Fidelidade"})]}),m.jsxs("nav",{className:"hidden md:flex space-x-6",children:[m.jsxs(tt,{variant:"ghost",onClick:o,className:`text-white hover:text-gold-400 transition-colors duration-200 ${t==="client"?"text-gold-400":""}`,children:[m.jsx(g_,{className:"h-4 w-4 mr-2"}),"Área do Cliente"]}),m.jsxs(tt,{variant:"ghost",onClick:a,className:`text-white hover:text-gold-400 transition-colors duration-200 ${t==="admin"?"text-gold-400":""}`,children:[m.jsx(m_,{className:"h-4 w-4 mr-2"}),"Painel Admin"]})]}),m.jsx(tt,{variant:"ghost",size:"sm",className:"md:hidden text-white",onClick:()=>s(!i),children:m.jsx(g2,{className:"h-5 w-5"})})]})}),i&&m.jsx("div",{className:"md:hidden bg-gray-900",children:m.jsxs("div",{className:"px-4 py-3 space-y-2",children:[m.jsxs(tt,{variant:"ghost",onClick:o,className:"block w-full text-left text-white hover:text-gold-400 py-2",children:[m.jsx(g_,{className:"h-4 w-4 mr-2"}),"Área do Cliente"]}),m.jsxs(tt,{variant:"ghost",onClick:a,className:"block w-full text-left text-white hover:text-gold-400 py-2",children:[m.jsx(m_,{className:"h-4 w-4 mr-2"}),"Painel Admin"]})]})})]}),m.jsxs("main",{children:[t==="client"&&m.jsx(B5,{}),t==="admin"&&m.jsxs(m.Fragment,{children:[n==="login"&&m.jsx(a6,{onLoginSuccess:c}),n==="dashboard"&&m.jsx(z5,{onLogout:u})]})]})]})}function q5(){return m.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:m.jsx(nt,{className:"w-full max-w-md mx-4",children:m.jsxs(At,{className:"pt-6",children:[m.jsxs("div",{className:"flex mb-4 gap-2",children:[m.jsx(d2,{className:"h-8 w-8 text-red-500"}),m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),m.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function W5(){return m.jsxs(jk,{children:[m.jsx(J0,{path:"/",component:H5}),m.jsx(J0,{component:q5})]})}function K5(){return m.jsx(lN,{client:dN,children:m.jsxs(OO,{children:[m.jsx(oD,{}),m.jsx(W5,{})]})})}UT(document.getElementById("root")).render(m.jsx(K5,{}));
